!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=25)}([function(t,e){var r={},n={};t.exports={init:()=>function(){var t=1;o(t++,"stone",0,["block/stone"],{},{drop:"cobblestone",hardness:4,tool:"pickaxe",power:1,material:"rock"}),o(t++,"dirt",0,["block/dirt"],{},{drop:"dirt",hardness:2.5,tool:"shovel",material:"grass"}),o(t++,"grass",0,["block/grass_top","block/dirt","block/grass_side"],{},{drop:"dirt",hardness:2.5,tool:"shovel",material:"grass"}),o(t++,"grass_snow",0,["block/snow","block/dirt","block/grass_snow"],{},{drop:"dirt",hardness:2.5,tool:"shovel",material:"grass"}),o(t++,"cobblestone",0,["block/cobblestone"],{},{drop:"cobblestone",hardness:5,tool:"pickaxe",power:1,material:"rock"}),o(t++,"log",0,["block/log_top","block/log"],{},{drop:"log",hardness:4,tool:"axe",material:"wood"}),o(t++,"sand",0,["block/sand"],{},{drop:"sand",hardness:2.5,tool:"shovel",material:"grass"}),o(t++,"leaves",0,["block/leaves"],{opaque:!1},{drop:"leaves"}),o(t++,"water",0,["block/water"],{material:"water",fluid:!0,fluidDensity:20,viscosity:20.5},{}),o(t++,"red_flower",1,["block/red_flower"],{solid:!1,opaque:!1},{drop:"red_flower"}),o(t++,"grass_plant",1,["block/grass_plant"],{solid:!1,opaque:!1},{drop:"grass_plant"}),o(t++,"yellow_flower",1,["block/yellow_flower"],{solid:!1,opaque:!1},{drop:"yellow_flower"}),o(t++,"bricks",0,["block/bricks"],{},{drop:"bricks",hardness:3,tool:"pickaxe",power:1,material:"rock"}),o(t++,"planks",0,["block/planks"],{},{drop:"planks",hardness:3,tool:"axe",material:"wood"}),o(t++,"glass",0,["block/glass"],{opaque:!1},{drop:"glass",hardness:2,tool:"pickaxe",material:"glass"}),o(t++,"bookshelf",0,["block/planks","block/bookshelf"],{},{drop:"bookshelf",hardness:3,tool:"axe",material:"wood"}),o(t++,"barrier",0,[],{material:"barrier"},{illegal:!0,unbreakable:!0,tool:"admin",power:1/0}),o(t++,"snow",0,["block/snow"],{},{drop:"snow",hardness:2,tool:"shovel",material:"grass"}),o(t++,"coal_ore",0,["block/coal_ore"],{},{drop:"coal",hardness:4.5,tool:"pickaxe",power:1,material:"rock"}),o(t++,"iron_ore",0,["block/iron_ore"],{},{drop:"iron_ore",hardness:5.5,tool:"pickaxe",power:2,material:"rock"}),o(t++,"cactus",2,["block/cactus_top","block/cactus_side"],{opaque:!1},{drop:"cactus",hardness:3,tool:"axe"}),o(t++,"deadbush",1,["block/deadbush"],{solid:!1,opaque:!1},{drop:"deadbush"}),o(t++,"gravel",0,["block/gravel"],{},{drop:"gravel",hardness:2.5,tool:"shovel",material:"rock"}),o(t++,"crafting",0,["block/crafting_table_top","block/oak_planks","block/crafting_table_side"],{},{drop:"crafting",hardness:2,tool:"axe",material:"wood"}),o(t++,"stonebrick",0,["block/stonebrick"],{},{drop:"stonebrick",hardness:3,tool:"pickaxe",material:"rock"});var e=["white","yellow","red","purple","pink","orange","magenta","lime","light_blue","green","gray","cyan","brown","blue","black"];function o(t,e,o,i,s,a){n[e]=t,r[t]={name:e,type:o,texture:i,options:s,data:a}}e.forEach((function(e){o(t++,e+"_wool",0,["block/"+e+"_wool"],{},{drop:e+"_wool",hardness:1,tool:"shears",material:"cloth"})})),e.forEach((function(e){o(t++,e+"_stained_glass",4,["block/"+e+"_stained_glass"],{opaque:!1},{drop:e+"_stained_glass",hardness:1,tool:"pickaxe",material:"glass"})})),o(t++,"birch_log",0,["block/birch_log_top","block/birch_log"],{},{drop:"birch_log",hardness:4,tool:"axe",material:"wood"}),o(t++,"birch_leaves",0,["block/birch_leaves"],{opaque:!1},{drop:"birch_leaves"}),o(t++,"birch_planks",0,["block/birch_planks"],{},{drop:"birch_planks",hardness:3.5,tool:"axe",material:"wood"}),o(t++,"spruce_log",0,["block/spruce_log_top","block/spruce_log"],{},{drop:"spruce_log",hardness:4,tool:"axe",material:"wood"}),o(t++,"spruce_leaves",0,["block/spruce_leaves"],{opaque:!1},{drop:"spruce_leaves"}),o(t++,"spruce_planks",0,["block/spruce_planks"],{},{drop:"spruce_planks",hardness:4,tool:"axe",material:"wood"}),o(t++,"iron_block",0,["block/iron_block"],{},{drop:"iron_block",hardness:5.5,tool:"pickaxe",power:2,material:"rock"}),o(t++,"gold_block",0,["block/gold_block"],{},{drop:"gold_block",hardness:5.5,tool:"pickaxe",power:3,material:"rock"})}(),get:()=>r,getIDs:()=>n}},function(t,e){var r={};t.exports={init(){!function(){e("stone","Stone","block","block/stone",{stack:64}),e("dirt","Dirt","block","block/dirt",{stack:64}),e("grass","Grass block","block","block/grass_side",{stack:64}),e("grass_snow","Snowy grass block","block","block/grass_snow",{stack:64}),e("cobblestone","Cobblestone","block","block/cobblestone",{stack:64}),e("log","Log","block","block/log",{stack:64}),e("sand","Sand","block","block/sand",{stack:64}),e("leaves","Leaves","block","block/leaves",{stack:64}),e("red_flower","Poppy","block-flat","block/red_flower",{stack:64}),e("grass_plant","Grass","block-flat","block/grass_plant",{stack:64}),e("yellow_flower","Dandelion","block-flat","block/yellow_flower",{stack:64}),e("bricks","Bricks","block","block/bricks",{stack:64}),e("planks","Planks","block","block/planks",{stack:64}),e("glass","Glass","block","block/glass",{stack:64}),e("bookshelf","Bookshelf","block","block/bookshelf",{stack:64}),e("snow","Snow block","block","block/snow",{stack:64}),e("coal_ore","Coal ore","block","block/coal_ore",{stack:64}),e("iron_ore","Iron ore","block","block/iron_ore",{stack:64}),e("cactus","Cactus","block","block/cactus_side",{stack:64}),e("stonebrick","Stone brick","block","block/stonebrick",{stack:64});var t=["white","yellow","red","purple","pink","orange","magenta","lime","light_blue","green","gray","cyan","brown","blue","black"];function e(t,e,n,o,i){return r[t]={name:e,type:n,texture:o,data:i},t}t.forEach((function(t){e(t+"_wool",t+"_wool","block","block/"+t+"_wool",{stack:64})})),t.forEach((function(t){e(t+"_stained_glass",t+"_stained_glass","block","block/"+t+"_stained_glass",{stack:64})})),e("birch_leaves","Birch leaves","block","block/birch_leaves",{stack:64}),e("birch_log","Birch log","block","block/birch_log",{stack:64}),e("birch_planks","Birch planks","block","block/birch_planks",{stack:64}),e("spruce_leaves","Spruce leaves","block","block/spruce_leaves",{stack:64}),e("spruce_log","Spruce log","block","block/spruce_log",{stack:64}),e("spruce_planks","Spruce planks","block","block/spruce_planks",{stack:64}),e("iron_block","Iron block","block","block/iron_block",{stack:64}),e("gold_block","Gold block","block","block/gold_block",{stack:64}),e("crafting","Crafting table","block","block/crafting_table_top",{stack:64})}()},get:()=>r,getStack:t=>function(t){if(null!=r[t]&&r[t].data.stack>0)return r[t].data.stack}(t)}},function(t,e,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(r,n){function o(){void 0!==i&&t.removeListener("error",i),r([].slice.call(arguments))}var i;"error"!==e&&(i=function(r){t.removeListener(e,o),n(r)},t.once("error",i)),t.once(e,o)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,r,n){var o,i,s,a;if(c(r),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),s=i[e]),void 0===s)s=i[e]=r,++t._eventsCount;else if("function"==typeof s?s=i[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=l(t))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=f.bind(n);return o.listener=r,n.wrapFn=o,o}function d(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(o):g(o,o.length)}function v(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else{var c=u.length,l=g(u,c);for(r=0;r<c;++r)i(l[r],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return c(e),this.on(t,p(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,p(this,t,e)),this},a.prototype.removeListener=function(t,e){var r,n,o,i,s;if(c(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},a.prototype.listenerCount=v,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e,r){try{var n=r(!function(){var t=new Error("Cannot find module 'terminal-kit'");throw t.code="MODULE_NOT_FOUND",t}()).terminal}catch(t){n=t=>{console.log("Server: "+t)}}function o(){var t=new Date,e=t.getHours().toString(),r=t.getMinutes().toString(),n=t.getSeconds().toString();return(2==e.length?e:"0"+e)+":"+(2==r.length?r:"0"+r)+":"+(2==n.length?n:"0"+n)}t.exports={log:function(){for(var t=0;t<arguments.length;t++)n("["+o()+"] "+arguments[t]);n("\n")},chat:function(){for(var t=0;t<arguments.length;t++)n("["+o()+" - ^yChat^:] "+arguments[t]);n("\n")},error:function(){for(var t=0;t<arguments.length;t++)n("["+o()+" - ^rError!^:] ^r"+arguments[t]);n("\n")},obj:console.log}},function(t,e,r){(function(e){try{t.exports=r(!function(){var t=new Error("Cannot find module 'fs'");throw t.code="MODULE_NOT_FOUND",t}())}catch(a){var n={},o="default";e.window={indexedDB:indexedDB};const{Sifrr:u}=r(26);var i=new u.Storage({priority:["indexeddb"],name:"worlds",version:1,desciption:"All worlds",size:5242880});function s(t){var e=t.split("/");return"."==e[0]&&e.shift(),e}t.exports={async init(t){o=t;const e=await i.get([o+"|players",o+"|worlds"]);return null==e[o+"|players"]&&(save={}),n.worlds={...e[o+"|worlds"]},n.players={...e[o+"|players"]},console.log({...n.worlds},{...e[o+"|worlds"]}),setInterval(async()=>{i.set(o+"|worlds",n.worlds),i.set(o+"|players",n.players),console.log("Saved",n)},1e4),!0},async writeFile(t,e,r){var o=s(t),i=n;o.forEach(t=>{t==o[o.length-1]?i[t]=e.valueOf():null!=i[t]?i=i[t]:r("This path doesn't exist!")})},existsSync(t){var e=n,r=s(t);return r.forEach(t=>{if(t==r[r.length-1])return!0;null!=e[t]&&(e=e[t])}),!1},readFileSync(t){var e=n,r=s(t);r.forEach(t=>t==r[r.length-1]?e[t]:null==e[t]?null:void(e=e[t]))},mkdirSync(t){var e=n,r=s(t);r.forEach(t=>t==r[r.length-1]?(e[t]={},!0):null!=e[t]&&void(e=e[t]))}}}}).call(this,r(9))},function(t){t.exports=JSON.parse('{"port":0,"address":"","name":"Internal server","motd":"","public":false,"maxplayers":1,"world":{"seed":43242345,"border":200,"spawn":[0,100,0],"generator":"normal"}}')},function(t,e,r){(function(e){const n=r(4),o=r(10),i=r(11),s=r(3),a=r(0).getIDs();var u={},c={normal:r(34),flat:r(38)},l={gen:!0,ver:1};function h(t){return n.existsSync("./worlds/"+t)}function f(t){var e=Math.floor(t[0]/24),r=Math.floor(t[2]/24),n=t[0]%24,o=t[1],i=t[2]%24;return n<0&&(n+=24),i<0&&(i+=24),{id:[e,r],pos:[n,o,i]}}class p{constructor(t,e,r,o){this.name=t,this.seed=e,this.generator=new c[r](e,a),this.version=null==o?1:o,this.chunks={},this.entities={},this.folder="./worlds/"+t,this.chunkFolder="./worlds/"+t+"/chunks",n.existsSync(this.folder)||n.mkdirSync(this.folder),n.existsSync(this.chunkFolder)||n.mkdirSync(this.chunkFolder),n.writeFile(this.folder+"/world.json",JSON.stringify(this.getSettings()),(function(t){t&&s.error("Cant save world "+this.name+"! Reason: "+t)})),this.autoSaveInterval=setInterval(async()=>{this.saveAll()},3e4),this.chunkUnloadInterval=setInterval(async()=>{Object.keys(this.chunks).forEach(t=>{Date.now()-this.chunks[t].lastUse>=5e3&&this.chunks[t].forceload&&this.unloadChunk(t)})},1e3)}async getChunk(t,e){if(null!=this.chunks[t])return this.chunks[t];if(this.existChunk(t).metadata){var r=this.readChunk(t);return this.chunks[t]=new d(t,r.chunk,r.metadata),this.chunks[t]}if(e){if(this.existChunk(t).chunk){r=this.readChunk(t);return this.chunks[t]=new d(t,r.chunk,{...l}),this.chunks[t]}r=new o(new Uint16Array(69120),[24,120,24]);var n=this.generator.generateChunk(t,r);return this.chunks[t]=new d(t,n,{...l}),this.chunks[t]}}existChunk(t){return{chunk:n.existsSync(this.chunkFolder+"/"+t+".chk"),metadata:n.existsSync(this.chunkFolder+"/"+t+".json")}}saveAll(){var t=Object.keys(this.chunks);n.writeFile(this.folder+"/world.json",JSON.stringify(this.getSettings()),(function(t){t&&s.error("Cant save world "+this.name+"! Reason: "+t)})),t.forEach(t=>{this.saveChunk(t)})}saveChunk(t){var r=this.chunks[t],o=e.from(i.encode(r.data.data));n.writeFile(this.chunkFolder+"/"+t+".chk",o,(function(e){e&&s.error("Cant save chunk "+t+"! Reason: "+e)})),n.writeFile(this.chunkFolder+"/"+t+".json",JSON.stringify(r.metadata),(function(e){e&&s.error("Cant save chunkdata "+t+"! Reason: "+e)}))}readChunk(t){var e=this.existChunk(t),r=null,s=null;if(e.chunk){var a=n.readFileSync(this.chunkFolder+"/"+t+".chk"),u=i.decode([...a],new Uint16Array(69120));r=new o(u,[24,120,24])}if(e.metadata)a=n.readFileSync(this.chunkFolder+"/"+t+".json"),s=JSON.parse(a);return{chunk:r,metadata:s}}unloadChunk(t){this.saveChunk(t),delete this.chunks[t]}getSettings(){return{name:this.name,seed:this.seed,generator:this.generator.name,version:this.version}}getBlock(t,e){var r=f(t);if(null!=this.chunks[r.id])return this.chunks[r.id].data.get(r.pos[0],r.pos[1],r.pos[2])}setBlock(t,e,r){var n=f(t);null!=this.chunks[n.id]&&this.chunks[n.id].data.set(n.pos[0],n.pos[1],n.pos[2],e)}unload(){this.saveAll(),clearInterval(this.autoSaveInterval),clearInterval(this.chunkUnloadInterval),setTimeout((function(){delete u[this.name]}),50)}}class d{constructor(t,e,r,n){this.id=t,this.data=e,this.metadata=r,this.lastUse=Date.now(),this.forceload=!!n}keepAlive(){this.lastUse=Date.now()}}t.exports={create:function(t,e,r){return 0==h(t)&&null==u[t]?(u[t]=new p(t,e,r,null),u[t]):null},load:function(t){if(1==h(t)&&null==u[t]){var e=JSON.parse(n.readFileSync("./worlds/"+t+"/world.json"));return u[t]=new p(t,e.seed,e.generator,e.version),u[t]}return null},unload:function(t){u[t].unload(),s.log("Unloaded world "+t)},exist:h,get:function(t){return u[t]},getAll:()=>u,toChunk:f,validateID:function(t){return null!=t&&null!=t&&(null!=t[0]&&null!=t[0]&&(null!=t[1]&&null!=t[1]&&void 0))},addGenerator(t,e){e[t]=e}}}).call(this,r(27).Buffer)},function(t,e,r){const n=r(2),o=r(40),i=new n,s=r(8),a=r(6),u=r(1),c=r(0).getIDs(),l=r(0).get(),h=r(11),f=r(74),p=r(75),d=r(4),v=r(3);var g=r(5);const{PlayerInventory:y}=r(76);var b,m={},k=[];function w(t,e){d.writeFile("./players/"+t+".json",JSON.stringify(e),(function(e){e&&v.error("Cant save player "+t+"! Reason: "+e)}))}f.setPlayer(m);class _{constructor(t,e,r){if(this.id=t,this.nickname=e,function(t){var e=t+".json";return d.existsSync("./players/"+e)}(this.id))var n=function(t){try{var e=t+".json",r=d.readFileSync("./players/"+e);return JSON.parse(r)}catch(e){v.error("Tried to load data of player "+t+", but it failed! Error: ",e)}}(this.id);null==n?(this.entity=s.create({name:e,nametag:!0,type:"player",health:20,maxhealth:20,model:"player",texture:"entity/steve",position:g.world.spawn,rotation:0,hitbox:[.55,1.9,.55]},"default"),this.world="default",this.inventory=new y(10)):(this.entity=s.recreate(n.entity.id,{name:n.entity.data.name,nametag:n.entity.data.nametag,type:"player",health:n.entity.data.health,maxhealth:n.entity.data.maxhealth,model:"player",texture:"entity/steve",position:n.entity.data.position,rotation:n.entity.data.rotation,hitbox:[.55,1.9,.55]},n.world),this.world=n.world,this.inventory=new y(10,n.inventory)),this.socket=r,this.chunks={},w(this.id,this.getObject())}getObject(){return{id:this.id,nickname:this.nickname,entity:this.entity.getObject(),inventory:this.inventory.getObject(),world:this.world}}remove(){w(this.id,this.getObject()),this.entity.remove(),setTimeout(()=>{delete m[this.id]},10)}teleport(t,e){this.entity.teleport(t,e),this.socket.emit("teleport",t)}move(t){i.emit("player-move",{id:this.id,pos:t}),this.entity.move(t)}send(t){this.socket.emit("chat",t)}rotate(t){i.emit("player-rotate",{id:this.id,rot:t}),this.entity.rotate(t)}get getID(){return this.id}action_blockbreak(t){var e={id:this.id,data:t};if(1!=p.execute("player-blockbreak",e)&&(null!=e.data||3==e.data.lenght)){if(Math.abs(e.data[0])>=12e4||Math.abs(e.data)>=12e4)return;var r=a.get(this.world).getBlock(e.data),n=this.entity.data.position;o.dist(n,e.data)<14&&null!=r&&0!=r&&1!=l[r].data.unbreakable&&(a.get(this.world).setBlock(t,0),b.emit("block-update",{id:0,pos:e.data}))}}action_blockplace(t){var e={id:this.id,data:t};if(1!=p.execute("player-blockplace",e)){var r=this.inventory,n=r.main[r.selected],i=this.entity.data.position;o.dist(i,e.data)<14&&null!=n&&null!=n.id&&("block"!=u.get()[n.id].type&&"block-flat"!=u.get()[n.id].type||(a.get(this.world).setBlock(e.data,c[n.id]),b.emit("block-update",{id:c[n.id],pos:e.data})))}}action_invclick(t){null==t.inventory&&(t.inventory=this.inventory);var e={id:this.id,data:t};1!=p.execute("player-inventoryclick",e)&&-2<e.data.slot<35&&("left"==e.data.type?this.inventory.action_left(e.data.inventory,e.data.slot):"right"==e.data.type?this.inventory.action_right(e.data.inventory,e.data.slot):"switch"==e.data.type?this.inventory.action_switch(e.data.slot,e.data.slot2):-1<e.data.slot<9&&"select"==e.data.type&&this.inventory.select(e.data.slot))}action_chatsend(t){var e,r,n={id:this.id,data:t};1!=p.execute("player-chatsend",n)&&("/"==n.data.charAt(0)?f.execute(this.id,n.data):""!=n.data&&(e=-2,r=this.nickname+" Â» "+n.data,"#console"==e?v.log(r):"#all"==e?(v.chat(r),b.emit("chat",r)):m.id.send(r)))}action_move(t){var e={id:this.id,data:t};if(1!=p.execute("player-move",e)){var r=this.entity.data.position;Math.abs(e.data.pos[0])>12e4||Math.abs(e.data.pos[2])>12e4?this.socket.emit("teleport",r):(o.dist(r,e.data.pos)<20&&this.move(e.data.pos),this.rotate(e.data.rot))}}}setInterval((async function(){var t=Object.keys(m);t.forEach((async function(t){for(var e=m[t].entity.chunk,r={...m[t].chunks},n=0;n<=3;n++)for(var o=0-n;o<=0+n;o++)for(var i=0-n;i<=0+n;i++){var s=[e[0]+o,e[1]+i];null==r[s]&&(m[t].chunks[s]=!0,k.push([t,s])),null!=a.get(m[t].world).chunks[s]&&a.get(m[t].world).chunks[s].keepAlive(),r[s]=!1}Object.entries(r).forEach((function(e){1==e[1]&&delete m[t].chunks[e[0]]}))}))}),1e3),setInterval((async function(){var t,e;null!=k[0]&&(t=k[0][0],e=k[0][1],i.emit("sendChunk",t,e),null!=m[t]&&a.get(m[t].world).getChunk(e,!0).then((function(r){null!=r&&null!=m[t]&&(r.keepAlive(),m[t].socket.emit("chunkdata",{id:e,chunk:h.encode(r.data.data)}))})),k.shift())}),100),setInterval((async function(){Object.values(m).forEach((function(t){1!=t.inventory.updated&&(t.inventory.updated=!0,t.socket.emit("inventory-update",{...t.inventory}))}))}),50),p.create("player-blockbreak",5),p.create("player-blockplace",5),p.create("player-move",5),p.create("player-inventoryclick",5),p.create("player-chatsend",5),t.exports={create:function(t,e,r){return m[t]=new _(t,e.username,r),i.emit("create",m[t]),m[t]},get:t=>m[t],getAll:()=>m,setIO(t){b=t},event:i}},function(t,e,r){var n=r(6);const o=r(77).v4;var i;class s{constructor(t,e,r,o){this.data=e,null==e.position&&(this.data.position=[0,0,0]),null==e.rotation&&(this.data.rotation=0),this.id=t,this.world=r,this.chunk=n.toChunk(this.data.position).id,this.tick=o instanceof Function?o:function(){}}getObject(){return{id:this.id,data:this.data,chunk:this.chunk}}teleport(t,e){this.world=e,this.data.position=t,this.chunk=n.toChunk(t).id,i.emit("entity-move",{id:this.id,data:{pos:this.data.position,rot:this.data.rotation}})}move(t){this.data.position=t,this.chunk=n.toChunk(t).id,i.emit("entity-move",{id:this.id,data:{pos:this.data.position,rot:this.data.rotation}})}rotate(t){this.data.rotation=t,i.emit("entity-move",{id:this.id,data:{pos:this.data.position,rot:this.data.rotation}})}remove(){try{var t=this.id;if(i.emit("entity-despawn",t),"player"!=this.data.type){var e=n.get(this.world);null!=e.entities[t]&&delete e.entities[t]}}catch(t){console.log("Server tried to remove entity, but it didn't work! Error: ",t)}}getID(){return this.id}}t.exports={create:function(t,e){var r=o();return n.get(e).entities[r]=new s(r,t,e),i.emit("entity-spawn",{id:r,data:n.get(e).entities[r].data}),n.get(e).entities[r]},recreate:function(t,e,r){return n.get(r).entities[t]=new s(t,e),i.emit("entity-spawn",{id:t,data:n.get(r).entities[t].data}),n.get(r).entities[t]},get:(t,e)=>n.get(t).entities[e],getAll:t=>n.get(t).entities,setIO(t){i=t}}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var n=r(31),o=r(32),i="undefined"!=typeof Float64Array;function s(t,e){return t[0]-e[0]}function a(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(s);var n=new Array(r.length);for(t=0;t<n.length;++t)n[t]=r[t][1];return n}function u(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var o="generic"===t;if(-1===e){var i="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(i)()}if(0===e){i="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(o?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(o?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return new Function("TrivialArray",i)(c[t][0])}i=["'use strict'"];var s=n(e),u=s.map((function(t){return"i"+t})),l="this.offset+"+s.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),h=s.map((function(t){return"b"+t})).join(","),f=s.map((function(t){return"c"+t})).join(",");i.push("function "+r+"(a,"+h+","+f+",d){this.data=a","this.shape=["+h+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),i.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+s.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===e?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),e<4?(i.push("function "+r+"_order(){"),2===e?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),o?i.push("return this.data.set("+l+",v)}"):i.push("return this.data["+l+"]=v}"),i.push("proto.get=function "+r+"_get("+u.join(",")+"){"),o?i.push("return this.data.get("+l+")}"):i.push("return this.data["+l+"]}"),i.push("proto.index=function "+r+"_index(",u.join(),"){return "+l+"}"),i.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+s.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+s.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var p=s.map((function(t){return"a"+t+"=this.shape["+t+"]"})),d=s.map((function(t){return"c"+t+"=this.stride["+t+"]"}));i.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+d.join(","));for(var v=0;v<e;++v)i.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");i.push("return new "+r+"(this.data,"+s.map((function(t){return"a"+t})).join(",")+","+s.map((function(t){return"c"+t})).join(",")+",b)}"),i.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+s.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+s.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(v=0;v<e;++v)i.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");i.push("return new "+r+"(this.data,"+s.map((function(t){return"a"+t})).join(",")+","+s.map((function(t){return"b"+t})).join(",")+",c)}");var g=new Array(e),y=new Array(e);for(v=0;v<e;++v)g[v]="a[i"+v+"]",y[v]="b[i"+v+"]";i.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map((function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+y.join(",")+",this.offset)}"),i.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset");for(v=0;v<e;++v)i.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map((function(t){return"shape["+t+"]"})).join(",")+","+s.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(c[t],a)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(t,e,r,n){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===r){r=new Array(s);for(var a=s-1,l=1;a>=0;--a)r[a]=l,l*=e[a]}if(void 0===n){n=0;for(a=0;a<s;++a)r[a]<0&&(n-=(e[a]-1)*r[a])}for(var h=function(t){if(o(t))return"buffer";if(i)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),f=c[h];f.length<=s+1;)f.push(u(h,f.length-1));return(0,f[s+1])(t,e,r,n)}},function(t,e,r){var n=r(33);function o(t){for(var e,r,o=0,i=t.length,s=0;s<t.length;){for(e=t[s],r=0;s<i&&t[s]===e;)++s,++r;o+=n.log2(r)/7|0,o+=n.log2(e>>>0)/7|0,o+=2}return o}e.size=o,e.encode=function(t,e){e||(e=new Uint8Array(o(t)));for(var r,n,i=0,s=e.length,a=0;a<t.length;){for(r=t[a],n=0;a<t.length&&t[a]===r;)++a,++n;for(;i<s&&n>=128;)e[i++]=128+(127&n),n>>>=7;if(i>=s)throw new Error("RLE buffer overflow");for(e[i++]=n,r>>>=0;i<s&&r>=128;)e[i++]=128+(127&r),r>>>=7;if(i>=s)throw new Error("RLE buffer overflow");e[i++]=r}return e},e.decode=function(t,e){for(var r,n,o,i,s=e.length,a=t.length,u=0,c=0;c<a;){for(r=0,n=0;c<a&&t[c]>=128;)r+=(127&t[c++])<<n,n+=7;if(r+=t[c++]<<n,c>=a)throw new Error("RLE buffer underrun");if(u+r>s)throw new Error("Chunk buffer overflow");for(o=0,n=0;c<a&&t[c]>=128;)o+=(127&t[c++])<<n,n+=7;if(c>=a)throw new Error("RLE buffer underrun");for(o+=t[c++]<<n,i=0;i<r;++i)e[u++]=o}return e}},function(t,e,r){"use strict";var n,o,i;t.exports=(n=3432918353,o=461845907,i=Math.pow(2,32),function(){for(var t=arguments.length,e=123,r=0;r<t;r++){var s=0|arguments[r],a=5*(65535&(e=(e^=s=(65535&(s=(s=(65535&s)*n+(((s>>>16)*n&65535)<<16)&4294967295)<<15|s>>>17))*o+(((s>>>16)*o&65535)<<16)&4294967295)<<13|e>>>19))+((5*(e>>>16)&65535)<<16)&4294967295;e=27492+(65535&a)+((58964+(a>>>16)&65535)<<16)}return e^=t,e=2246822507*(65535&(e^=e>>>16))+((2246822507*(e>>>16)&65535)<<16)&4294967295,e=3266489909*(65535&(e^=e>>>13))+((3266489909*(e>>>16)&65535)<<16)&4294967295,((e^=e>>>16)>>>0)/i})},function(t,e){t.exports=1e-6},function(t,e){t.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},function(t,e){t.exports=function(t,e,r){var n=new Float32Array(3);return n[0]=t,n[1]=e,n[2]=r,n}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],o=e[2],i=r*r+n*n+o*o;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i);return t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}},function(t,e){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)}},function(t,e){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o}},function(t,e){t.exports=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}},function(t,e){t.exports=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}},function(t,e,r){const n=r(2),o=r(4);console.log("Starting VoxelSRV server version 0.0.0 [Protocol: 1]\n");var i=r(5);r(0).init(),r(1).init();const s=r(6),a=r(39).init,u=new n;u.emit2=u.emit;const c=new n;function l(t,e){self.postMessage([t,e])}c.emit2=c.emit,self.onmessage=function(t){c.emit2(t.data[0],t.data[1])},c.emit=l,u.emit=l,c.disconnect=function(){},l("get-world",!0),c.on("select-world",(function(t){console.log("Test: ",t),o.init(t).then(()=>{setTimeout(()=>{o.existsSync("./players")||o.mkdirSync("./players"),o.existsSync("./worlds")||o.mkdirSync("./worlds"),0==s.exist("default")?s.create("default",i.world.seed,i.world.generator):s.load("default"),a(u),r(7).setIO(u),r(8).setIO(u);const t=r(7),e=r(1);t.event.on("create",(function(t){Object.keys(e.get()).forEach((function(r){t.inventory.add(r,e.getStack(r),{})}))})),setTimeout(()=>{u.emit2("connection",c)},1e3)},500)})}))},function(t,e){
/*! Sifrr.Storage v0.0.5 - sifrr project | MIT licensed | https://github.com/sifrr/sifrr */
this.Sifrr=this.Sifrr||{},this.Sifrr.Storage=function(){"use strict";const t=Object.prototype.toString,e="~SS%l3g5k3~";var r=class{static parse(t){let r=t;if("string"==typeof t)try{r=t=JSON.parse(t)}catch(t){}if("string"==typeof t&&t.indexOf(e)>0){const[n,o,i]=t.split(e);r="ArrayBuffer"===n?new window.Uint8Array(o.split(",")).buffer:"Blob"===n?function(t,e){return new Blob([new window.Uint8Array(t.split(",")).buffer],{type:e})}(i,o):new window[n](o.split(","))}else if(Array.isArray(t))r=[],t.forEach((t,e)=>{r[e]=this.parse(t)});else if("object"==typeof t){if(null===t)return null;r={};for(const e in t)r[e]=this.parse(t[e])}return r}static stringify(r){if("object"!=typeof r)return JSON.stringify(r);if(null===r)return"null";if(Array.isArray(r))return JSON.stringify(r.map(t=>this.stringify(t)));const n=t.call(r).slice(8,-1);if("Object"===n){let t={};for(let e in r)t[e]=this.stringify(r[e]);return JSON.stringify(t)}return"ArrayBuffer"===n?r=new window.Uint8Array(r):"Blob"===n&&(r=r.type+e+function(t){const e=URL.createObjectURL(t),r=new XMLHttpRequest;r.open("GET",e,!1),r.send(),URL.revokeObjectURL(e);const n=new Uint8Array(r.response.length);for(let t=0;t<r.response.length;++t)n[t]=r.response.charCodeAt(t);return n.toString()}(r)),n+e+r.toString()}};const n={}.constructor;var o=class{constructor(t={}){this._options=t,this.name=this._options.name,this.version=this._options.version,this.tableName=this.name+this.version,this.description=this._options.description,this.type=this.constructor.type}_parseKeyValue(t,e){if(void 0===e){if(Array.isArray(t))return t;if("string"==typeof t)return[t];if(t.constructor===n)return t;throw Error("Invalid Key")}if("string"==typeof t){let r={};return r[t]=e,r}throw Error("Invalid Key")}_select(t){return this.all().then(e=>{let r={};return t.forEach(t=>r[t]=e[t]),r})}_upsert(t){let e=this.table;for(let r in t)e[r]=t[r];this.table=e}_delete(t){let e=this.table;t.forEach(t=>delete e[t]),this.table=e}_clear(){this.table={}}_isEqual(t,e){return this.tableName==t.name+t.version&&this.type==e}isSupported(t=!0){return!(!t||"undefined"!=typeof window&&"undefined"!=typeof document)||!(!window||void 0===this.store)}keys(){return this.all().then(t=>Object.keys(t))}all(){return Promise.resolve(this._parsedData())}get(t){return Promise.resolve(this._select(this._parseKeyValue(t)))}set(t,e){return Promise.resolve(this._upsert(this._parseKeyValue(t,e)))}del(t){return Promise.resolve(this._delete(this._parseKeyValue(t)))}clear(){return Promise.resolve(this._clear())}static stringify(t){return r.stringify(t)}static parse(t){return r.parse(t)}};var i=class extends o{constructor(t){super(t)}_parsedData(){return this._tx("readonly","getAllKeys").then(this._select.bind(this))}_select(t){const e={},r=[];return t.forEach(t=>r.push(this._tx("readonly","get",t).then(r=>e[t]=r))),Promise.all(r).then(()=>e)}_upsert(t){const e=[];for(let r in t)e.push(this._tx("readwrite","put",t[r],r));return Promise.all(e)}_delete(t){const e=[];return t.forEach(t=>e.push(this._tx("readwrite","delete",t))),Promise.all(e)}_clear(){return this._tx("readwrite","clear")}_tx(t,e,r,n){const o=this;return this._store=this._store||this.createStore(o.tableName),this._store.then(i=>new Promise((s,a)=>{const u=i.transaction(o.tableName,t).objectStore(o.tableName),c=u[e].call(u,r,n);c.onsuccess=t=>s(t.target.result),c.onerror=t=>a(t.error)}))}get store(){return window.indexedDB}createStore(t){return new Promise((e,r)=>{const n=this.store.open(t,1);n.onupgradeneeded=e=>{e.target.result.createObjectStore(t)},n.onsuccess=()=>e(n.result),n.onerror=()=>r(n.error)})}static get type(){return"indexeddb"}};var s=class extends o{constructor(t){super(t),this.createStore()}_parsedData(){return this.execSql("SELECT key, value FROM ".concat(this.tableName))}_select(t){const e=t.map(()=>"?").join(", ");return this.execSql("SELECT key, value FROM ".concat(this.tableName," WHERE key in (").concat(e,")"),t)}_upsert(t){this.store.transaction(e=>{for(let r in t)e.executeSql("INSERT OR REPLACE INTO ".concat(this.tableName,"(key, value) VALUES (?, ?)"),[r,this.constructor.stringify(t[r])])})}_delete(t){const e=t.map(()=>"?").join(", ");return this.execSql("DELETE FROM ".concat(this.tableName," WHERE key in (").concat(e,")"),t)}_clear(){return this.execSql("DELETE FROM ".concat(this.tableName))}get store(){return window.openDatabase("ss",1,this._options.description,this._options.size)}createStore(){if(window&&"function"==typeof window.openDatabase)return this.execSql("CREATE TABLE IF NOT EXISTS ".concat(this.tableName," (key unique, value)"))}execSql(t,e=[]){const r=this;return new Promise(n=>{r.store.transaction((function(o){o.executeSql(t,e,(t,e)=>{n(r.parse(e))})}))})}parse(t){const e={},r=t.rows.length;for(let n=0;n<r;n++)e[t.rows.item(n).key]=this.constructor.parse(t.rows.item(n).value);return e}static get type(){return"websql"}};var a=class extends o{constructor(t){super(t)}_parsedData(){return this._select(Object.keys(this.store).map(t=>{if(0===t.indexOf(this.tableName))return t.slice(this.tableName.length+1)}).filter(t=>void 0!==t))}_select(t){const e={};return t.forEach(t=>{const r=this.constructor.parse(this.store.getItem(this.tableName+"/"+t));null!==r&&(e[t]=r)}),e}_upsert(t){for(let e in t)this.store.setItem(this.tableName+"/"+e,this.constructor.stringify(t[e]));return!0}_delete(t){return t.map(t=>this.store.removeItem(this.tableName+"/"+t))}_clear(){return Object.keys(this.store).forEach(t=>{0===t.indexOf(this.tableName)&&this.store.removeItem(t)}),!0}get store(){return window.localStorage}static get type(){return"localstorage"}};const u=new Date(0).toUTCString(),c=new RegExp("%3D","g");var l=class extends o{constructor(t){super(t)}_parsedData(){let t=this.store,e={};return t.split("; ").forEach(t=>{let[r,n]=t.split("=");0===r.indexOf(this.tableName)&&(e[r.slice(this.tableName.length+1)]=this.constructor.parse(n.replace(c,"=")))}),e}_upsert(t){for(let e in t)this.store="".concat(this.tableName,"/").concat(e,"=").concat(this.constructor.stringify(t[e]).replace(/=/g,"%3D"),"; path=/");return!0}_clear(){this.store.split("; ").forEach(t=>{const e=t.split("=")[0];0===e.indexOf(this.tableName)&&(this.store="".concat(e,"=; expires=").concat(u,"; path=/"))})}get store(){return document.cookie}set store(t){document.cookie=t}static get type(){return"cookies"}};var h=class extends o{constructor(t,e={}){super(t),this.table=o.parse(e)}_parsedData(){return this.table}get store(){return this.table}static get type(){return"jsonstorage"}};let f={};f[i.type]=i,f[s.type]=s,f[a.type]=a,f[l.type]=l,f[h.type]=h;var p=f;class d{constructor(t){return t="string"==typeof t?{priority:[t]}:t||{},this._options=Object.assign(this.constructor.defaultOptions,t),this.storage}get storage(){let t=this.supportedStore();if(void 0===t)throw Error("No available storage supported in this browser");let e=this.constructor._matchingInstance(this._options,t.type);if(e)return e;{let e=new t(this._options);return this.constructor._add(e),e}}get priority(){return this._options.priority.concat(["indexeddb","websql","localstorage","cookies","jsonstorage"])}supportedStore(){for(let t=0;t<this.priority.length;t++){let e=this.constructor.availableStores[this.priority[t]];if(e&&new e(this._options).isSupported())return e}}static _matchingInstance(t,e){let r,n=this.all,o=n.length;for(r=0;r<o;r++)if(n[r]._isEqual(t,e))return n[r];return!1}static _add(t){this.all.push(t)}static get defaultOptions(){return{priority:[],name:"SifrrStorage",version:1,description:"Sifrr Storage",size:5242880}}static json(t){return new h({},t)}}return d.availableStores=p,d.all=[],d}()},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(28),o=r(29),i=r(30);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),o=(t=a(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=a(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):f(t,e);if("Buffer"===e.type&&i(e.data))return f(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|p(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(n)return F(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return E(this,e,r);case"ascii":return D(this,e,r);case"latin1":case"binary":return M(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,o){var i,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var l=-1;for(i=r;i<a;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){for(var h=!0,f=0;f<u;f++)if(c(t,i+f)!==c(e,f)){h=!1;break}if(h)return i}return-1}function m(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function k(t,e,r,n){return q(F(e,t.length-r),t,r,n)}function w(t,e,r,n){return q(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function _(t,e,r,n){return w(t,e,r,n)}function x(t,e,r,n){return q(Y(e),t,r,n)}function S(t,e,r,n){return q(function(t,e){for(var r,n,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function E(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,s,a,u,c=t[o],l=null,h=c>239?4:c>223?3:c>191?2:1;if(o+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return l(e),e<=0?a(t,e):void 0!==r?"string"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var s=t[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):v.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(i,s),c=this.slice(n,o),l=t.slice(e,r),h=0;h<a;++h)if(c[h]!==l[h]){i=c[h],s=l[h];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return m(this,t,e,r);case"utf8":case"utf-8":return k(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return _(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function M(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function I(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=N(t[i]);return o}function R(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function U(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function T(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function P(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function j(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(t,e,r,n,i){return i||j(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function B(t,e,r,n,i){return i||j(t,0,r,8),o.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},u.prototype.readUInt8=function(t,e){return e||U(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||U(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||U(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||U(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||U(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||U(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||U(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||U(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||U(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||U(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||O(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||O(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);O(this,t,e,r,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);O(this,t,e,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return C(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return C(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return B(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return B(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var s=u.isBuffer(t)?t:F(new u(t,n).toString()),a=s.length;for(i=0;i<r-e;++i)this[i+e]=s[i%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function Y(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}}).call(this,r(9))},function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=c(t),s=n[0],a=n[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)e=o[t.charCodeAt(r)]<<18|o[t.charCodeAt(r+1)]<<12|o[t.charCodeAt(r+2)]<<6|o[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===a&&(e=o[t.charCodeAt(r)]<<2|o[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===a&&(e=o[t.charCodeAt(r)]<<10|o[t.charCodeAt(r+1)]<<4|o[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],s=0,a=r-o;s<a;s+=16383)i.push(l(t,s,s+16383>a?a:s+16383));1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],o[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var o,i,s=[],a=e;a<r;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?o-1:0,f=r?-1:1,p=t[e+h];for(h+=f,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+t[e+h],h+=f,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),i-=c}return(p?-1:1)*s*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,h=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,o),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;t[r+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*v}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";t.exports=function(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var o=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,o=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--o;t[e]=n<<o&255}}(o),e.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){const{makeNoise2D:n,makeNoise3D:o}=r(35),i=r(37);var s=r(12);function a(t,e,r){for(var n=119;n>=0;n-=1){var o=t.get(e,n,r);if(0!=o)return{level:n,block:o}}return null}t.exports=class{constructor(t,e){this.name="normal",this.blockIDs=e,this.seed=t,this.heightNoise=n(Math.round(t*Math.sin(1^t)*1e4)),this.caveNoise=o(Math.round(t*Math.sin(2^t)*1e4)),this.biomeNoise1=n(Math.round(t*Math.sin(3^t)*1e4)),this.biomeNoise2=n(Math.round(t*Math.sin(4^t)*1e4)),this.biomeNoise3=n(Math.round(t*Math.sin(5^t)*1e4)),this.plantSeed=Math.round(t*Math.sin(6^t)*1e4),this.biomeSpacing=100,this.chunkWitdh=24,this.chunkHeight=120,this.waterLevel=40}getBlock(t,e,r){var n=this.biomeNoise2(t/180,r/180);return e<=this.getHeightMap(t,e,r,n)?this.blockIDs.stone:e<=this.waterLevel?this.blockIDs.water:0}getHeightMap(t,e,r,n){var o=140*(this.caveNoise(t/180,e/180,r/180)+.3),i=50*this.caveNoise(t/20,e/20,r/20),s=this.heightNoise(t/140,r/140)*n*20,a=20*this.heightNoise(t/40,r/40);return Math.floor((30*o+20*i+20*s+10*a-3)/65)+30}getBiome(t,e,r,n){return.2<r&&1==n?"desert":-1<r<-.2&&1==n?"iceland":-.3<r<.3&&2==n?"forest":"plants"}generateChunk(t,e){for(var r=t[0]*this.chunkWitdh,n=t[1]*this.chunkWitdh,o=0;o<this.chunkWitdh;o++)for(var u=0;u<this.chunkWitdh;u++)for(var c=0;c<this.chunkHeight;c++){var l=this.getBlock(o+r,c,u+n);0!=l&&(0<c<50&&1==this.getBlock(o+r,c,u+n)&&0==this.getBlock(o+r,c+1,u+n)?e.set(o,c,u,this.blockIDs.grass):0!=this.getBlock(o+r,c+1,u+n)&&this.getBlock(o+r,c,u+n)!=this.blockIDs.water&&0==this.getBlock(o+r,c+3,u+n)?e.set(o,c,u,this.blockIDs.dirt):this.getBlock(o+r,c+1,u+n)==this.blockIDs.water&&0!=this.getBlock(o+r,c,u+n)&&this.getBlock(o+r,c,u+n)!=this.blockIDs.water?e.set(o,c,u,this.blockIDs.gravel):e.set(o,c,u,l))}for(o=0;o<e.shape[0];o++)for(u=0;u<e.shape[2];u++){if(s(o+r,u+n,this.plantSeed)<.1)(f={...a(e,o,u)}).block==this.blockIDs.grass&&e.set(o,f.level+1,u,this.blockIDs.grass_plant);else if(s(o+r,u+n,2*this.plantSeed)<.1){(f={...a(e,o,u)}).block==this.blockIDs.grass&&e.set(o,f.level+1,u,s(o+r,c,u+n,this.plantSeed)<=.5?this.blockIDs.red_flower:this.blockIDs.yellow_flower)}else if(5<o&&o<17&&5<u&&u<17){if(s(o+r,u+n,this.seed)<.02){if((f={...a(e,o,u)}).block==this.blockIDs.grass){var h=i.oakTree(1e3*s(o+r,u+n,this.seed));this.pasteStructure(e,h,o,f.level+1,u)}}else if(s(o+r,u+n,5*this.seed)<.007){var f;if((f={...a(e,o,u)}).block==this.blockIDs.grass){h=i.birchTree(5834*s(o+r,u+n,this.seed));this.pasteStructure(e,h,o,f.level+1,u)}}}}return e}pasteStructure(t,e,r,n,o){for(var i=Math.round(e.shape[0]/2),s=Math.round(e.shape[2]/2),a=0;a<e.shape[0];a++)for(var u=0;u<e.shape[1];u++)for(var c=0;c<e.shape[2];c++)0!=e.get(a,u,c)&&t.set(r-i+a,n+u,o-s+c,e.get(a,u,c))}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(36);function o(t,e,r){return{dx:-e-t*n.SQUISH_2D,dy:-r-t*n.SQUISH_2D,xsb:e,ysb:r}}function i(t,e,r,o){return{dx:-e-t*n.SQUISH_3D,dy:-r-t*n.SQUISH_3D,dz:-o-t*n.SQUISH_3D,xsb:e,ysb:r,zsb:o}}function s(t,e,r,o,i){return{dx:-e-t*n.SQUISH_4D,dy:-r-t*n.SQUISH_4D,dz:-o-t*n.SQUISH_4D,dw:-i-t*n.SQUISH_4D,xsb:e,ysb:r,zsb:o,wsb:i}}function a(t){var e=new Uint32Array(1);return e[0]=1664525*t[0]+1013904223,e}e.makeNoise2D=function(t){for(var e=[],r=0;r<n.p2D.length;r+=4){for(var i=n.base2D[n.p2D[r]],s=null,u=null,c=0;c<i.length;c+=3)u=o(i[c],i[c+1],i[c+2]),null===s?e[r/4]=u:s.next=u,s=u;u.next=o(n.p2D[r+1],n.p2D[r+2],n.p2D[r+3])}var l=[];for(r=0;r<n.lookupPairs2D.length;r+=2)l[n.lookupPairs2D[r]]=e[n.lookupPairs2D[r+1]];var h=new Uint8Array(256),f=new Uint8Array(256),p=new Uint8Array(256);for(r=0;r<256;r++)p[r]=r;var d=new Uint32Array(1);for(d[0]=t,d=a(a(a(d))),r=255;r>=0;r--){d=a(d);var v=new Uint32Array(1);v[0]=(d[0]+31)%(r+1),v[0]<0&&(v[0]+=r+1),h[r]=p[v[0]],f[r]=14&h[r],p[v[0]]=p[r]}return function(t,e){for(var r=(t+e)*n.STRETCH_2D,o=t+r,i=e+r,s=Math.floor(o),a=Math.floor(i),u=(s+a)*n.SQUISH_2D,c=t-(s+u),p=e-(a+u),d=o-s,v=i-a,g=d+v,y=0,b=l[d-v+1|g<<1|g+v<<2|g+d<<4];void 0!==b;b=b.next){var m=c+b.dx,k=p+b.dy,w=2-m*m-k*k;if(w>0){var _=s+b.xsb,x=a+b.ysb,S=h[255&_],A=f[S+x&255];y+=w*w*w*w*(n.gradients2D[A]*m+n.gradients2D[A+1]*k)}}return y*n.NORM_2D}},e.makeNoise3D=function(t){for(var e=[],r=0;r<n.p3D.length;r+=9){for(var o=n.base3D[n.p3D[r]],s=null,u=null,c=0;c<o.length;c+=4)u=i(o[c],o[c+1],o[c+2],o[c+3]),null===s?e[r/9]=u:s.next=u,s=u;u.next=i(n.p3D[r+1],n.p3D[r+2],n.p3D[r+3],n.p3D[r+4]),u.next.next=i(n.p3D[r+5],n.p3D[r+6],n.p3D[r+7],n.p3D[r+8])}var l=[];for(r=0;r<n.lookupPairs3D.length;r+=2)l[n.lookupPairs3D[r]]=e[n.lookupPairs3D[r+1]];var h=new Uint8Array(256),f=new Uint8Array(256),p=new Uint8Array(256);for(r=0;r<256;r++)p[r]=r;var d=new Uint32Array(1);for(d[0]=t,d=a(a(a(d))),r=255;r>=0;r--){d=a(d);var v=new Uint32Array(1);v[0]=(d[0]+31)%(r+1),v[0]<0&&(v[0]+=r+1),h[r]=p[v[0]],f[r]=h[r]%24*3,p[v[0]]=p[r]}return function(t,e,r){for(var o=(t+e+r)*n.STRETCH_3D,i=t+o,s=e+o,a=r+o,u=Math.floor(i),c=Math.floor(s),p=Math.floor(a),d=(u+c+p)*n.SQUISH_3D,v=t-(u+d),g=e-(c+d),y=r-(p+d),b=i-u,m=s-c,k=a-p,w=b+m+k,_=0,x=l[m-k+1|b-m+1<<1|b-k+1<<2|w<<3|w+k<<5|w+m<<7|w+b<<9];void 0!==x;x=x.next){var S=v+x.dx,A=g+x.dy,E=y+x.dz,D=2-S*S-A*A-E*E;if(D>0){var M=u+x.xsb,I=c+x.ysb,R=p+x.zsb,U=h[255&M],O=h[U+I&255],T=f[O+R&255];_+=D*D*D*D*(n.gradients3D[T]*S+n.gradients3D[T+1]*A+n.gradients3D[T+2]*E)}}return _*n.NORM_3D}},e.makeNoise4D=function(t){for(var e=[],r=0;r<n.p4D.length;r+=16){for(var o=n.base4D[n.p4D[r]],i=null,u=null,c=0;c<o.length;c+=5)u=s(o[c],o[c+1],o[c+2],o[c+3],o[c+4]),null===i?e[r/16]=u:i.next=u,i=u;u.next=s(n.p4D[r+1],n.p4D[r+2],n.p4D[r+3],n.p4D[r+4],n.p4D[r+5]),u.next.next=s(n.p4D[r+6],n.p4D[r+7],n.p4D[r+8],n.p4D[r+9],n.p4D[r+10]),u.next.next.next=s(n.p4D[r+11],n.p4D[r+12],n.p4D[r+13],n.p4D[r+14],n.p4D[r+15])}var l=[];for(r=0;r<n.lookupPairs4D.length;r+=2)l[n.lookupPairs4D[r]]=e[n.lookupPairs4D[r+1]];var h=new Uint8Array(256),f=new Uint8Array(256),p=new Uint8Array(256);for(r=0;r<256;r++)p[r]=r;var d=new Uint32Array(1);for(d[0]=t,d=a(a(a(d))),r=255;r>=0;r--){d=a(d);var v=new Uint32Array(1);v[0]=(d[0]+31)%(r+1),v[0]<0&&(v[0]+=r+1),h[r]=p[v[0]],f[r]=252&h[r],p[v[0]]=p[r]}return function(t,e,r,o){for(var i=(t+e+r+o)*n.STRETCH_4D,s=t+i,a=e+i,u=r+i,c=o+i,p=Math.floor(s),d=Math.floor(a),v=Math.floor(u),g=Math.floor(c),y=(p+d+v+g)*n.SQUISH_4D,b=t-(p+y),m=e-(d+y),k=r-(v+y),w=o-(g+y),_=s-p,x=a-d,S=u-v,A=c-g,E=_+x+S+A,D=0,M=l[S-A+1|x-S+1<<1|x-A+1<<2|_-x+1<<3|_-S+1<<4|_-A+1<<5|E<<6|E+A<<8|E+S<<11|E+x<<14|E+_<<17];void 0!==M;M=M.next){var I=b+M.dx,R=m+M.dy,U=k+M.dz,O=w+M.dw,T=2-I*I-R*R-U*U-O*O;if(T>0){var P=p+M.xsb,j=d+M.ysb,C=v+M.zsb,B=g+M.wsb,L=h[255&P],N=h[L+j&255],F=h[N+C&255],Y=f[F+B&255];D+=T*T*T*T*(n.gradients4D[Y]*I+n.gradients4D[Y+1]*R+n.gradients4D[Y+2]*U+n.gradients4D[Y+3]*O)}}return D*n.NORM_4D}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NORM_2D=1/47,e.NORM_3D=1/103,e.NORM_4D=1/30,e.SQUISH_2D=(Math.sqrt(3)-1)/2,e.SQUISH_3D=(Math.sqrt(4)-1)/3,e.SQUISH_4D=(Math.sqrt(5)-1)/4,e.STRETCH_2D=(1/Math.sqrt(3)-1)/2,e.STRETCH_3D=(1/Math.sqrt(4)-1)/3,e.STRETCH_4D=(1/Math.sqrt(5)-1)/4,e.base2D=[[1,1,0,1,0,1,0,0,0],[1,1,0,1,0,1,2,1,1]],e.base3D=[[0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1],[2,1,1,0,2,1,0,1,2,0,1,1,3,1,1,1],[1,1,0,0,1,0,1,0,1,0,0,1,2,1,1,0,2,1,0,1,2,0,1,1]],e.base4D=[[0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,4,1,1,1,1],[1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1]],e.gradients2D=[5,2,2,5,-5,2,-2,5,5,-2,2,-5,-5,-2,-2,-5],e.gradients3D=[-11,4,4,-4,11,4,-4,4,11,11,4,4,4,11,4,4,4,11,-11,-4,4,-4,-11,4,-4,-4,11,11,-4,4,4,-11,4,4,-4,11,-11,4,-4,-4,11,-4,-4,4,-11,11,4,-4,4,11,-4,4,4,-11,-11,-4,-4,-4,-11,-4,-4,-4,-11,11,-4,-4,4,-11,-4,4,-4,-11],e.gradients4D=[3,1,1,1,1,3,1,1,1,1,3,1,1,1,1,3,-3,1,1,1,-1,3,1,1,-1,1,3,1,-1,1,1,3,3,-1,1,1,1,-3,1,1,1,-1,3,1,1,-1,1,3,-3,-1,1,1,-1,-3,1,1,-1,-1,3,1,-1,-1,1,3,3,1,-1,1,1,3,-1,1,1,1,-3,1,1,1,-1,3,-3,1,-1,1,-1,3,-1,1,-1,1,-3,1,-1,1,-1,3,3,-1,-1,1,1,-3,-1,1,1,-1,-3,1,1,-1,-1,3,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,3,1,1,-1,1,3,1,-1,1,1,3,-1,1,1,1,-3,-3,1,1,-1,-1,3,1,-1,-1,1,3,-1,-1,1,1,-3,3,-1,1,-1,1,-3,1,-1,1,-1,3,-1,1,-1,1,-3,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,3,1,-1,-1,1,3,-1,-1,1,1,-3,-1,1,1,-1,-3,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3],e.lookupPairs2D=[0,1,1,0,4,1,17,0,20,2,21,2,22,5,23,5,26,4,39,3,42,4,43,3],e.lookupPairs3D=[0,2,1,1,2,2,5,1,6,0,7,0,32,2,34,2,129,1,133,1,160,5,161,5,518,0,519,0,546,4,550,4,645,3,647,3,672,5,673,5,674,4,677,3,678,4,679,3,680,13,681,13,682,12,685,14,686,12,687,14,712,20,714,18,809,21,813,23,840,20,841,21,1198,19,1199,22,1226,18,1230,19,1325,23,1327,22,1352,15,1353,17,1354,15,1357,17,1358,16,1359,16,1360,11,1361,10,1362,11,1365,10,1366,9,1367,9,1392,11,1394,11,1489,10,1493,10,1520,8,1521,8,1878,9,1879,9,1906,7,1910,7,2005,6,2007,6,2032,8,2033,8,2034,7,2037,6,2038,7,2039,6],e.lookupPairs4D=[0,3,1,2,2,3,5,2,6,1,7,1,8,3,9,2,10,3,13,2,16,3,18,3,22,1,23,1,24,3,26,3,33,2,37,2,38,1,39,1,41,2,45,2,54,1,55,1,56,0,57,0,58,0,59,0,60,0,61,0,62,0,63,0,256,3,258,3,264,3,266,3,272,3,274,3,280,3,282,3,2049,2,2053,2,2057,2,2061,2,2081,2,2085,2,2089,2,2093,2,2304,9,2305,9,2312,9,2313,9,16390,1,16391,1,16406,1,16407,1,16422,1,16423,1,16438,1,16439,1,16642,8,16646,8,16658,8,16662,8,18437,6,18439,6,18469,6,18471,6,18688,9,18689,9,18690,8,18693,6,18694,8,18695,6,18696,9,18697,9,18706,8,18710,8,18725,6,18727,6,131128,0,131129,0,131130,0,131131,0,131132,0,131133,0,131134,0,131135,0,131352,7,131354,7,131384,7,131386,7,133161,5,133165,5,133177,5,133181,5,133376,9,133377,9,133384,9,133385,9,133400,7,133402,7,133417,5,133421,5,133432,7,133433,5,133434,7,133437,5,147510,4,147511,4,147518,4,147519,4,147714,8,147718,8,147730,8,147734,8,147736,7,147738,7,147766,4,147767,4,147768,7,147770,7,147774,4,147775,4,149509,6,149511,6,149541,6,149543,6,149545,5,149549,5,149558,4,149559,4,149561,5,149565,5,149566,4,149567,4,149760,9,149761,9,149762,8,149765,6,149766,8,149767,6,149768,9,149769,9,149778,8,149782,8,149784,7,149786,7,149797,6,149799,6,149801,5,149805,5,149814,4,149815,4,149816,7,149817,5,149818,7,149821,5,149822,4,149823,4,149824,37,149825,37,149826,36,149829,34,149830,36,149831,34,149832,37,149833,37,149842,36,149846,36,149848,35,149850,35,149861,34,149863,34,149865,33,149869,33,149878,32,149879,32,149880,35,149881,33,149882,35,149885,33,149886,32,149887,32,150080,49,150082,48,150088,49,150098,48,150104,47,150106,47,151873,46,151877,45,151881,46,151909,45,151913,44,151917,44,152128,49,152129,46,152136,49,152137,46,166214,43,166215,42,166230,43,166247,42,166262,41,166263,41,166466,48,166470,43,166482,48,166486,43,168261,45,168263,42,168293,45,168295,42,168512,31,168513,28,168514,31,168517,28,168518,25,168519,25,280952,40,280953,39,280954,40,280957,39,280958,38,280959,38,281176,47,281178,47,281208,40,281210,40,282985,44,282989,44,283001,39,283005,39,283208,30,283209,27,283224,30,283241,27,283256,22,283257,22,297334,41,297335,41,297342,38,297343,38,297554,29,297558,24,297562,29,297590,24,297594,21,297598,21,299365,26,299367,23,299373,26,299383,23,299389,20,299391,20,299584,31,299585,28,299586,31,299589,28,299590,25,299591,25,299592,30,299593,27,299602,29,299606,24,299608,30,299610,29,299621,26,299623,23,299625,27,299629,26,299638,24,299639,23,299640,22,299641,22,299642,21,299645,20,299646,21,299647,20,299648,61,299649,60,299650,61,299653,60,299654,59,299655,59,299656,58,299657,57,299666,55,299670,54,299672,58,299674,55,299685,52,299687,51,299689,57,299693,52,299702,54,299703,51,299704,56,299705,56,299706,53,299709,50,299710,53,299711,50,299904,61,299906,61,299912,58,299922,55,299928,58,299930,55,301697,60,301701,60,301705,57,301733,52,301737,57,301741,52,301952,79,301953,79,301960,76,301961,76,316038,59,316039,59,316054,54,316071,51,316086,54,316087,51,316290,78,316294,78,316306,73,316310,73,318085,77,318087,77,318117,70,318119,70,318336,79,318337,79,318338,78,318341,77,318342,78,318343,77,430776,56,430777,56,430778,53,430781,50,430782,53,430783,50,431e3,75,431002,72,431032,75,431034,72,432809,74,432813,69,432825,74,432829,69,433032,76,433033,76,433048,75,433065,74,433080,75,433081,74,447158,71,447159,68,447166,71,447167,68,447378,73,447382,73,447386,72,447414,71,447418,72,447422,71,449189,70,449191,70,449197,69,449207,68,449213,69,449215,68,449408,67,449409,67,449410,66,449413,64,449414,66,449415,64,449416,67,449417,67,449426,66,449430,66,449432,65,449434,65,449445,64,449447,64,449449,63,449453,63,449462,62,449463,62,449464,65,449465,63,449466,65,449469,63,449470,62,449471,62,449472,19,449473,19,449474,18,449477,16,449478,18,449479,16,449480,19,449481,19,449490,18,449494,18,449496,17,449498,17,449509,16,449511,16,449513,15,449517,15,449526,14,449527,14,449528,17,449529,15,449530,17,449533,15,449534,14,449535,14,449728,19,449729,19,449730,18,449734,18,449736,19,449737,19,449746,18,449750,18,449752,17,449754,17,449784,17,449786,17,451520,19,451521,19,451525,16,451527,16,451528,19,451529,19,451557,16,451559,16,451561,15,451565,15,451577,15,451581,15,451776,19,451777,19,451784,19,451785,19,465858,18,465861,16,465862,18,465863,16,465874,18,465878,18,465893,16,465895,16,465910,14,465911,14,465918,14,465919,14,466114,18,466118,18,466130,18,466134,18,467909,16,467911,16,467941,16,467943,16,468160,13,468161,13,468162,13,468163,13,468164,13,468165,13,468166,13,468167,13,580568,17,580570,17,580585,15,580589,15,580598,14,580599,14,580600,17,580601,15,580602,17,580605,15,580606,14,580607,14,580824,17,580826,17,580856,17,580858,17,582633,15,582637,15,582649,15,582653,15,582856,12,582857,12,582872,12,582873,12,582888,12,582889,12,582904,12,582905,12,596982,14,596983,14,596990,14,596991,14,597202,11,597206,11,597210,11,597214,11,597234,11,597238,11,597242,11,597246,11,599013,10,599015,10,599021,10,599023,10,599029,10,599031,10,599037,10,599039,10,599232,13,599233,13,599234,13,599235,13,599236,13,599237,13,599238,13,599239,13,599240,12,599241,12,599250,11,599254,11,599256,12,599257,12,599258,11,599262,11,599269,10,599271,10,599272,12,599273,12,599277,10,599279,10,599282,11,599285,10,599286,11,599287,10,599288,12,599289,12,599290,11,599293,10,599294,11,599295,10],e.p2D=[0,0,1,-1,0,0,-1,1,0,2,1,1,1,2,2,0,1,2,0,2,1,0,0,0],e.p3D=[0,0,1,-1,0,0,1,0,-1,0,0,-1,1,0,0,0,1,-1,0,0,-1,0,1,0,0,-1,1,0,2,1,1,0,1,1,1,-1,0,2,1,0,1,1,1,-1,1,0,2,0,1,1,1,-1,1,1,1,3,2,1,0,3,1,2,0,1,3,2,0,1,3,1,0,2,1,3,0,2,1,3,0,1,2,1,1,1,0,0,2,2,0,0,1,1,0,1,0,2,0,2,0,1,1,0,0,1,2,0,0,2,2,0,0,0,0,1,1,-1,1,2,0,0,0,0,1,-1,1,1,2,0,0,0,0,1,1,1,-1,2,3,1,1,1,2,0,0,2,2,3,1,1,1,2,2,0,0,2,3,1,1,1,2,0,2,0,2,1,1,-1,1,2,0,0,2,2,1,1,-1,1,2,2,0,0,2,1,-1,1,1,2,0,0,2,2,1,-1,1,1,2,0,2,0,2,1,1,1,-1,2,2,0,0,2,1,1,1,-1,2,0,2,0],e.p4D=[0,0,1,-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,0,-1,1,0,0,0,0,1,-1,0,0,0,1,0,-1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,-1,0,0,-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,2,1,1,0,0,1,1,1,-1,0,1,1,1,0,-1,0,2,1,0,1,0,1,1,-1,1,0,1,1,0,1,-1,0,2,0,1,1,0,1,-1,1,1,0,1,0,1,1,-1,0,2,1,0,0,1,1,1,-1,0,1,1,1,0,-1,1,0,2,0,1,0,1,1,-1,1,0,1,1,0,1,-1,1,0,2,0,0,1,1,1,-1,0,1,1,1,0,-1,1,1,1,4,2,1,1,0,4,1,2,1,0,4,1,1,2,0,1,4,2,1,0,1,4,1,2,0,1,4,1,1,0,2,1,4,2,0,1,1,4,1,0,2,1,4,1,0,1,2,1,4,0,2,1,1,4,0,1,2,1,4,0,1,1,2,1,2,1,1,0,0,3,2,1,0,0,3,1,2,0,0,1,2,1,0,1,0,3,2,0,1,0,3,1,0,2,0,1,2,0,1,1,0,3,0,2,1,0,3,0,1,2,0,1,2,1,0,0,1,3,2,0,0,1,3,1,0,0,2,1,2,0,1,0,1,3,0,2,0,1,3,0,1,0,2,1,2,0,0,1,1,3,0,0,2,1,3,0,0,1,2,2,3,1,1,1,0,2,1,1,1,-1,2,2,0,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,2,0,0,0,2,3,1,0,1,1,2,1,-1,1,1,2,2,0,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,2,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,2,0,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,2,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,0,2,0,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,2,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,2,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,0,0,2,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,0,2,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,0,2,2,1,1,1,-1,0,1,1,1,0,-1,0,0,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,0,0,0,0,0,2,1,-1,1,1,0,1,0,1,1,-1,0,0,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,0,0,0,0,0,2,1,-1,1,0,1,1,0,1,-1,1,0,0,0,0,0,2,1,-1,0,1,1,1,0,-1,1,1,0,0,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,2,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,2,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,2,2,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,0,2,0,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,2,0,0,2,1,-1,1,0,1,1,0,1,-1,1,2,0,2,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,0,0,2,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,0,2,0,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,2,0,2,1,1,-1,0,1,1,1,0,-1,1,2,0,0,0,2,2,1,-1,1,0,1,1,0,1,-1,1,2,0,0,0,2,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,0,2,3,1,1,0,0,0,2,2,0,0,0,2,1,1,1,-1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,1,-1,3,1,0,0,1,0,2,0,0,2,0,2,1,1,1,-1,3,1,1,0,0,0,2,2,0,0,0,2,1,1,-1,1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,-1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,1,-1,1,3,1,1,0,0,0,2,2,0,0,0,2,1,-1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,1,-1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,-1,1,1,3,1,0,1,0,0,2,0,2,0,0,2,-1,1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,-1,1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,-1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,4,1,1,1,1,3,3,2,0,1,0,3,1,0,2,0,4,1,1,1,1,3,3,0,2,1,0,3,0,1,2,0,4,1,1,1,1,3,3,2,0,0,1,3,1,0,0,2,4,1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,4,1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,4,1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,1,-1,3,3,2,0,1,0,3,1,0,2,0,2,1,1,1,-1,3,3,0,2,1,0,3,0,1,2,0,2,1,1,1,-1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,-1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,1,-1,1,3,3,0,2,0,1,3,0,1,0,2,2,1,1,-1,1,3,3,2,0,1,0,3,1,0,2,0,2,1,-1,1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,-1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,1,-1,1,1,3,3,0,2,1,0,3,0,1,2,0,2,-1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,2,-1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,-1,1,1,1]},function(t,e,r){var n=r(12),o=r(10),i=r(0).getIDs();function s(t,e,r){return Math.sqrt(t*t+e*e+r*r)}t.exports={oakTree:function(t){for(var e=new o(new Uint16Array(4096),[16,16,16]),r=Math.round(n(5*t)),a=4+Math.round(n(t))+2*r,u=0;u<a;u++)e.set(8,u,8,i.log);for(var c=-4;c<=4;c++)for(u=-4;u<=5;u++)for(var l=-4;l<=4;l++)0==e.get(c+8,u+a,l+8)&&n(c,u,l,2*t)>.3&&s(c,u,l)<=3+r&&e.set(c+8,u+a,l+8,i.leaves);return e},birchTree:function(t){for(var e=new o(new Uint16Array(4096),[16,16,16]),r=Math.round(n(3*t)),a=5+Math.round(n(t))+2*r,u=0;u<a;u++)e.set(8,u,8,i.birch_log);for(var c=-5;c<=5;c++)for(u=-5;u<=5;u++)for(var l=-5;l<=5;l++)0==e.get(c+8,u+a,l+8)&&n(c,u,l,2*t)>.3&&s(c,u,l)<=4+r-Math.round(n(c,u,l,7*t))&&e.set(c+8,u+a,l+8,i.birch_leaves);return e}}},function(t,e){t.exports=class{constructor(t,e){this.blockIDs={},this.chunkWitdh=24,this.chunkHeight=120,this.blockIDs=e,this.seed=t}getBlock(t,e,r){return 40==e?blockIDs.grass:35<e&&e<40?blockIDs.dirt:e<=35?blockIDs.stone:0}generateChunk(t,e){for(var r=0;r<this.chunkWitdh;r++)for(var n=0;n<this.chunkWitdh;n++)for(var o=0;o<this.chunkHeight;o++){var i=this.getBlock(r+24*t[0],o,n+24*t[1]);0!=i&&e.set(r,o,n,i)}return e}getHeightMap(){return 40}getBiome(){return"plants"}}},function(t,e,r){const n=new(r(2));t.exports={init(t){y(t)},send(t,e,r){!function(t,e,r){-1==t?p.emit(e,r):null!=d[t]&&d[t].emit(e,r)}(t,e,r)},sendAll(t,e){p.emit(t,e)},getSocket:t=>d[t],io:p,event:n};const o=new RegExp("[^a-zA-Z0-9]"),i=r(7),s=r(1).get(),a=r(0).getIDs(),u=r(0).get(),c=r(3);function l(t,e){"#console"==t?c.log(e):"#all"==t?(c.chat(e),p.emit("chat",e)):i.get("id").send(e)}var h=r(5);const f=r(8);var p,d={},v=0,g=!1;function y(t){1!=g&&(g=!0,(p=t).on("connection",(async function(t){v>=h.maxplayers&&(t.emit("kick","Server is full"),t.disconnect(!0)),t.emit("login-request",{name:h.name,protocol:1,maxplayers:h.maxplayers,blocks:u,blockIDs:a,items:s});var e=!0;t.on("login",(function(r){e=!1;var n=function(t){if(null==t)return"No data!";if(null==t.username||o.test(t.username))return"Illegal username - "+t.username;if(null==t.protocol||1!=t.protocol)return"Unsupported protocol";return 0}(r);""!=r.username&&null!=r.username&&null!=r.username||(r.username="Player"+Math.round(1e5*Math.random()));var c=r.username.toLowerCase();if(0!=n&&(t.emit("kick",n),t.disconnect(!0)),null!=d[c])t.emit("kick","Player with that nickname is already online!"),t.disconnect(!0);else{i.event.emit("connection",c);var h=i.create(c,r,t);t.emit("login-success",{pos:h.entity.data.position,inv:h.inventory,clientSideBlockPrediction:!0,blocks:u,blockIDs:a,items:s}),d[c]=t,t.emit("entity-ignore",h.entity.id),Object.entries(f.getAll(h.world)).forEach((function(e){t.emit("entity-spawn",{id:e[0],data:e[1].data})})),l("#all",h.nickname+" joined the game!"),v+=1,t.on("disconnect",(function(){i.event.emit("disconnect",c),l("#all",h.nickname+" left the game!"),h.remove(),delete d[c],v-=1})),t.on("chat-send",(function(t){h.action_chatsend(t)})),t.on("block-break",(function(t){h.action_blockbreak(t)})),t.on("block-place",(function(t){h.action_blockplace(t)})),t.on("move",(function(t){h.action_move(t)})),t.on("inventory-click",(function(t){h.action_invclick(t)}))}})),setTimeout((function(){1==e&&(t.emit("kick","Timeout"),t.disconnect(!0))}),1e3)})))}},function(t,e,r){t.exports={EPSILON:r(13),create:r(14),clone:r(41),angle:r(42),fromValues:r(15),copy:r(43),set:r(44),equals:r(45),exactEquals:r(46),add:r(47),subtract:r(18),sub:r(48),multiply:r(19),mul:r(49),divide:r(20),div:r(50),min:r(51),max:r(52),floor:r(53),ceil:r(54),round:r(55),scale:r(56),scaleAndAdd:r(57),distance:r(21),dist:r(58),squaredDistance:r(22),sqrDist:r(59),length:r(23),len:r(60),squaredLength:r(24),sqrLen:r(61),negate:r(62),inverse:r(63),normalize:r(16),dot:r(17),cross:r(64),lerp:r(65),random:r(66),transformMat4:r(67),transformMat3:r(68),transformQuat:r(69),rotateX:r(70),rotateY:r(71),rotateZ:r(72),forEach:r(73)}},function(t,e){t.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},function(t,e,r){t.exports=function(t,e){var r=n(t[0],t[1],t[2]),s=n(e[0],e[1],e[2]);o(r,r),o(s,s);var a=i(r,s);return a>1?0:Math.acos(a)};var n=r(15),o=r(16),i=r(17)},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(t,e){t.exports=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}},function(t,e,r){t.exports=function(t,e){var r=t[0],o=t[1],i=t[2],s=e[0],a=e[1],u=e[2];return Math.abs(r-s)<=n*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-a)<=n*Math.max(1,Math.abs(o),Math.abs(a))&&Math.abs(i-u)<=n*Math.max(1,Math.abs(i),Math.abs(u))};var n=r(13)},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}},function(t,e,r){t.exports=r(18)},function(t,e,r){t.exports=r(19)},function(t,e,r){t.exports=r(20)},function(t,e){t.exports=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}},function(t,e){t.exports=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}},function(t,e){t.exports=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}},function(t,e,r){t.exports=r(21)},function(t,e,r){t.exports=r(22)},function(t,e,r){t.exports=r(23)},function(t,e,r){t.exports=r(24)},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1],i=e[2],s=r[0],a=r[1],u=r[2];return t[0]=o*u-i*a,t[1]=i*s-n*u,t[2]=n*a-o*s,t}},function(t,e){t.exports=function(t,e,r,n){var o=e[0],i=e[1],s=e[2];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t[2]=s+n*(r[2]-s),t}},function(t,e){t.exports=function(t,e){e=e||1;var r=2*Math.random()*Math.PI,n=2*Math.random()-1,o=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=n*e,t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1],i=e[2],s=r[3]*n+r[7]*o+r[11]*i+r[15];return s=s||1,t[0]=(r[0]*n+r[4]*o+r[8]*i+r[12])/s,t[1]=(r[1]*n+r[5]*o+r[9]*i+r[13])/s,t[2]=(r[2]*n+r[6]*o+r[10]*i+r[14])/s,t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1],i=e[2];return t[0]=n*r[0]+o*r[3]+i*r[6],t[1]=n*r[1]+o*r[4]+i*r[7],t[2]=n*r[2]+o*r[5]+i*r[8],t}},function(t,e){t.exports=function(t,e,r){var n=e[0],o=e[1],i=e[2],s=r[0],a=r[1],u=r[2],c=r[3],l=c*n+a*i-u*o,h=c*o+u*n-s*i,f=c*i+s*o-a*n,p=-s*n-a*o-u*i;return t[0]=l*c+p*-s+h*-u-f*-a,t[1]=h*c+p*-a+f*-s-l*-u,t[2]=f*c+p*-u+l*-a-h*-s,t}},function(t,e){t.exports=function(t,e,r,n){var o=r[1],i=r[2],s=e[1]-o,a=e[2]-i,u=Math.sin(n),c=Math.cos(n);return t[0]=e[0],t[1]=o+s*c-a*u,t[2]=i+s*u+a*c,t}},function(t,e){t.exports=function(t,e,r,n){var o=r[0],i=r[2],s=e[0]-o,a=e[2]-i,u=Math.sin(n),c=Math.cos(n);return t[0]=o+a*u+s*c,t[1]=e[1],t[2]=i+a*c-s*u,t}},function(t,e){t.exports=function(t,e,r,n){var o=r[0],i=r[1],s=e[0]-o,a=e[1]-i,u=Math.sin(n),c=Math.cos(n);return t[0]=o+s*c-a*u,t[1]=i+s*u+a*c,t[2]=e[2],t}},function(t,e,r){t.exports=function(t,e,r,o,i,s){var a,u;e||(e=3);r||(r=0);u=o?Math.min(o*e+r,t.length):t.length;for(a=r;a<u;a+=e)n[0]=t[a],n[1]=t[a+1],n[2]=t[a+2],i(n,n,s),t[a]=n[0],t[a+1]=n[1],t[a+2]=n[2];return t};var n=r(14)()},function(t,e,r){const n=new(r(2)),o=r(3);var i,s={};function a(t,e){"#console"==t?o.log(e):i.id.send(e)}function u(t,e,r){s[t]={execute:e,desc:r}}u("/help",(async function(t,e){a(t,"**List of all commands:**"),Object.entries(s).forEach((function(e){a(t,e[0]+" - "+e[1].desc)}))}),"Displays list of all commands"),t.exports={execute:function(t,e){var r=e.split(" "),i=r[0];r.shift(),n.emit(r[0],{executor:t,arg:r});var u=Object.entries(s);for(var c of u)if(c[0]==i){try{s[i].execute(t,r)}catch(e){o.error("User ^R"+t+"^r tried to execute command ^R"+i+"^r and it failed! \n ^R",e),a(t,"{color:red}An error occurred during the execution of this command!{color}")}return}a(t,"{color:red}This command doesn't exist! Check /help for list of available commands.{color}")},register:u,setPlayer(t){i=t},event:n}},function(t,e){var r={};t.exports={create:function(t,e){r[t]=new Array(e);for(var n=0;n<r[t].length;n++)r[t][n]=[];return t},execute:function(t,e){var n=0;if(null==r[t])return n=1;for(var o=0;o<r[t].length;o++)for(var i=0;i<r[t][o].length;i++)if(1==(n=r[t][o][i](t,e)))return n},add:function(t,e,n){return null!=r[t]&&(null!=r[t][e]&&void r[t][e].push(n))}}},function(t,e,r){const n=r(1);class o{constructor(t,e){this.main={},this.maxslot=9*t-1,null!=e&&null!=e&&(this.main=e.main);for(var r=0;r<9*t;r++)null==this.main[r]&&(this.main[r]={});this.lastUpdate=Date.now()}add(t,e,r){this.lastUpdate=Date.now();var o=Object.entries(this.main);for(var[i,r]of o)if(r.id==t&&r.count+e<n.getStack(t)+1)return this.main[i]={id:t,count:e+r.count,data:r},!0;for(var[i,r]of o)if(null==r.id)return this.main[i]={id:t,count:e,data:r},!0;return!1}remove(t,e){this.lastUpdate=Date.now();var r=Object.entries(this.main),n=this.selected;if(this.main[n].id==t){var o=this.main[n].count-e;if(e-=this.main[n].count,this.main[n]=o>0?{id:t,count:o,data:this.main[n].data}:{},e<=0)return!0}for(var[i,s]of r){if(e<=0)return!0;if(s.id==t){o=s.count-e;e-=s.count,this.main[i]=o>0?{id:t,count:o,data:s.data}:{}}}return!0}set(t,e,r,n){this.lastUpdate=Date.now(),this.main[t]={id:e,count:r,data:n}}contains(t,e){var r=Object.entries(this.main);for(var[n,o]of r)if(o.id==t&&o.count>=e)return n;return-1}}t.exports={Inventory:o,PlayerInventory:class extends o{constructor(t,e){super(t,e),null==e?(this.selected=0,this.tempslot={}):(this.selected=e.selected,this.tempslot=e.tempslot),this.updated=!1}select(t){this.selected=t}getObject(){return{main:this.main,selected:this.selected,tempslot:this.tempslot}}getTool(){var t=this.selected;return this.main[t]}action_switch(t,e){this.lastUpdate=Date.now(),this.updated=!1;var r=this.main[t],n=this.main[e];this.main[t]=n,this.main[e]=r}action_left(t,e){if(this.lastUpdate=Date.now(),this.updated=!1,e>=0){var r={...this.tempslot},o={...t.main[e]};if(r.id==o.id&&null!=r.id){if(o.count+r.count<=n.getStack(o.id))(i={...o}).count=o.count+r.count,t.main[e]=i,this.tempslot={};else if(o.count+r.count>n.getStack(o.id)){var i={...o},s={...r};i.count=n.getStack(o.id),s.count=o.count+r.count-n.getStack(o.id),t.main[e]=i,this.tempslot=s}}else t.main[e]=r,this.tempslot=o}}action_right(t,e){if(this.lastUpdate=Date.now(),this.updated=!1,e>=0){var r={...this.tempslot},o={...t.main[e]};if(null==r.id){var i={...o},s={...o};i.count=Math.ceil(i.count/2),s.count=Math.floor(s.count/2),s.count<=0&&(s={}),t.main[e]={...i},this.tempslot={...s}}else if(null==o.id){i={...r},s={...r};i.count=1,s.count=s.count-1,s.count<=0&&(s={}),t.main[e]={...i},this.tempslot={...s}}else if(o.id==r.id&&o.count+1<=n.getStack(o.id)){i={...o},s={...r};i.count=i.count+1,s.count=s.count-1,s.count<=0&&(s={}),t.main[e]={...i},this.tempslot={...s}}}}}}},function(t,e,r){"use strict";r.r(e),r.d(e,"v1",(function(){return v})),r.d(e,"v3",(function(){return A})),r.d(e,"v4",(function(){return E})),r.d(e,"v5",(function(){return I})),r.d(e,"NIL",(function(){return R})),r.d(e,"version",(function(){return U})),r.d(e,"validate",(function(){return a})),r.d(e,"stringify",(function(){return f})),r.d(e,"parse",(function(){return g}));var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function i(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(t){return"string"==typeof t&&s.test(t)},u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var l,h,f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r},p=0,d=0;var v=function(t,e,r){var n=e&&r||0,o=e||new Array(16),s=(t=t||{}).node||l,a=void 0!==t.clockseq?t.clockseq:h;if(null==s||null==a){var u=t.random||(t.rng||i)();null==s&&(s=l=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=h=16383&(u[6]<<8|u[7]))}var c=void 0!==t.msecs?t.msecs:Date.now(),v=void 0!==t.nsecs?t.nsecs:d+1,g=c-p+(v-d)/1e4;if(g<0&&void 0===t.clockseq&&(a=a+1&16383),(g<0||c>p)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=c,d=v,h=a;var y=(1e4*(268435455&(c+=122192928e5))+v)%4294967296;o[n++]=y>>>24&255,o[n++]=y>>>16&255,o[n++]=y>>>8&255,o[n++]=255&y;var b=c/4294967296*1e4&268435455;o[n++]=b>>>8&255,o[n++]=255&b,o[n++]=b>>>24&15|16,o[n++]=b>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(var m=0;m<6;++m)o[n+m]=s[m];return e||f(o)};var g=function(t){if(!a(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};var y=function(t,e,r){function n(t,n,o,i){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"==typeof n&&(n=g(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(n),s.set(t,n.length),(s=r(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,o){i=i||0;for(var a=0;a<16;++a)o[i+a]=s[a];return o}return f(s)}try{n.name=t}catch(t){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};function b(t){return 14+(t+64>>>9<<4)+1}function m(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function k(t,e,r,n,o,i){return m((s=m(m(e,t),m(n,i)))<<(a=o)|s>>>32-a,r);var s,a}function w(t,e,r,n,o,i,s){return k(e&r|~e&n,t,e,o,i,s)}function _(t,e,r,n,o,i,s){return k(e&n|r&~n,t,e,o,i,s)}function x(t,e,r,n,o,i,s){return k(e^r^n,t,e,o,i,s)}function S(t,e,r,n,o,i,s){return k(r^(e|~n),t,e,o,i,s)}var A=y("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return function(t){for(var e=[],r=32*t.length,n=0;n<r;n+=8){var o=t[n>>5]>>>n%32&255,i=parseInt("0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o),16);e.push(i)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[b(e)-1]=e;for(var r=1732584193,n=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=r,u=n,c=o,l=i;r=w(r,n,o,i,t[s],7,-680876936),i=w(i,r,n,o,t[s+1],12,-389564586),o=w(o,i,r,n,t[s+2],17,606105819),n=w(n,o,i,r,t[s+3],22,-1044525330),r=w(r,n,o,i,t[s+4],7,-176418897),i=w(i,r,n,o,t[s+5],12,1200080426),o=w(o,i,r,n,t[s+6],17,-1473231341),n=w(n,o,i,r,t[s+7],22,-45705983),r=w(r,n,o,i,t[s+8],7,1770035416),i=w(i,r,n,o,t[s+9],12,-1958414417),o=w(o,i,r,n,t[s+10],17,-42063),n=w(n,o,i,r,t[s+11],22,-1990404162),r=w(r,n,o,i,t[s+12],7,1804603682),i=w(i,r,n,o,t[s+13],12,-40341101),o=w(o,i,r,n,t[s+14],17,-1502002290),n=w(n,o,i,r,t[s+15],22,1236535329),r=_(r,n,o,i,t[s+1],5,-165796510),i=_(i,r,n,o,t[s+6],9,-1069501632),o=_(o,i,r,n,t[s+11],14,643717713),n=_(n,o,i,r,t[s],20,-373897302),r=_(r,n,o,i,t[s+5],5,-701558691),i=_(i,r,n,o,t[s+10],9,38016083),o=_(o,i,r,n,t[s+15],14,-660478335),n=_(n,o,i,r,t[s+4],20,-405537848),r=_(r,n,o,i,t[s+9],5,568446438),i=_(i,r,n,o,t[s+14],9,-1019803690),o=_(o,i,r,n,t[s+3],14,-187363961),n=_(n,o,i,r,t[s+8],20,1163531501),r=_(r,n,o,i,t[s+13],5,-1444681467),i=_(i,r,n,o,t[s+2],9,-51403784),o=_(o,i,r,n,t[s+7],14,1735328473),n=_(n,o,i,r,t[s+12],20,-1926607734),r=x(r,n,o,i,t[s+5],4,-378558),i=x(i,r,n,o,t[s+8],11,-2022574463),o=x(o,i,r,n,t[s+11],16,1839030562),n=x(n,o,i,r,t[s+14],23,-35309556),r=x(r,n,o,i,t[s+1],4,-1530992060),i=x(i,r,n,o,t[s+4],11,1272893353),o=x(o,i,r,n,t[s+7],16,-155497632),n=x(n,o,i,r,t[s+10],23,-1094730640),r=x(r,n,o,i,t[s+13],4,681279174),i=x(i,r,n,o,t[s],11,-358537222),o=x(o,i,r,n,t[s+3],16,-722521979),n=x(n,o,i,r,t[s+6],23,76029189),r=x(r,n,o,i,t[s+9],4,-640364487),i=x(i,r,n,o,t[s+12],11,-421815835),o=x(o,i,r,n,t[s+15],16,530742520),n=x(n,o,i,r,t[s+2],23,-995338651),r=S(r,n,o,i,t[s],6,-198630844),i=S(i,r,n,o,t[s+7],10,1126891415),o=S(o,i,r,n,t[s+14],15,-1416354905),n=S(n,o,i,r,t[s+5],21,-57434055),r=S(r,n,o,i,t[s+12],6,1700485571),i=S(i,r,n,o,t[s+3],10,-1894986606),o=S(o,i,r,n,t[s+10],15,-1051523),n=S(n,o,i,r,t[s+1],21,-2054922799),r=S(r,n,o,i,t[s+8],6,1873313359),i=S(i,r,n,o,t[s+15],10,-30611744),o=S(o,i,r,n,t[s+6],15,-1560198380),n=S(n,o,i,r,t[s+13],21,1309151649),r=S(r,n,o,i,t[s+4],6,-145523070),i=S(i,r,n,o,t[s+11],10,-1120210379),o=S(o,i,r,n,t[s+2],15,718787259),n=S(n,o,i,r,t[s+9],21,-343485551),r=m(r,a),n=m(n,u),o=m(o,c),i=m(i,l)}return[r,n,o,i]}(function(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(b(e)),n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))}));var E=function(t,e,r){var n=(t=t||{}).random||(t.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return f(n)};function D(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function M(t,e){return t<<e|t>>>32-e}var I=y("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var o=0;o<n.length;++o)t.push(n.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,s=Math.ceil(i/16),a=new Array(s),u=0;u<s;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=t[64*u+4*l]<<24|t[64*u+4*l+1]<<16|t[64*u+4*l+2]<<8|t[64*u+4*l+3];a[u]=c}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var h=0;h<s;++h){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=a[h][p];for(var d=16;d<80;++d)f[d]=M(f[d-3]^f[d-8]^f[d-14]^f[d-16],1);for(var v=r[0],g=r[1],y=r[2],b=r[3],m=r[4],k=0;k<80;++k){var w=Math.floor(k/20),_=M(v,5)+D(w,g,y,b)+m+e[w]+f[k]>>>0;m=b,b=y,y=M(g,30)>>>0,g=v,v=_}r[0]=r[0]+v>>>0,r[1]=r[1]+g>>>0,r[2]=r[2]+y>>>0,r[3]=r[3]+b>>>0,r[4]=r[4]+m>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),R="00000000-0000-0000-0000-000000000000";var U=function(t){if(!a(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}}]);