!function(e){function t(t){for(var r,a,s=t[0],u=t[1],l=t[2],f=0,h=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(c&&c(t);h.length;)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={1:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;o.push([616,0]),n()}([,function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function l(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}Object.create},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return O}));var r=n(30),i=n(19),o=n(61);const a=new o.EventEmitter;let s,u,l,c,f,h,d,p,m,y=!1,v=3,g=3;function b(e){g=e;let t=w();setTimeout(()=>{a.emit("scale-change",t)},100)}function w(){const e=window.innerWidth;let t;return t=e>=2e3?5:e>=1500?4:e>=900?3:2,v=t>g?g:t,t>g?g:t}function _(e){const t=e.rendering.getScene();m=t.getEngine(),s=new r.h(m),u=new r.h(m),l=i.a.CreateFullscreenUI("UI",!0,t,r.k.NEAREST_SAMPLINGMODE),c=i.a.CreateFullscreenUI("UI",!1,s,r.k.NEAREST_SAMPLINGMODE),f=i.a.CreateFullscreenUI("UI",!1,u,r.k.NEAREST_SAMPLINGMODE),h=new i.f,h.thickness=0,h.isPointerBlocker=!1,h.zIndex=1e3,l.addControl(h),d=new i.f,d.thickness=0,d.isPointerBlocker=!1,d.zIndex=1e3,c.addControl(d),p=new i.f,p.thickness=0,p.isPointerBlocker=!1,p.zIndex=1e3,f.addControl(p),m.onResizeObservable.add(e=>{l.getContext().imageSmoothingEnabled=!1,c.getContext().imageSmoothingEnabled=!1,f.getContext().imageSmoothingEnabled=!1,a.emit("resize",e),w(),setTimeout(()=>{a.emit("scale-change",v)},50)}),l.getContext().imageSmoothingEnabled=!1,c.getContext().imageSmoothingEnabled=!1,f.getContext().imageSmoothingEnabled=!1,s.autoClear=!1,u.autoClear=!1,new r.a("Camera",-Math.PI/2,7*Math.PI/16,10,r.l.Zero(),s),new r.a("Camera",-Math.PI/2,7*Math.PI/16,10,r.l.Zero(),u),y=!0,e.on("afterRender",()=>{s.render(),u.render()}),w()}function x(e){if(!y)throw"Scenes aren't initialized yet!";if(0==e)return s;if(1==e)return u;throw"Invalid number"}function k(e){if(!y)throw"UIs aren't initialized yet!";if(0==e)return l;if(1==e)return c;if(2==e)return f;throw"Invalid number"}function O(e){if(!y)throw"UIs aren't initialized yet!";if(0==e)return h;if(1==e)return d;if(2==e)return p;throw"Invalid number"}window.scale=b},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"l",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"k",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return w})),n.d(t,"e",(function(){return x}));var r=n(203),i=n(86),o=n(6);const a="0.2.0-beta.13",s=3,u="pb4.eu:9001",l={version:"0.0.0",nickname:"Player"+Math.round(1e5*Math.random()),autostep:i.isMobile,gamepad:!1,singleplayer:!1,allowcustom:!1,mouse:i.isMobile?50:15,viewDistance:i.isMobile?3:i.isFirefox?2:5,hotbarsize:9,scale:3,fov:70,fpslimit:0,debugInfo:!1};let c={...l,version:a};function f(e){c={...l,...e},Object(o.g)(c.scale),Object(r.c)(c)}let h={cheats:!1,control:!1,ingame:!1};function d(e){h={...h,...e}}function p(){return{debug:!0,showFPS:!0,inverseY:!1,inverseX:!1,sensitivityX:c.mouse,sensitivityY:c.mouse,chunkSize:32,chunkAddDistance:c.viewDistance,chunkRemoveDistance:c.viewDistance,blockTestDistance:7,tickRate:i.isMobile?18:20,texturePath:"",playerStart:[0,100,0],playerHeight:1.85,playerWidth:.6,playerAutoStep:c.autostep?1:0,clearColor:[.8,.9,1],ambientColor:[1,1,1],lightDiffuse:[1,1,1],lightSpecular:[1,1,1],groundLightColor:[.5,.5,.5],useAO:!0,AOmultipliers:[.93,.8,.5],reverseAOmultiplier:1,preserveDrawingBuffer:!0,stickyPointerLock:!1,adaptToDeviceRatio:!1,gravity:[0,-14,0],bindings:{forward:["W"],left:["A"],backward:["S"],right:["D"],fire:"<mouse 1>","mid-fire":["<mouse 2>"],"alt-fire":["<mouse 3>"],jump:"<space>",inventory:["E"],muteMusic:["O"],thirdprsn:["M"],chatenter:["<enter>"],chat:["T"],cmd:["/"],tab:["`"],menu:["<escape>"],screenshot:["P"],hide:["O"],zoom:["Z"]},tickInUnloadedChunks:!0,ignorePointerLock:!1,manuallyControlChunkLoading:!0}}const m=["silkscreen","Lato","Lato-Italic","Lato-Black","Lato-BlackItalic","Lato-Bold","Lato-BoldItalic","Lato-Light","Lato-LightItalic","Lato-Thin","Lato-ThinItalic","PixelOperator-Bold","PixelOperator","PixelOperator8-Bold","PixelOperator8","PixelOperatorHB","PixelOperatorHB8","PixelOperatorHBSC","PixelOperatorMono-Bold","PixelOperatorMono","PixelOperatorMono8-Bold","PixelOperatorMono8","PixelOperatorMonoHB","PixelOperatorMonoHB8","PixelOperatorSC-Bold","PixelOperatorSC"];let y=null;function v(e){y=e}let g="???";const b=window.location.hostname;new URLSearchParams(window.location.search);g="0.0.0.0"==b||"localhost"==b?"Localhost/DEV":"voxelsrv-master.pb4.eu"==b?"Development":"voxelsrv.pb4.eu"==b||"pb4.eu"==b||null!=window.electron?"":"Unofficial/Undefined rehost!";let w=g;const _=[[{text:"It's not Minecraft clone... or is it?"}],[{text:"Written in Typescript"}],[{text:"Powered by Noa Engine"}],[{text:"Open Source"}],[{text:"Multiplayer supported!"}],[{text:"You can fork it!"}],[{text:"Available on github"}],[{text:"Bottom text"}],[{text:"Pixelated",font:"PixelOperator-Bold"}],[{text:"In development"}],[{text:"404: File not found"}],[{text:":concern:"}],[{text:"[ðŸ¥”]"}],[{text:"Works in browser"}],[{text:"youtu.be/dQw4w9WgXcQ"}],[{text:"Do not do it"}],[{text:"discord.gg/K9PdsDh"}],[{text:"Not for sale"}],[{text:"Includes bugs"}],[{text:"Checkout on github!"}],[{text:"+ 5 new DLC characters"}],[{text:"TODO: Add accounts"}],[{text:"Does anyone read these?"}],[{text:"Created by Patbox"}],[{text:"Classical gameplay"}],[{text:"Hello World"}],[{text:"Works on mobile"}],[{text:a}]];function x(){let e=Math.floor(Math.random()*_.length);return _[e]}},,,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(86),i=n(6),o=n(105),a=n(19);let s,u,l=[],c=0,f=!1;function h(e){f=e}function d(){s=new a.e,s.width=100,s.horizontalAlignment=0,s.verticalAlignment=1,s.zIndex=10,s.height="36px",s.color="white",s.background="#111111aa",s.focusedBackground="#111111bb",s.thickness=0,s.isVisible=!1,s.shadowColor="",s.fontSize="32",s.promptMessage="Enter chat message",Object(i.d)(2).addControl(s),u=new a.i,r.isMobile?(u.verticalAlignment=0,u.horizontalAlignment=1,u.width=140*i.f+"px"):(u.verticalAlignment=1,u.horizontalAlignment=0,u.top=-26*i.f+"px",u.width=176*i.f+"px"),u.name="textContainer",u.useBitmapCache=!0,u.zIndex=10,u.background="#11111177",u.height=0,Object(i.d)(1).addControl(u);const e=e=>{r.isMobile?u.width=140*i.f+"px":(u.top=-26*e+"px",u.width=176*e+"px"),l.forEach(t=>{t.fontSize=8*e,t.paddingLeft=2*e+"px",r.isMobile?t.width=140*e+"px":t.width=176*e+"px",t.height=t.computeExpectedHeight()+"px"}),m()};i.b.on("scale-change",e);const t=setInterval(async()=>{if(f){let e=0;l.forEach(t=>{t.shouldhide&&!t.isVisible&&(t.isVisible=!0,e+=1)}),0!=e&&m()}else{let e=0;l.forEach(t=>{t.shouldhide&&t.isVisible&&(t.isVisible=!1),e+=1}),0!=e&&m()}},100);u.onDisposeObservable.add(()=>{clearInterval(t),l.forEach(e=>e.dispose()),l=[],c=0,i.b.off("scale-change",e)})}async function p(e){const t=Object.values(e);let n="";t.forEach(e=>{n+=e.text});const a=new o.a;for(a.fontSize=8*i.f,a.paddingLeft=2*i.f+"px",a.textVerticalAlignment=1,a.textHorizontalAlignment=0,a.fontFamily="Lato",r.isMobile?a.width=140*i.f+"px":a.width=176*i.f+"px",a.zIndex=11,a.text=t,a.height=a.computeExpectedHeight()+"px",a.useBitmapCache=!0,l.unshift(a),u.addControl(a);l.length>50;)l[l.length-1].dispose(),l.pop();setInterval(async()=>{a.shouldhide=!0,f||(a.isVisible=!1),m()},8e3),m(),console.log("Chat: "+n)}function m(){c=0,l.forEach(e=>{!f&&e.isVisible&&c>200*i.f?(e.shouldhide=!0,e.isVisible=!1):e.isVisible&&(c+=e.heightInPixels)}),0!=c?(u.height=c+5+"px",u.isVisible=!0):u.isVisible&&(u.isVisible=!1)}},function(e,t,n){var r,i,o;i=[n(94)],void 0===(o="function"==typeof(r=function(e){"use strict";var t=e.Reader,n=e.Writer,r=e.util,i=e.roots.default||(e.roots.default={});return i.LoginResponse=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.username="",o.prototype.protocol=0,o.prototype.mobile=!1,o.prototype.client="",o.prototype.uuid="",o.prototype.secret="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),null!=e.protocol&&Object.hasOwnProperty.call(e,"protocol")&&t.uint32(16).uint32(e.protocol),null!=e.mobile&&Object.hasOwnProperty.call(e,"mobile")&&t.uint32(24).bool(e.mobile),null!=e.client&&Object.hasOwnProperty.call(e,"client")&&t.uint32(34).string(e.client),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(42).string(e.uuid),null!=e.secret&&Object.hasOwnProperty.call(e,"secret")&&t.uint32(50).string(e.secret),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.LoginResponse;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.username=e.string();break;case 2:o.protocol=e.uint32();break;case 3:o.mobile=e.bool();break;case 4:o.client=e.string();break;case 5:o.uuid=e.string();break;case 6:o.secret=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.username&&e.hasOwnProperty("username")&&!r.isString(e.username)?"username: string expected":null!=e.protocol&&e.hasOwnProperty("protocol")&&!r.isInteger(e.protocol)?"protocol: integer expected":null!=e.mobile&&e.hasOwnProperty("mobile")&&"boolean"!=typeof e.mobile?"mobile: boolean expected":null!=e.client&&e.hasOwnProperty("client")&&!r.isString(e.client)?"client: string expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!r.isString(e.uuid)?"uuid: string expected":null!=e.secret&&e.hasOwnProperty("secret")&&!r.isString(e.secret)?"secret: string expected":null},o.fromObject=function(e){if(e instanceof i.LoginResponse)return e;var t=new i.LoginResponse;return null!=e.username&&(t.username=String(e.username)),null!=e.protocol&&(t.protocol=e.protocol>>>0),null!=e.mobile&&(t.mobile=Boolean(e.mobile)),null!=e.client&&(t.client=String(e.client)),null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.secret&&(t.secret=String(e.secret)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.username="",n.protocol=0,n.mobile=!1,n.client="",n.uuid="",n.secret=""),null!=e.username&&e.hasOwnProperty("username")&&(n.username=e.username),null!=e.protocol&&e.hasOwnProperty("protocol")&&(n.protocol=e.protocol),null!=e.mobile&&e.hasOwnProperty("mobile")&&(n.mobile=e.mobile),null!=e.client&&e.hasOwnProperty("client")&&(n.client=e.client),null!=e.uuid&&e.hasOwnProperty("uuid")&&(n.uuid=e.uuid),null!=e.secret&&e.hasOwnProperty("secret")&&(n.secret=e.secret),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.Ping=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.time=r.Long?r.Long.fromBits(0,0,!0):0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(8).uint64(e.time),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.Ping;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.time=e.uint64();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.time&&e.hasOwnProperty("time")&&!(r.isInteger(e.time)||e.time&&r.isInteger(e.time.low)&&r.isInteger(e.time.high))?"time: integer|Long expected":null},o.fromObject=function(e){if(e instanceof i.Ping)return e;var t=new i.Ping;return null!=e.time&&(r.Long?(t.time=r.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),t},o.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(r.Long){var i=new r.Long(0,0,!0);n.time=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.time=t.longs===String?"0":0;return null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?n.time=t.longs===String?String(e.time):e.time:n.time=t.longs===String?r.Long.prototype.toString.call(e.time):t.longs===Number?new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.ActionMove=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.x=0,r.prototype.y=0,r.prototype.z=0,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(9).double(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(17).double(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(25).double(e.z),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionMove;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.double();break;case 2:o.y=e.double();break;case 3:o.z=e.double();break;default:e.skipType(7&a)}}return o},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&"number"!=typeof e.x?"x: number expected":null!=e.y&&e.hasOwnProperty("y")&&"number"!=typeof e.y?"y: number expected":null!=e.z&&e.hasOwnProperty("z")&&"number"!=typeof e.z?"z: number expected":null},r.fromObject=function(e){if(e instanceof i.ActionMove)return e;var t=new i.ActionMove;return null!=e.x&&(t.x=Number(e.x)),null!=e.y&&(t.y=Number(e.y)),null!=e.z&&(t.z=Number(e.z)),t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=t.json&&!isFinite(e.x)?String(e.x):e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=t.json&&!isFinite(e.y)?String(e.y):e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=t.json&&!isFinite(e.z)?String(e.z):e.z),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),i.ActionLook=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.rotation=0,r.prototype.pitch=0,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.rotation&&Object.hasOwnProperty.call(e,"rotation")&&t.uint32(13).float(e.rotation),null!=e.pitch&&Object.hasOwnProperty.call(e,"pitch")&&t.uint32(21).float(e.pitch),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionLook;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.rotation=e.float();break;case 2:o.pitch=e.float();break;default:e.skipType(7&a)}}return o},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rotation&&e.hasOwnProperty("rotation")&&"number"!=typeof e.rotation?"rotation: number expected":null!=e.pitch&&e.hasOwnProperty("pitch")&&"number"!=typeof e.pitch?"pitch: number expected":null},r.fromObject=function(e){if(e instanceof i.ActionLook)return e;var t=new i.ActionLook;return null!=e.rotation&&(t.rotation=Number(e.rotation)),null!=e.pitch&&(t.pitch=Number(e.pitch)),t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.rotation=0,n.pitch=0),null!=e.rotation&&e.hasOwnProperty("rotation")&&(n.rotation=t.json&&!isFinite(e.rotation)?String(e.rotation):e.rotation),null!=e.pitch&&e.hasOwnProperty("pitch")&&(n.pitch=t.json&&!isFinite(e.pitch)?String(e.pitch):e.pitch),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),i.ActionMoveLook=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.x=0,r.prototype.y=0,r.prototype.z=0,r.prototype.rotation=0,r.prototype.pitch=0,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(9).double(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(17).double(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(25).double(e.z),null!=e.rotation&&Object.hasOwnProperty.call(e,"rotation")&&t.uint32(37).float(e.rotation),null!=e.pitch&&Object.hasOwnProperty.call(e,"pitch")&&t.uint32(45).float(e.pitch),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionMoveLook;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.double();break;case 2:o.y=e.double();break;case 3:o.z=e.double();break;case 4:o.rotation=e.float();break;case 5:o.pitch=e.float();break;default:e.skipType(7&a)}}return o},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&"number"!=typeof e.x?"x: number expected":null!=e.y&&e.hasOwnProperty("y")&&"number"!=typeof e.y?"y: number expected":null!=e.z&&e.hasOwnProperty("z")&&"number"!=typeof e.z?"z: number expected":null!=e.rotation&&e.hasOwnProperty("rotation")&&"number"!=typeof e.rotation?"rotation: number expected":null!=e.pitch&&e.hasOwnProperty("pitch")&&"number"!=typeof e.pitch?"pitch: number expected":null},r.fromObject=function(e){if(e instanceof i.ActionMoveLook)return e;var t=new i.ActionMoveLook;return null!=e.x&&(t.x=Number(e.x)),null!=e.y&&(t.y=Number(e.y)),null!=e.z&&(t.z=Number(e.z)),null!=e.rotation&&(t.rotation=Number(e.rotation)),null!=e.pitch&&(t.pitch=Number(e.pitch)),t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0,n.rotation=0,n.pitch=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=t.json&&!isFinite(e.x)?String(e.x):e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=t.json&&!isFinite(e.y)?String(e.y):e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=t.json&&!isFinite(e.z)?String(e.z):e.z),null!=e.rotation&&e.hasOwnProperty("rotation")&&(n.rotation=t.json&&!isFinite(e.rotation)?String(e.rotation):e.rotation),null!=e.pitch&&e.hasOwnProperty("pitch")&&(n.pitch=t.json&&!isFinite(e.pitch)?String(e.pitch):e.pitch),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),i.ActionMessage=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.message="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(10).string(e.message),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionMessage;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.message=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.message&&e.hasOwnProperty("message")&&!r.isString(e.message)?"message: string expected":null},o.fromObject=function(e){if(e instanceof i.ActionMessage)return e;var t=new i.ActionMessage;return null!=e.message&&(t.message=String(e.message)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.message=""),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.ActionBlockPlace=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.x=0,o.prototype.y=0,o.prototype.z=0,o.prototype.x2=0,o.prototype.y2=0,o.prototype.z2=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(8).sint32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(16).sint32(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(24).sint32(e.z),null!=e.x2&&Object.hasOwnProperty.call(e,"x2")&&t.uint32(32).sint32(e.x2),null!=e.y2&&Object.hasOwnProperty.call(e,"y2")&&t.uint32(40).sint32(e.y2),null!=e.z2&&Object.hasOwnProperty.call(e,"z2")&&t.uint32(48).sint32(e.z2),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionBlockPlace;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.sint32();break;case 2:o.y=e.sint32();break;case 3:o.z=e.sint32();break;case 4:o.x2=e.sint32();break;case 5:o.y2=e.sint32();break;case 6:o.z2=e.sint32();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&!r.isInteger(e.x)?"x: integer expected":null!=e.y&&e.hasOwnProperty("y")&&!r.isInteger(e.y)?"y: integer expected":null!=e.z&&e.hasOwnProperty("z")&&!r.isInteger(e.z)?"z: integer expected":null!=e.x2&&e.hasOwnProperty("x2")&&!r.isInteger(e.x2)?"x2: integer expected":null!=e.y2&&e.hasOwnProperty("y2")&&!r.isInteger(e.y2)?"y2: integer expected":null!=e.z2&&e.hasOwnProperty("z2")&&!r.isInteger(e.z2)?"z2: integer expected":null},o.fromObject=function(e){if(e instanceof i.ActionBlockPlace)return e;var t=new i.ActionBlockPlace;return null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.z&&(t.z=0|e.z),null!=e.x2&&(t.x2=0|e.x2),null!=e.y2&&(t.y2=0|e.y2),null!=e.z2&&(t.z2=0|e.z2),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0,n.x2=0,n.y2=0,n.z2=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=e.z),null!=e.x2&&e.hasOwnProperty("x2")&&(n.x2=e.x2),null!=e.y2&&e.hasOwnProperty("y2")&&(n.y2=e.y2),null!=e.z2&&e.hasOwnProperty("z2")&&(n.z2=e.z2),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.ActionBlockBreak=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.x=0,o.prototype.y=0,o.prototype.z=0,o.prototype.finished=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(8).sint32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(16).sint32(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(24).sint32(e.z),null!=e.finished&&Object.hasOwnProperty.call(e,"finished")&&t.uint32(32).bool(e.finished),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionBlockBreak;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.sint32();break;case 2:o.y=e.sint32();break;case 3:o.z=e.sint32();break;case 4:o.finished=e.bool();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&!r.isInteger(e.x)?"x: integer expected":null!=e.y&&e.hasOwnProperty("y")&&!r.isInteger(e.y)?"y: integer expected":null!=e.z&&e.hasOwnProperty("z")&&!r.isInteger(e.z)?"z: integer expected":null!=e.finished&&e.hasOwnProperty("finished")&&"boolean"!=typeof e.finished?"finished: boolean expected":null},o.fromObject=function(e){if(e instanceof i.ActionBlockBreak)return e;var t=new i.ActionBlockBreak;return null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.z&&(t.z=0|e.z),null!=e.finished&&(t.finished=Boolean(e.finished)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0,n.finished=!1),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=e.z),null!=e.finished&&e.hasOwnProperty("finished")&&(n.finished=e.finished),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.ActionInventoryClick=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var a,s;return o.prototype.slot=0,o.prototype.type=0,o.prototype.inventory=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.slot&&Object.hasOwnProperty.call(e,"slot")&&t.uint32(8).sint32(e.slot),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.inventory&&Object.hasOwnProperty.call(e,"inventory")&&t.uint32(24).int32(e.inventory),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionInventoryClick;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.slot=e.sint32();break;case 2:o.type=e.int32();break;case 3:o.inventory=e.int32();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.slot&&e.hasOwnProperty("slot")&&!r.isInteger(e.slot))return"slot: integer expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.inventory&&e.hasOwnProperty("inventory"))switch(e.inventory){default:return"inventory: enum value expected";case 0:case 1:case 2:case 3:}return null},o.fromObject=function(e){if(e instanceof i.ActionInventoryClick)return e;var t=new i.ActionInventoryClick;switch(null!=e.slot&&(t.slot=0|e.slot),e.type){case"LEFT":case 0:t.type=0;break;case"RIGHT":case 1:t.type=1;break;case"MIDDLE":case 2:t.type=2;break;case"SELECT":case 3:t.type=3}switch(e.inventory){case"MAIN":case 0:t.inventory=0;break;case"ARMOR":case 1:t.inventory=1;break;case"CRAFTING":case 2:t.inventory=2;break;case"HOOK":case 3:t.inventory=3}return t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.slot=0,n.type=t.enums===String?"LEFT":0,n.inventory=t.enums===String?"MAIN":0),null!=e.slot&&e.hasOwnProperty("slot")&&(n.slot=e.slot),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?i.ActionInventoryClick.Type[e.type]:e.type),null!=e.inventory&&e.hasOwnProperty("inventory")&&(n.inventory=t.enums===String?i.ActionInventoryClick.TypeInv[e.inventory]:e.inventory),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o.Type=(a={},(s=Object.create(a))[a[0]="LEFT"]=0,s[a[1]="RIGHT"]=1,s[a[2]="MIDDLE"]=2,s[a[3]="SELECT"]=3,s),o.TypeInv=function(){var e={},t=Object.create(e);return t[e[0]="MAIN"]=0,t[e[1]="ARMOR"]=1,t[e[2]="CRAFTING"]=2,t[e[3]="HOOK"]=3,t}(),o}(),i.ActionInventoryPick=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.slot=0,o.prototype.slot2=0,o.prototype.block=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.slot&&Object.hasOwnProperty.call(e,"slot")&&t.uint32(8).sint32(e.slot),null!=e.slot2&&Object.hasOwnProperty.call(e,"slot2")&&t.uint32(16).sint32(e.slot2),null!=e.block&&Object.hasOwnProperty.call(e,"block")&&t.uint32(24).sint32(e.block),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionInventoryPick;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.slot=e.sint32();break;case 2:o.slot2=e.sint32();break;case 3:o.block=e.sint32();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.slot&&e.hasOwnProperty("slot")&&!r.isInteger(e.slot)?"slot: integer expected":null!=e.slot2&&e.hasOwnProperty("slot2")&&!r.isInteger(e.slot2)?"slot2: integer expected":null!=e.block&&e.hasOwnProperty("block")&&!r.isInteger(e.block)?"block: integer expected":null},o.fromObject=function(e){if(e instanceof i.ActionInventoryPick)return e;var t=new i.ActionInventoryPick;return null!=e.slot&&(t.slot=0|e.slot),null!=e.slot2&&(t.slot2=0|e.slot2),null!=e.block&&(t.block=0|e.block),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.slot=0,n.slot2=0,n.block=0),null!=e.slot&&e.hasOwnProperty("slot")&&(n.slot=e.slot),null!=e.slot2&&e.hasOwnProperty("slot2")&&(n.slot2=e.slot2),null!=e.block&&e.hasOwnProperty("block")&&(n.block=e.block),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.ActionInventoryOpen=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var o,a;return r.prototype.inventory=0,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.inventory&&Object.hasOwnProperty.call(e,"inventory")&&t.uint32(8).int32(e.inventory),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionInventoryOpen;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.inventory=e.int32();break;default:e.skipType(7&a)}}return o},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.inventory&&e.hasOwnProperty("inventory"))switch(e.inventory){default:return"inventory: enum value expected";case 0:case 1:case 2:case 3:}return null},r.fromObject=function(e){if(e instanceof i.ActionInventoryOpen)return e;var t=new i.ActionInventoryOpen;switch(e.inventory){case"MAIN":case 0:t.inventory=0;break;case"CHEST":case 1:t.inventory=1;break;case"CRAFTING":case 2:t.inventory=2;break;case"FURNACE":case 3:t.inventory=3}return t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.inventory=t.enums===String?"MAIN":0),null!=e.inventory&&e.hasOwnProperty("inventory")&&(n.inventory=t.enums===String?i.ActionInventoryOpen.Type[e.inventory]:e.inventory),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r.Type=(o={},(a=Object.create(o))[o[0]="MAIN"]=0,a[o[1]="CHEST"]=1,a[o[2]="CRAFTING"]=2,a[o[3]="FURNACE"]=3,a),r}(),i.ActionInventoryClose=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var o,a;return r.prototype.inventory=0,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.inventory&&Object.hasOwnProperty.call(e,"inventory")&&t.uint32(8).int32(e.inventory),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionInventoryClose;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.inventory=e.int32();break;default:e.skipType(7&a)}}return o},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.inventory&&e.hasOwnProperty("inventory"))switch(e.inventory){default:return"inventory: enum value expected";case 0:case 1:case 2:case 3:}return null},r.fromObject=function(e){if(e instanceof i.ActionInventoryClose)return e;var t=new i.ActionInventoryClose;switch(e.inventory){case"MAIN":case 0:t.inventory=0;break;case"CHEST":case 1:t.inventory=1;break;case"CRAFTING":case 2:t.inventory=2;break;case"FURNACE":case 3:t.inventory=3}return t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.inventory=t.enums===String?"MAIN":0),null!=e.inventory&&e.hasOwnProperty("inventory")&&(n.inventory=t.enums===String?i.ActionInventoryClose.Type[e.inventory]:e.inventory),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r.Type=(o={},(a=Object.create(o))[o[0]="MAIN"]=0,a[o[1]="CHEST"]=1,a[o[2]="CRAFTING"]=2,a[o[3]="FURNACE"]=3,a),r}(),i.ActionClick=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.x=0,o.prototype.y=0,o.prototype.z=0,o.prototype.type="",o.prototype.onBlock=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(8).sint32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(16).sint32(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(24).sint32(e.z),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(34).string(e.type),null!=e.onBlock&&Object.hasOwnProperty.call(e,"onBlock")&&t.uint32(40).bool(e.onBlock),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionClick;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.sint32();break;case 2:o.y=e.sint32();break;case 3:o.z=e.sint32();break;case 4:o.type=e.string();break;case 5:o.onBlock=e.bool();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&!r.isInteger(e.x)?"x: integer expected":null!=e.y&&e.hasOwnProperty("y")&&!r.isInteger(e.y)?"y: integer expected":null!=e.z&&e.hasOwnProperty("z")&&!r.isInteger(e.z)?"z: integer expected":null!=e.type&&e.hasOwnProperty("type")&&!r.isString(e.type)?"type: string expected":null!=e.onBlock&&e.hasOwnProperty("onBlock")&&"boolean"!=typeof e.onBlock?"onBlock: boolean expected":null},o.fromObject=function(e){if(e instanceof i.ActionClick)return e;var t=new i.ActionClick;return null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.z&&(t.z=0|e.z),null!=e.type&&(t.type=String(e.type)),null!=e.onBlock&&(t.onBlock=Boolean(e.onBlock)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0,n.type="",n.onBlock=!1),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=e.z),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.onBlock&&e.hasOwnProperty("onBlock")&&(n.onBlock=e.onBlock),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.ActionClickEntity=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.uuid="",o.prototype.type="",o.prototype.distance=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(10).string(e.uuid),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(18).string(e.type),null!=e.distance&&Object.hasOwnProperty.call(e,"distance")&&t.uint32(29).float(e.distance),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionClickEntity;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.uuid=e.string();break;case 2:o.type=e.string();break;case 3:o.distance=e.float();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!r.isString(e.uuid)?"uuid: string expected":null!=e.type&&e.hasOwnProperty("type")&&!r.isString(e.type)?"type: string expected":null!=e.distance&&e.hasOwnProperty("distance")&&"number"!=typeof e.distance?"distance: number expected":null},o.fromObject=function(e){if(e instanceof i.ActionClickEntity)return e;var t=new i.ActionClickEntity;return null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.type&&(t.type=String(e.type)),null!=e.distance&&(t.distance=Number(e.distance)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uuid="",n.type="",n.distance=0),null!=e.uuid&&e.hasOwnProperty("uuid")&&(n.uuid=e.uuid),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.distance&&e.hasOwnProperty("distance")&&(n.distance=t.json&&!isFinite(e.distance)?String(e.distance):e.distance),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.ActionKeyPress=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.key="",o.prototype.type=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).bool(e.type),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ActionKeyPress;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.key=e.string();break;case 2:o.type=e.bool();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!r.isString(e.key)?"key: string expected":null!=e.type&&e.hasOwnProperty("type")&&"boolean"!=typeof e.type?"type: boolean expected":null},o.fromObject=function(e){if(e instanceof i.ActionKeyPress)return e;var t=new i.ActionKeyPress;return null!=e.key&&(t.key=String(e.key)),null!=e.type&&(t.type=Boolean(e.type)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.type=!1),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.WorldChunkIsLoadedResponce=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.x=0,o.prototype.y=0,o.prototype.z=0,o.prototype.loaded=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(8).sint32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(16).sint32(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(24).sint32(e.z),null!=e.loaded&&Object.hasOwnProperty.call(e,"loaded")&&t.uint32(32).bool(e.loaded),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.WorldChunkIsLoadedResponce;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.sint32();break;case 2:o.y=e.sint32();break;case 3:o.z=e.sint32();break;case 4:o.loaded=e.bool();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&!r.isInteger(e.x)?"x: integer expected":null!=e.y&&e.hasOwnProperty("y")&&!r.isInteger(e.y)?"y: integer expected":null!=e.z&&e.hasOwnProperty("z")&&!r.isInteger(e.z)?"z: integer expected":null!=e.loaded&&e.hasOwnProperty("loaded")&&"boolean"!=typeof e.loaded?"loaded: boolean expected":null},o.fromObject=function(e){if(e instanceof i.WorldChunkIsLoadedResponce)return e;var t=new i.WorldChunkIsLoadedResponce;return null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.z&&(t.z=0|e.z),null!=e.loaded&&(t.loaded=Boolean(e.loaded)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0,n.loaded=!1),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=e.z),null!=e.loaded&&e.hasOwnProperty("loaded")&&(n.loaded=e.loaded),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.PluginMessage=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.key="",o.prototype.version=0,o.prototype.value=r.newBuffer([]),o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(16).uint32(e.version),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(26).bytes(e.value),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PluginMessage;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.key=e.string();break;case 2:o.version=e.uint32();break;case 3:o.value=e.bytes();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!r.isString(e.key)?"key: string expected":null!=e.version&&e.hasOwnProperty("version")&&!r.isInteger(e.version)?"version: integer expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||r.isString(e.value))?"value: buffer expected":null},o.fromObject=function(e){if(e instanceof i.PluginMessage)return e;var t=new i.PluginMessage;return null!=e.key&&(t.key=String(e.key)),null!=e.version&&(t.version=e.version>>>0),null!=e.value&&("string"==typeof e.value?r.base64.decode(e.value,t.value=r.newBuffer(r.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.version=0,t.bytes===String?n.value="":(n.value=[],t.bytes!==Array&&(n.value=r.newBuffer(n.value)))),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?r.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i})?r.apply(t,i):r)||(e.exports=o)},,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(6),i=n(105),o=n(19);function a(){const e=new o.f;e.width=100*r.f+"px",e.height=18*r.f+"px",e.isPointerBlocker=!0,e.horizontalAlignment=2,e.thickness=0,e.paddingBottom="10px",e.zIndex=10;const t=new i.a;return t.text=[{text:"MenuItemText",color:"white",font:"Lato"}],t.fontSize=10*r.f,t.textHorizontalAlignment=2,e.addControl(t),e.onPointerEnterObservable.add(e=>{t.text.forEach(e=>e.underline=!0),t._markAsDirty()}),e.onPointerOutObservable.add(e=>{t.text.forEach(e=>e.underline=!1),t._markAsDirty()}),{item:e,text:t}}function s(){const e=new o.f;e.height=28*r.f+"px",e.adaptWidthToChildren=!0,e.thickness=0;const t=new o.j;t.fontFamily="Lato",t.fontSize=9*r.f,t.textVerticalAlignment=0,t.color="white",t.text="Input",t.top=r.f,t.verticalAlignment=0,e.addControl(t);const n=new o.e;n.thickness=0,n.background="#ffffffaa",n.focusedBackground="#ffffffff",n.placeholderText="Placeholder",n.color="#666666",n.verticalAlignment=0,n.height=15*r.f+"px",n.width=100*r.f+"px",n.top=14*r.f+"px",e.addControl(n);const i=i=>{e.height=28*r.f+"px",t.fontSize=9*r.f,n.height=15*r.f+"px",n.width=100*r.f+"px",n.top=14*r.f+"px"};return r.b.on("scale-change",i),e.onDisposeObservable.add(()=>{r.b.off("scale-change",i)}),{main:e,name:t,input:n}}function u(){const e=new o.f;e.height=28*r.f+"px",e.adaptWidthToChildren=!0,e.thickness=0;const t=new o.j;t.fontFamily="Lato",t.fontSize=9*r.f,t.textVerticalAlignment=0,t.color="white",t.text="Slider",t.top=r.f,t.verticalAlignment=0,e.addControl(t);const n=new o.h;n.minimum=0,n.maximum=100,n.value=0,n.height=13*r.f+"px",n.width=100*r.f+"px",n.top=14*r.f+"px",n.verticalAlignment=0,n.color="#666666",n.thumbColor="#888888",n.background="#ffffffaa",n.borderColor="#00000000",n.barOffset=6,e.addControl(n);const i=i=>{e.height=28*r.f+"px",t.fontSize=9*r.f,n.height=10*r.f+"px",n.width=100*r.f+"px",n.top=14*r.f+"px"};return r.b.on("scale-change",i),e.onDisposeObservable.add(()=>{r.b.off("scale-change",i)}),{main:e,name:t,slider:n}}function l(){const e=new o.f;e.height=12*r.f+"px",e.adaptWidthToChildren=!0,e.isPointerBlocker=!0,e.thickness=0;const t=new o.j;t.fontFamily="Lato",t.fontSize=9*r.f,t.textVerticalAlignment=0,t.color="white",t.text="Checkbox",t.top=r.f,t.verticalAlignment=0,t.width=100*r.f+"px",e.addControl(t);const n=n=>{e.height=12*r.f+"px",t.fontSize=9*r.f,t.width=100*r.f+"px"};return r.b.on("scale-change",n),e.onDisposeObservable.add(()=>{r.b.off("scale-change",n)}),{main:e,name:t,isChecked:!1}}function c(){const e=new o.f;e.height=17*r.f+"px",e.width=64*r.f+"px",e.verticalAlignment=0,e.horizontalAlignment=0,e.thickness=0,e.background="#4d4d4daa",e.color="#666666";const t=new i.a;t.text=[{text:"Text",color:"white",font:"Lato"}],t.textHorizontalAlignment=2,t.fontSize=6*r.f,t.onPointerEnterObservable.add(e=>{t.text.forEach(e=>e.underline=!0),t._markAsDirty()}),t.onPointerOutObservable.add(e=>{t.text.forEach(e=>e.underline=!1),t._markAsDirty()}),e.addControl(t);const n=n=>{e.height=17*r.f+"px",e.width=64*r.f+"px",t.fontSize=6*r.f};return r.b.on("scale-change",n),e.onDisposeObservable.add(()=>{r.b.off("scale-change",n)}),{button:e,buttonText:t}}},,,,,,,,,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(146);let i=r.a;function o(e){i=Object(r.b)(i,e)}function a(e){return i.deserialize(e)}function s(e){return i.serialize(e)}},function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return I})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return R})),n.d(t,"c",(function(){return M}));var r=n(33),i=n(86),o=n(165),a=n(139),s=n(100),u=n(39),l=n(114),c=n(151),f=n(205);function h(){null!=s.b&&s.b.dispose(),null!=f.b&&f.b.dispose(),null!=u.c&&u.c.dispose(),null!=u.d&&u.d.dispose(),null!=c.c&&c.c.dispose(),null!=a.a&&a.a.dispose(),null!=a.b&&a.b.dispose(),null!=l.b&&l.b.dispose()}var d=n(6),p=n(19),m=n(45);var y=n(30);var v=n(265),g=n(92),b=n(113),w=n(99);const _={};var x=n(185),k=n(77),O=n(183),P=n(443),S=n(126),E=n(264);let j,C=null,A=null,T=null;function I(e,t){null!=C&&C.send(e,t)}let z={};function D(){C.close(0),B(j),j.ents.getPhysics(j.playerEntity).body.airDrag=9999,Object.values(z).forEach(e=>{j.ents.deleteEntity(e,!0)}),z={},h(),Object(r.k)({ingame:!1}),document.exitPointerLock(),j.rendering.getScene().cameras[0].fov=.8,Object(o.a)(j)}function R(e,t){let n,i,o=t.split("|");if(i=E.b[t],2==o.length){i=E.b[o[1]];const e="*"==t.charAt(6)?r.f:o[1];if(!t.startsWith("c0.30|"))return;n=Object(P.a)(e,t)}else n=t.startsWith("wss://")||t.startsWith("ws://")?new O.a(t):new O.a("ws://"+t);console.log(i),M(e,n,i)}function M(e,t,n){document.title="VoxelSrv - Connecting to server...";const O=function(){document.title="VoxelSrv - Connecting...";const e=new p.f;e.thickness=0,e.horizontalAlignment=2,e.zIndex=10,e.height=120*d.f+"px",e.width=180*d.f+"px",e.background="#11111166",Object(d.d)(2).addControl(e);const t=new p.j;t.fontFamily="Lato",t.fontSize=10*d.f,t.textVerticalAlignment=0,t.color="white",t.top=d.f,e.addControl(t);const n=new p.j;n.fontFamily="Lato",n.fontSize=9*d.f,n.top=14*d.f+"px",n.textVerticalAlignment=0,n.color="white",e.addControl(n);const r=new p.j;r.fontFamily="Lato",r.fontSize=9*d.f,r.textVerticalAlignment=2,r.color="white",r.text="Logging in...",r.textWrapping=p.k.WordWrap,e.addControl(r);const i=Object(m.d)();i.item.verticalAlignment=1,i.text.text=[{text:"Disconnect",color:"white",font:"Lato"}],i.item.onPointerClickObservable.add(()=>{e.dispose(),D()}),e.addControl(i.item);const o=o=>{e.height=120*d.f+"px",e.width=180*d.f+"px",t.fontSize=11*d.f,n.fontSize=11*d.f,n.top=14*d.f+"px",r.fontSize=9*d.f,i.item.width=100*d.f+"px",i.item.height=18*d.f+"px",i.text.fontSize=10*d.f};return d.b.on("scale-change",o),e.onDisposeObservable.add(()=>{d.b.off("scale-change",o)}),{menu:e,name:t,motd:n,status:r}}();null!=n&&(O.motd.text=n.motd?n.motd:"Unknown server",O.name.text=n.name?n.name:t.server),j=e;const P=j.rendering.getScene().getEngine();j.worldName="World"+Math.round(1e3*Math.random()),C=t,console.log("Username: "+r.c.nickname,"Server: "+C.server);let E=!0;z={},null!=o.b&&o.b.dispose(),C.on("PlayerKick",e=>{C.close(),O.menu.dispose(),j.rendering.getScene().cameras[0].fov=.8,j.ents.getPhysics(j.playerEntity).body.airDrag=9999,Object.values(z).forEach(e=>{j.ents.deleteEntity(e,!0)}),console.log("You has been kicked from server \nReason: "+e.reason),B(j),h(),function(e,t,n){document.title="VoxelSrv - Disconnected!";const r=new p.f;r.thickness=0,r.horizontalAlignment=2,r.zIndex=10,r.height=120*d.f+"px",r.width=180*d.f+"px",r.background="#11111166",Object(d.d)(2).addControl(r);const i=new p.j;i.fontFamily="Lato",i.fontSize=11*d.f,i.textVerticalAlignment=0,i.color="white",i.text="Disconnected!",i.top=d.f,r.addControl(i);const a=new p.j;a.fontFamily="Lato",a.fontSize=9*d.f,a.textVerticalAlignment=2,a.color="white",a.text=e,a.textWrapping=p.k.WordWrap,r.addControl(a);const s=Object(m.d)();s.item.verticalAlignment=1,s.text.text=[{text:"Reconnect",color:"white",font:"Lato"}],s.item.top=`-${16*d.f}px`,s.item.onPointerClickObservable.add(()=>{r.dispose(),R(n,t)}),r.addControl(s.item);const u=Object(m.d)();u.item.verticalAlignment=1,u.text.text=[{text:"Main menu",color:"white",font:"Lato"}],u.item.onPointerClickObservable.add(()=>{r.dispose(),Object(o.a)(n)}),r.addControl(u.item);const l=e=>{r.height=120*d.f+"px",r.width=180*d.f+"px",i.fontSize=11*d.f,u.item.width=100*d.f+"px",u.item.height=18*d.f+"px",u.text.fontSize=10*d.f,s.item.width=100*d.f+"px",s.item.height=18*d.f+"px",s.text.fontSize=10*d.f,s.item.top=`-${16*d.f}px`};d.b.on("scale-change",l),r.onDisposeObservable.add(()=>{d.b.off("scale-change",l)})}(e.reason,C.server,j),Object(r.k)({ingame:!1}),document.exitPointerLock()}),C.on("LoginStatus",e=>{O.status.text=e.message}),C.on("LoginRequest",e=>{j.worldName="World-"+1e4*Math.random(),j.camera.heading=0,j.camera.pitch=0,Object(b.c)(),j.world._chunksKnown.forEach(e=>{j.world.manuallyUnloadChunk(32*e[0],32*e[1],32*e[2])});const t=j.rendering.getScene();e.auth,Object(w.b)(C.server),C.send("LoginResponse",{username:r.c.nickname,protocol:r.b,mobile:i.isMobile,client:"VoxelSrv "+r.d,uuid:r.c.nickname.toLocaleLowerCase(),secret:""});let n="";C.on("PlayerEntity",e=>{console.log("Ignoring player-entity: "+e.uuid),n=e.uuid,null!=z[e.uuid]&&null!=j&&j.ents.deleteEntity(z[e.uuid]),delete z[e.uuid]});const o=Object(r.h)();t.fogMode=0,t.fogStart=20,t.fogEnd=60,t.fogDensity=.1,t.fogColor=new y.b(0,0,0),j.blockTestDistance=7,t.cameras[0].fov=r.c.fov*Math.PI/180,t.clearColor=new y.c(o.clearColor[0],o.clearColor[1],o.clearColor[2],1),x.a.isVisible=!0,E&&C.on("LoginSuccess",e=>{var i,o;if(O.menu.dispose(),Object(r.k)({ingame:!0}),h(),Object(b.c)(),document.title="VoxelSrv - Playing on "+C.server,Object(g.d)(j,JSON.parse(e.blocksDef)),Object(g.e)(j,JSON.parse(e.itemsDef)),function(e,t,n,r){const i=e.playerEntity,o=e.entities.getPositionData(i),a=e.rendering.getScene(),s=(o.width,o.height),u=(e.ents.getPositionData(e.playerEntity).height,[0,s/2,0]),l=e.entities.getMovement(i);r&&Object.entries(r).forEach(e=>{l[e[0]]=e[1]}),null!=t&&e.ents.addComponentAgain(i,"inventory",t),null!=n&&(e.ents.getState(i,"inventory").armor=n),e.ents.getState(i,"inventory").crafting={1:{},2:{},3:{},4:{}},e.entities.addComponentAgain(i,"mesh",{mesh:new y.f("main",a),offset:u})}(j,JSON.parse(e.inventory),JSON.parse(e.armor),JSON.parse(e.movement)),x.a.dispose(),Object(x.b)(j),i=j,o=C,Object(f.a)(i,o),Object(a.d)(),Object(a.c)(i,o.server),Object(s.a)(i,o),Object(u.e)(),Object(l.a)(i),Object(c.b)(),j.ents.setPosition(j.playerEntity,e.xPos,e.yPos,e.zPos),!E)return;E=!1,C.on("WorldChunkLoad",e=>{Object(b.e)(e)}),C.on("WorldChunkUnload",e=>{const t=e.height>0?e.height:1;for(let n=0;n<=t;n++)Object(b.d)(`${e.x}|${e.y+n}|${e.z}`)}),C.on("WorldChunksRemoveAll",e=>{e.confirm&&Object(b.c)()}),C.on("WorldChunkIsLoaded",e=>{C.send("WorldChunkIsLoadedResponce",{x:e.x,y:e.y,z:e.z,loaded:Object(b.a)([e.x,e.y,e.z].join("|"))})}),C.on("WorldMultiBlockUpdate",e=>{Object.values(e.blocks).forEach(e=>{j.setBlock(e.id,e.x,e.y,e.z),Object(b.b)(e.id,e.x,e.y,e.z)})}),C.on("WorldBlockUpdate",e=>{j.setBlock(e.id,e.x,e.y,e.z),Object(b.b)(e.id,e.x,e.y,e.z)}),C.on("EnvironmentFogUpdate",e=>{null!=e.mode&&(t.fogMode=e.mode),null!=e.start&&(t.fogStart=e.start),null!=e.end&&(t.fogEnd=e.end),null!=e.density&&(t.fogDensity=e.density),e.colorRed,e.colorGreen,null!=e.colorBlue&&(t.fogColor=new y.b(e.colorRed,e.colorGreen,e.colorBlue))}),C.on("EnvironmentSkyUpdate",e=>{e.colorRed,e.colorGreen,null!=e.colorBlue&&(t.clearColor=new y.c(e.colorRed,e.colorGreen,e.colorBlue,1)),null!=e.clouds&&(x.a.isVisible=e.clouds)}),C.on("PlayerInventory",(function(e){const t=JSON.parse(e.inventory);"armor"==e.type?j.ents.getState(j.playerEntity,"inventory").armor=t:"hook"==e.type?j.ents.getState(j.playerEntity,"inventory").hook=t:(j.ents.getState(j.playerEntity,"inventory").items=t.items,j.ents.getState(j.playerEntity,"inventory").tempslot=t.tempslot)})),C.on("PlayerSlotUpdate",(function(e){const t=JSON.parse(e.data),n=j.ents.getState(j.playerEntity,"inventory");"temp"==e.type?n.tempslot=t:"main"==e.type?n.items[e.slot]=t:"armor"==e.type?n.armor.items[e.slot]=t:"crafting"==e.type?n.crafting[e.slot]=t:"hook"==e.type&&(n.hook.items[e.slot]=t)})),C.on("PlayerSetBlockReach",e=>{j.blockTestDistance=e.value}),C.on("PlayerOpenInventory",e=>{e.type==S.PlayerOpenInventory.Type.MAIN&&j.inputs.down.emit("inventory")}),C.on("ChatMessage",e=>{Object(u.a)(e.message)}),C.on("UpdateTextBoard",e=>{e.type==S.UpdateTextBoard.Type.TAB&&Object(c.a)(e.message)}),C.on("PlayerTeleport",(function(e){j.ents.setPosition(j.playerEntity,e.x,e.y,e.z)})),C.on("PlayerUpdateMovement",e=>{j.ents.getMovement(j.playerEntity)[e.key]=e.value}),C.on("PlayerUpdatePhysics",e=>{j.ents.getPhysicsBody(j.playerEntity)[e.key]=e.value}),C.on("PlayerApplyImpulse",e=>{j.ents.getPhysicsBody(j.playerEntity).applyImpulse([e.x,e.y,e.z])}),C.on("EntityCreate",async e=>{if(n!=e.uuid){const t=JSON.parse(e.data);z[e.uuid]=j.ents.add(Object.values(t.position),1,2,null,null,!1,!0),Object(v.b)(z[e.uuid],e.uuid,t.model,t.texture,t.offset,t.nametag,t.name,t.hitbox),j.ents.getState(z[e.uuid],"position").newPosition=j.ents.getState(z[e.uuid],"position").position}}),C.on("EntityNameUpdate",e=>{const t=j.ents.getState(z[e.uuid],"model");t.nametag.dispose(),t.nametag=Object(v.a)(t.main,e.name,j.ents.getPositionData(z[e.uuid]).height,e.visible)}),C.on("EntityRemove",e=>{null!=z[e.uuid]&&j.ents.deleteEntity(z[e.uuid]),delete z[e.uuid]}),C.on("EntityMove",e=>{if(null!=z[e.uuid]){var t=[e.x,e.y,e.z];j.ents.getState(z[e.uuid],"position").newPosition=t,j.ents.getState(z[e.uuid],"position").rotation=2*e.rotation,j.ents.getState(z[e.uuid],"position").pitch=2*e.pitch}}),C.on("EntityHeldItem",e=>{}),C.on("EntityArmor",e=>{}),C.on("SoundPlay",e=>{!function(e,t,n,r){const i=Object.keys(_)[Object.keys(_).length-1]+1;let o=t/10;0>t?o=0:1<t&&(o=.1),console.log("Playing: "+e,"Volume: "+t,"Position: "+n);let a=Object(w.a)(e,"sound");function s(){_[i].play()}null!=n?(_[i]=new y.i("Sound",a,r.rendering.getScene(),s,{volume:o,spatialSound:!0,maxDistance:100}),_[i].setPosition(new y.l(n[0],n[1],n[2]))):_[i]=new y.i("Sound",a,r.rendering.getScene(),s,{volume:o}),_[i].onended=function(){delete _[i]}}(e.sound,e.volume,null!=e.x?[e.x,e.y,e.z]:null,j)});const d=j.ents.getState(j.playerEntity,"position");let p=[],m=0,I=0,D=0;T=()=>{const e=j.camera.heading,t=j.camera.pitch;k.dist(p,d.position)>.15||m!=e||I!=t?(p=[...d.position],I=t,m=e,C.send("ActionMoveLook",{x:d.position[0],y:d.position[1],z:d.position[2],rotation:e,pitch:t})):k.dist(p,d.position)>.15?(p=[...d.position],C.send("ActionMove",{x:d.position[0],y:d.position[1],z:d.position[2]})):m==e&&I==t||(I=t,m=e,C.send("ActionLook",{rotation:e,pitch:t})),D+=1,D>=120&&(C.send("Ping",{time:Date.now()}),D=0)},j.on("tick",T),A=async function(){Object.values(z).forEach((async function(e){const t=j.ents.getState(e,"position"),n=t.position,r=t.newPosition,i=j.ents.getState(e,j.entities.names.mesh),o=j.ents.getState(e,"model");if(null!=i&&null!=r&&null!=n){let a=k.create();k.lerp(a,n,r,12/P.getFps());const s=t.rotation?t.rotation:0,u=t.pitch?t.pitch:0;j.ents.setPosition(e,a[0],a[1],a[2]);const l=[r[0],0,r[2]],c=[n[0],0,n[2]];null==o.x&&(o.x=0,o.y=0,o.z=!1);let f=Math.sin(o.x);if(k.dist(l,c)>.05)o.y=k.dist(l,c)/5,o.x=o.x+o.y,Math.abs(f)>.95?o.z=!0:Math.abs(f)<.05&&(o.z=!1);else{const e=parseFloat(f.toFixed(1));0==e||o.z||(o.x=o.x-.05),0!=e&&o.z&&(o.x=o.x+.05)}o.models.left_arm.rotation.x=-f,o.models.right_arm.rotation.x=f,o.models.right_leg.rotation.x=-f,o.models.left_leg.rotation.x=f,i.mesh.rotation.y||(i.mesh.rotation.y=0);const h=i.mesh.rotation.y;i.mesh.rotation.y=s/2-h>5?s/2:(s/2+h)/2,o.models.head.rotation.x=u/2,null!=o.nametag&&(o.nametag.rotation.y=j.camera.heading-i.mesh.rotation.y,o.nametag.rotation.x=j.camera.pitch)}}))},j.on("beforeRender",A);let R=setInterval(()=>{j.world.playerChunkLoaded&&(j.ents.getPhysics(j.playerEntity).body.airDrag=-1,clearInterval(R))},1)})})}function B(e){null!=T&&e.off("tick",T),null!=T&&e.off("beforeRender",A)}},,function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,a,s;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var l=u.length,c=y(u,l);for(n=0;n<l;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s}));const r=Symbol("thread.errors"),i=Symbol("thread.events"),o=Symbol("thread.terminate"),a=Symbol("thread.transferable"),s=Symbol("thread.worker")},,,,,,function(e,t,n){"use strict";(function(e){var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(224),r.base64=n(225),r.EventEmitter=n(226),r.float=n(227),r.inquire=n(228),r.utf8=n(229),r.pool=n(230),r.LongBits=n(231),r.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),r.global=r.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(55))},,,,function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){e.exports={EPSILON:n(207),create:n(208),clone:n(313),angle:n(314),fromValues:n(209),copy:n(315),set:n(316),equals:n(317),exactEquals:n(318),add:n(319),subtract:n(212),sub:n(320),multiply:n(213),mul:n(321),divide:n(214),div:n(322),min:n(323),max:n(324),floor:n(325),ceil:n(326),round:n(327),scale:n(328),scaleAndAdd:n(329),distance:n(215),dist:n(330),squaredDistance:n(216),sqrDist:n(331),length:n(217),len:n(332),squaredLength:n(218),sqrLen:n(333),negate:n(334),inverse:n(335),normalize:n(210),dot:n(211),cross:n(336),lerp:n(337),random:n(338),transformMat4:n(339),transformMat3:n(340),transformQuat:n(341),rotateX:n(342),rotateY:n(343),rotateZ:n(344),forEach:n(345)}},,,,function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.cancel="cancel",e.run="run"}(r||(r={})),function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"}(i||(i={}))},,,function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(357),i=n(358),o=n(278);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return N(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(l(e,o+h)!==l(t,h)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return $(N(t,e.length-n),e,n,r)}function _(e,t,n,r){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return _(e,t,n,r)}function k(e,t,n,r){return $(U(t),e,n,r)}function O(e,t,n,r){return $(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function P(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(l[f]!==c[f]){o=l[f],a=c[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function z(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,o){return o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:N(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(55))},,function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var r={MOBILE:"mobile",TABLET:"tablet",SMART_TV:"smarttv",CONSOLE:"console",WEARABLE:"wearable",BROWSER:void 0};e.exports={BROWSER_TYPES:{CHROME:"Chrome",FIREFOX:"Firefox",OPERA:"Opera",YANDEX:"Yandex",SAFARI:"Safari",INTERNET_EXPLORER:"Internet Explorer",EDGE:"Edge",CHROMIUM:"Chromium",IE:"IE",MOBILE_SAFARI:"Mobile Safari",EDGE_CHROMIUM:"Edge Chromium"},DEVICE_TYPES:r,OS_TYPES:{IOS:"iOS",ANDROID:"Android",WINDOWS_PHONE:"Windows Phone",WINDOWS:"Windows",MAC_OS:"Mac OS"},defaultData:{isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1}}},function(e,t,n){"use strict";var r,i=n(2),o=n(0),a=o.BROWSER_TYPES,s=o.OS_TYPES,u=o.DEVICE_TYPES,l=n(4),c=l.checkType,f=l.broPayload,h=l.mobilePayload,d=l.wearPayload,p=l.consolePayload,m=l.stvPayload,y=l.getNavigatorInstance,v=l.isIOS13Check,g=new i,b=g.getBrowser(),w=g.getDevice(),_=g.getEngine(),x=g.getOS(),k=g.getUA(),O=a.CHROME,P=a.CHROMIUM,S=a.IE,E=a.INTERNET_EXPLORER,j=a.OPERA,C=a.FIREFOX,A=a.SAFARI,T=a.EDGE,I=a.YANDEX,z=a.MOBILE_SAFARI,D=u.MOBILE,R=u.TABLET,M=u.SMART_TV,B=u.BROWSER,L=u.WEARABLE,F=u.CONSOLE,N=s.ANDROID,U=s.WINDOWS_PHONE,$=s.IOS,V=s.WINDOWS,q=s.MAC_OS,W=function(){return x.name===s.WINDOWS&&"10"===x.version&&("string"==typeof k&&-1!==k.indexOf("Edg/"))},H=function(){return b.name===T},K=function(){return v("iPad")},J=w.type===M,G=w.type===F,Y=w.type===L,Z=b.name===z||K(),Q=b.name===P,X=function(){switch(w.type){case D:case R:return!0;default:return!1}}()||K(),ee=w.type===D,te=w.type===R||K(),ne=w.type===B,re=x.name===N,ie=x.name===U,oe=x.name===$||K(),ae=b.name===O,se=b.name===C,ue=b.name===A||b.name===z,le=b.name===j,ce=b.name===E||b.name===S,fe=x.version?x.version:"none",he=x.name?x.name:"none",de=b.major,pe=b.version,me=b.name,ye=w.vendor?w.vendor:"none",ve=w.model?w.model:"none",ge=_.name,be=_.version,we=k,_e=H()||W(),xe=b.name===I,ke=w.type,Oe=(r=y())&&(/iPad|iPhone|iPod/.test(r.platform)||"MacIntel"===r.platform&&r.maxTouchPoints>1)&&!window.MSStream,Pe=K(),Se=v("iPhone"),Ee=v("iPod"),je=function(){var e=y(),t=e&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)}(),Ce=W(),Ae=H(),Te=x.name===V,Ie=x.name===q,ze=c(w.type);e.exports={deviceDetect:function(){var e=ze.isBrowser,t=ze.isMobile,n=ze.isTablet,r=ze.isSmartTV,i=ze.isConsole,o=ze.isWearable;return e?f(e,b,_,x,k):r?m(r,_,x,k):i?p(i,_,x,k):t||n?h(ze,w,x,k):o?d(o,_,x,k):void 0},isSmartTV:J,isConsole:G,isWearable:Y,isMobileSafari:Z,isChromium:Q,isMobile:X,isMobileOnly:ee,isTablet:te,isBrowser:ne,isAndroid:re,isWinPhone:ie,isIOS:oe,isChrome:ae,isFirefox:se,isSafari:ue,isOpera:le,isIE:ce,osVersion:fe,osName:he,fullBrowserVersion:de,browserVersion:pe,browserName:me,mobileVendor:ye,mobileModel:ve,engineName:ge,engineVersion:be,getUA:we,isEdge:_e,isYandex:xe,deviceType:ke,isIOS13:Oe,isIPad13:Pe,isIPhone13:Se,isIPod13:Ee,isElectron:je,isEdgeChromium:Ce,isLegacyEdge:Ae,isWindows:Te,isMacOs:Ie}},function(e,t,n){var r;
/*!
 * UAParser.js v0.7.18
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright Â© 2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 or MIT
 */!function(i,o){"use strict";var a="model",s="name",u="type",l="vendor",c="version",f="mobile",h="tablet",d={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},p={rgx:function(e,t){for(var n,r,i,o,a,s,u=0;u<t.length&&!a;){var l=t[u],c=t[u+1];for(n=r=0;n<l.length&&!a;)if(a=l[n++].exec(e))for(i=0;i<c.length;i++)s=a[++r],"object"==typeof(o=c[i])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;u+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(d.has(t[n][r],e))return"?"===n?void 0:n}else if(d.has(t[n],e))return"?"===n?void 0:n;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},y={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,c],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[s,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],c],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],c],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],c],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],c],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],c],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],c],[/(qqbrowserlite)\/([\w\.]+)/i],[s,c],[/(QQ)\/([\d\.]+)/i],[s,c],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,c],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[s,c],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,c],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[c,[s,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[c,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],c],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],c],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[c,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,c],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],c],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],c],[/fxios\/([\w\.-]+)/i],[c,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,s],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[c,p.str,m.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[s,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[a,l,[u,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[l,"Apple"],[u,h]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,a,[u,h]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[a,[l,"Amazon"],[u,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[a,p.str,m.device.amazon.model],[l,"Amazon"],[u,f]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,l,[u,f]],[/\((ip[honed|\s\w*]+);/i],[a,[l,"Apple"],[u,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,a,[u,f]],[/\(bb10;\s(\w+)/i],[a,[l,"BlackBerry"],[u,f]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[a,[l,"Asus"],[u,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[a,"Xperia Tablet"],[u,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[a,[l,"Sony"],[u,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,a,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[l,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[l,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[l,p.str,m.device.sprint.vendor],[a,p.str,m.device.sprint.model],[u,f]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,a,[u,h]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[a,/_/g," "],[u,f]],[/(nexus\s9)/i],[a,[l,"HTC"],[u,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[a,[l,"Huawei"],[u,f]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,a,[u,f]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[l,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[l,"Microsoft"],[u,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[l,"Motorola"],[u,f]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[l,"Motorola"],[u,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,d.trim],[a,d.trim],[u,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[l,"Samsung"],[u,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[a,[l,"Sharp"],[u,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],a,[u,h]],[/smart-tv.+(samsung)/i],[l,[u,"smarttv"],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],a,[u,f]],[/sie-(\w*)/i],[a,[l,"Siemens"],[u,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],a,[u,f]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[a,[l,"Acer"],[u,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[l,"LG"],[u,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],a,[u,h]],[/(lg) netcast\.tv/i],[l,a,[u,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[l,"LG"],[u,f]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[l,"Lenovo"],[u,h]],[/linux;.+((jolla));/i],[l,a,[u,f]],[/((pebble))app\/[\d\.]+\s/i],[l,a,[u,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,a,[u,f]],[/crkey/i],[[a,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[a,[l,"Google"],[u,"wearable"]],[/android.+;\s(pixel c)\s/i],[a,[l,"Google"],[u,h]],[/android.+;\s(pixel xl|pixel)\s/i],[a,[l,"Google"],[u,f]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[l,"Xiaomi"],[u,f]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[l,"Xiaomi"],[u,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[l,"Meizu"],[u,h]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[a,[l,"OnePlus"],[u,f]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[l,"RCA"],[u,h]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[a,[l,"Dell"],[u,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[l,"Verizon"],[u,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],a,[u,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[l,"NuVision"],[u,h]],[/android.+;\s(k88)\sbuild/i],[a,[l,"ZTE"],[u,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[l,"Swiss"],[u,f]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[l,"Swiss"],[u,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[l,"Zeki"],[u,h]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],a,[u,h]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[l,"Insignia"],[u,h]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[l,"NextBook"],[u,h]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],a,[u,f]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],a,[u,f]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[l,"Envizen"],[u,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,a,[u,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[a,[l,"MachSpeed"],[u,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,a,[u,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[l,"Rotor"],[u,h]],[/android.+(KS(.+))\s+build/i],[a,[l,"Amazon"],[u,h]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,a,[u,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,d.lowerize],l,a],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[s,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,c],[/rv\:([\w\.]{1,9}).+(gecko)/i],[c,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[c,p.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[c,p.str,m.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[s,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],c],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],c],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,c],[/(haiku)\s(\w+)/i],[s,c],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[c,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[s,c]]},v=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof v))return new v(e,t).getResult();var n=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?d.extend(y,t):y;return this.getBrowser=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,n,r.browser),e.major=d.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return p.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return p.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};v.VERSION="0.7.18",v.BROWSER={NAME:s,MAJOR:"major",VERSION:c},v.CPU={ARCHITECTURE:"architecture"},v.DEVICE={MODEL:a,VENDOR:l,TYPE:u,CONSOLE:"console",MOBILE:f,SMARTTV:"smarttv",TABLET:h,WEARABLE:"wearable",EMBEDDED:"embedded"},v.ENGINE={NAME:s,VERSION:c},v.OS={NAME:s,VERSION:c},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=v),t.UAParser=v):n(3)?void 0===(r=function(){return v}.call(t,n,t,e))||(e.exports=r):i&&(i.UAParser=v);var g=i&&(i.jQuery||i.Zepto);if(void 0!==g){var b=new v;g.ua=b.getResult(),g.ua.get=function(){return b.getUA()},g.ua.set=function(e){b.setUA(e);var t=b.getResult();for(var n in t)g.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=i.DEVICE_TYPES,a=i.defaultData,s=t.getNavigatorInstance=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},u=t.isIOS13Check=function(e){var t=s();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};e.exports={checkType:function(e){switch(e){case o.MOBILE:return{isMobile:!0};case o.TABLET:return{isTablet:!0};case o.SMART_TV:return{isSmartTV:!0};case o.CONSOLE:return{isConsole:!0};case o.WEARABLE:return{isWearable:!0};case o.BROWSER:return{isBrowser:!0};default:return a}},broPayload:function(e,t,n,r,i){return{isBrowser:e,browserMajorVersion:t.major,browserFullVersion:t.version,browserName:t.name,engineName:n.name||!1,engineVersion:n.version,osName:r.name,osVersion:r.version,userAgent:i}},mobilePayload:function(e,t,n,i){return r({},e,{vendor:t.vendor,model:t.model,os:n.name,osVersion:n.version,ua:i})},stvPayload:function(e,t,n,r){return{isSmartTV:e,engineName:t.name,engineVersion:t.version,osName:n.name,osVersion:n.version,userAgent:r}},consolePayload:function(e,t,n,r){return{isConsole:e,engineName:t.name,engineVersion:t.version,osName:n.name,osVersion:n.version,userAgent:r}},wearPayload:function(e,t,n,r){return{isWearable:e,engineName:t.name,engineVersion:t.version,osName:n.name,osVersion:n.version,userAgent:r}},getNavigatorInstance:s,isIOS13Check:u}}])},,,,,function(e,t,n){(function(r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(359)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(56))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c}));var r=n(30),i=n(99);let o={},a={},s={},u={};function l(e,t){const n=e.rendering.getScene();o=t;Object.values(t).forEach(e=>{s[e.id]=e.rawid,u[e.rawid]=e.id}),e.registry.registerMaterial("water",[.5,.5,.8,.7],null,!0),e.registry.registerMaterial("barrier",[0,0,0,0],null,!0),console.log("Blocks: ",s);Object.values(t).forEach((function(t){!function(t,o,a,s,u,l,c,f){if(0==a){let n,r=0==u.opaque,a=null!=u.color?Object.values(u.color):[0,0,0];if(null==s&&(s=[""]),1==s.length&&null==u.material)e.registry.registerMaterial(o,a,""!=s[0]?Object(i.a)(s[0],"texture"):null,r),n=o;else if(null==u.material){n=new Array;for(let t=0;t<s.length;t++)e.registry.registerMaterial(o+t,a,""!=s[t]?Object(i.a)(s[t],"texture"):null,r),n.push(o+t)}else n=u.material;const l=u;l.material=n,e.registry.registerBlock(t,l)}else if(1==a){const a=function(e,t,n,o){const a=o||"mat";let s=new r.k(Object(i.a)(n,"texture"),t,!0,!0,r.k.NEAREST_SAMPLINGMODE);s.hasAlpha=!0;const u=r.f.CreatePlane("sprite-"+a,1,t),l=e.rendering.makeStandardMaterial(a);l.backFaceCulling=!1,l.diffuseTexture=s,l.diffuseTexture.vOffset=.99,u.material=l,u.rotation.y+=.81;const c=r.e.Translation(0,.5,0);u.bakeTransformIntoVertices(c);const f=u.clone();return f.rotation.y+=1.62,r.f.MergeMeshes([u,f],!0)}(e,n,s[0],o),l=u;l.blockMesh=a,e.registry.registerBlock(t,l)}else if(2==a){const a=function(e,t,n,o){const a={};let s=o||"mat";const u=e.rendering.makeStandardMaterial(s),l=e.rendering.makeStandardMaterial(s);u.backFaceCulling=!1,l.backFaceCulling=!1;const c=Object(i.a)(n[0],"texture"),f=Object(i.a)(n[1],"texture");u.diffuseTexture=new r.k(f,t,!0,!0,r.k.NEAREST_LINEAR),u.diffuseTexture.hasAlpha=!0,l.diffuseTexture=new r.k(c,t,!0,!0,r.k.NEAREST_LINEAR),l.diffuseTexture.hasAlpha=!0;for(let e=0;e<6;e++){let n;switch(a[e]=r.f.CreatePlane("sprite-"+s,1,t),a[e].material=u,e){case 0:n=r.e.Translation(0,.5,.435),a[e].rotation.y=1.57;break;case 1:n=r.e.Translation(0,.5,-.435),a[e].rotation.y=1.57;break;case 2:n=r.e.Translation(0,.5,.435);break;case 3:n=r.e.Translation(0,.5,-.435);break;case 4:n=r.e.Translation(0,0,-1),a[e].rotation.x=1.57;break;case 5:n=r.e.Translation(0,0,0),a[e].rotation.x=1.57}a[e].bakeTransformIntoVertices(n)}const h=r.f.MergeMeshes(Object.values(a),!0,!0,void 0,!0,!1);for(let e=0;e<6;e++)switch(e){case 0:case 1:h.subMeshes[e].materialIndex=1;break;case 2:case 3:case 4:case 5:h.subMeshes[e].materialIndex=0}return h}(e,n,[s[0],s[1]],o),l=u;l.blockMesh=a,e.registry.registerBlock(t,l)}else if(4==a){let a;if(1==s.length&&null==u.material){const t=e.rendering.makeStandardMaterial(o);let u;u=new r.k(Object(i.a)(s[0],"texture"),n,!0,!0,r.k.NEAREST_SAMPLINGMODE),t.diffuseTexture=u,t.opacityTexture=t.diffuseTexture,t.backFaceCulling=!0,e.registry.registerMaterial(o,null,null,!1,t),a=o}else if(null==u.material){a=new Array;for(let t=0;t<s.length;t++){const a=e.rendering.makeStandardMaterial(o);let u;u=new r.k(Object(i.a)(s[0],"texture"),n,!0,!0,r.k.NEAREST_SAMPLINGMODE),a.diffuseTexture=u,a.opacityTexture=a.diffuseTexture,a.backFaceCulling=!0,e.registry.registerMaterial(o+t,null,null,!1,a),a.push(o+t)}}const l=u;l.material=a,e.registry.registerBlock(t,l)}}(t.rawid,t.id,t.type,t.texture,t.options,t.hardness,t.miningtime,t.tool)}))}function c(e,t){a=t,console.log("Items: ",t)}},,function(e,t,n){"use strict";e.exports=n(223)},,function(e,t,n){var r=n(346),i=n(347),o="undefined"!=typeof Float64Array;function a(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(a);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function u(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var i="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===t){o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",o)(l[e][0])}o=["'use strict'"];var a=r(t),u=a.map((function(e){return"i"+e})),c="this.offset+"+a.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),f=a.map((function(e){return"b"+e})).join(","),h=a.map((function(e){return"c"+e})).join(",");o.push("function "+n+"(a,"+f+","+h+",d){this.data=a","this.shape=["+f+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),t<4?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+u.join(",")+",v){"),i?o.push("return this.data.set("+c+",v)}"):o.push("return this.data["+c+"]=v}"),o.push("proto.get=function "+n+"_get("+u.join(",")+"){"),i?o.push("return this.data.get("+c+")}"):o.push("return this.data["+c+"]}"),o.push("proto.index=function "+n+"_index(",u.join(),"){return "+c+"}"),o.push("proto.hi=function "+n+"_hi("+u.join(",")+"){return new "+n+"(this.data,"+a.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+a.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var d=a.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=a.map((function(e){return"c"+e+"=this.stride["+e+"]"}));o.push("proto.lo=function "+n+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"c"+e})).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+u.join(",")+"){var "+a.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+a.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"b"+e})).join(",")+",c)}");var y=new Array(t),v=new Array(t);for(m=0;m<t;++m)y[m]="a[i"+m+"]",v[m]="b[i"+m+"]";o.push("proto.transpose=function "+n+"_transpose("+u+"){"+u.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+y.join(",")+","+v.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+u+"){var a=[],b=[],c=this.offset");for(m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(e){return"shape["+e+"]"})).join(",")+","+a.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(l[e],s)}var l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};e.exports=function(e,t,n,r){if(void 0===e)return(0,l.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var a=t.length;if(void 0===n){n=new Array(a);for(var s=a-1,c=1;s>=0;--s)n[s]=c,c*=t[s]}if(void 0===r){r=0;for(s=0;s<a;++s)n[s]<0&&(r-=(t[s]-1)*n[s])}for(var f=function(e){if(i(e))return"buffer";if(o)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}(e),h=l[f];h.length<=a+1;)h.push(u(f,h.length-1));return(0,h[a+1])(e,t,n,r)}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(33);let i="";function o(e){i=e}function a(e,t){if(e.startsWith("http://")||e.startsWith("https://"))return e;if(e.startsWith("server:")){if(!r.c.allowcustom)return"texture"==t?"./textures/error.png":"model"==t?"./models/player.json":"";switch(e=e.substr(7),t){case"texture":return`${i}/${e}.png`;case"sound":case"audio":return`${i}/${e}.ogg`;case"model":return`${i}/${e}.json`;default:return`${i}/${e}`}}else{if(e.startsWith("skins:"))return"./textures/entity/steve.png";switch(t){case"texture":return`./textures/${e}.png`;case"sound":case"audio":return`./audio/${e}.ogg`;case"model":return`./models/${e}.json`;default:return`./${t}/${e}`}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(6),i=n(92),o=n(19),a=n(40),s=n(115);let u,l=0;function c(e,t){function n(){return e.ents.getState(e.playerEntity,"inventory")}const c=Object(r.d)(2);u=new o.f,u.zIndex=15,u.verticalAlignment=2,u.background="#00000077",u.thickness=0,u.isVisible=!1,c.addControl(u);const f=new o.d("inventory","./textures/gui/container/inventory.png");f.width=180*r.f+"px",f.height=176*r.f+"px",f.zIndex=18,u.addControl(f);const h=new o.f;h.zIndex=20,h.verticalAlignment=2,h.top=67*r.f+"px",h.height=20*r.f+"px",h.width=164*r.f+"px",h.thickness=0,u.addControl(h);const d=new Array(9),p=new Array(36),m=[],y=new Array(5);for(let e=1;e<4;e++){const n=new o.f;n.zIndex=30,n.verticalAlignment=2,n.height=20*r.f+"px",n.width=164*r.f+"px",n.top=9*r.f+18*(e-1)*r.f+"px",n.thickness=0,u.addControl(n),m[e]=n;for(let i=9*e;i<9*e+9;i++){p[i]=Object(s.a)(r.f);const e=p[i].container;e.zIndex=50,e.left=-18*r.f*4+18*r.f*(i%9)+"px",e.onPointerClickObservable.add(e=>{let n=a.ActionInventoryClick.Type.LEFT;switch(e.buttonIndex){case 0:n=a.ActionInventoryClick.Type.LEFT;break;case 1:n=a.ActionInventoryClick.Type.MIDDLE;break;case 2:n=a.ActionInventoryClick.Type.RIGHT}t.send("ActionInventoryClick",{slot:i+27*l,type:n,inventory:a.ActionInventoryClick.TypeInv.MAIN})}),e.onPointerEnterObservable.add(t=>{e.background="#ffffff22"}),e.onPointerOutObservable.add(t=>{e.background="#00000000"}),e.isPointerBlocker=!0,n.addControl(e)}}const v=Object(s.a)(r.f);v.container.zIndex=50,v.container.verticalAlignment=0,v.container.horizontalAlignment=0,v.container.isPointerBlocker=!1,v.count.isPointerBlocker=!1,v.item.isPointerBlocker=!1,u.addControl(v.container);for(let e=0;e<9;e++){d[e]=Object(s.a)(r.f);const n=d[e].container;n.zIndex=40,n.left=-18*r.f*4+18*r.f*e+"px",n.onPointerClickObservable.add(n=>{let r=a.ActionInventoryClick.Type.LEFT;switch(n.buttonIndex){case 0:r=a.ActionInventoryClick.Type.LEFT;break;case 1:r=a.ActionInventoryClick.Type.MIDDLE;break;case 2:r=a.ActionInventoryClick.Type.RIGHT}t.send("ActionInventoryClick",{slot:e,type:r,inventory:a.ActionInventoryClick.TypeInv.MAIN})}),n.onPointerEnterObservable.add(e=>{n.background="#ffffff22"}),n.onPointerOutObservable.add(e=>{n.background="#00000000"}),n.isPointerBlocker=!0,h.addControl(n)}const g=new o.f;g.zIndex=40,g.verticalAlignment=2,g.top=-39*r.f+"px",g.left=-72*r.f+"px",g.height=72*r.f+"px",g.width=18*r.f+"px",g.thickness=0,u.addControl(g);const b=new Array(4);for(let e=0;e<4;e++){b[e]=Object(s.a)(r.f);const n=b[e].container;n.zIndex=50,n.verticalAlignment=0,n.top=18*r.f*e+"px",n.onPointerClickObservable.add(n=>{let r=a.ActionInventoryClick.Type.LEFT;switch(n.buttonIndex){case 0:r=a.ActionInventoryClick.Type.LEFT;break;case 1:r=a.ActionInventoryClick.Type.MIDDLE;break;case 2:r=a.ActionInventoryClick.Type.RIGHT}t.send("ActionInventoryClick",{slot:e,type:r,inventory:a.ActionInventoryClick.TypeInv.ARMOR})}),n.onPointerEnterObservable.add(e=>{n.background="#ffffff22"}),n.onPointerOutObservable.add(e=>{n.background="#00000000"}),n.isPointerBlocker=!0,g.addControl(n)}const w=new o.f;w.zIndex=40,w.verticalAlignment=2,w.horizontalAlignment=2,w.top=-47*r.f+"px",w.left=43*r.f+"px",w.height=35*r.f+"px",w.width=66*r.f+"px",w.thickness=0,u.addControl(w);for(let e=0;e<5;e++){y[e]=Object(s.a)(r.f);const n=y[e].container;n.zIndex=50,n.verticalAlignment=0,n.horizontalAlignment=0,4==e?(n.left=48*r.f+"px",n.top=10*r.f+"px"):(e%2==1&&(n.left=18*r.f+"px"),e>1&&(n.top=18*r.f+"px")),n.onPointerClickObservable.add(n=>{let r=a.ActionInventoryClick.Type.LEFT;switch(n.buttonIndex){case 0:r=a.ActionInventoryClick.Type.LEFT;break;case 1:r=a.ActionInventoryClick.Type.MIDDLE;break;case 2:r=a.ActionInventoryClick.Type.RIGHT}t.send("ActionInventoryClick",{slot:e,type:r,inventory:a.ActionInventoryClick.TypeInv.CRAFTING})}),n.onPointerEnterObservable.add(e=>{n.background="#ffffff22"}),n.onPointerOutObservable.add(e=>{n.background="#00000000"}),n.isPointerBlocker=!0,w.addControl(n)}c.onPointerMoveObservable.add(e=>{v.container.left=e.x+10,v.container.top=e.y+10});const _={};if(n().size>36){const e=new o.f;_.box=e,e.height=15*r.f+"px",e.width=22*r.f+"px",e.zIndex=25,e.thickness=0,e.top=-6*r.f+"px",e.left=71*r.f+"px",u.addControl(e);const t=n(),i=new o.d("button1","./textures/gui/button-right.png");_.button1=i,i.zIndex=25,i.horizontalAlignment=1,i.height=15*r.f+"px",i.width=11*r.f+"px",i.onPointerClickObservable.add(e=>{l+=1,9+27*l>t.size&&(l=0)}),i.isPointerBlocker=!0,e.addControl(i);const a=new o.d("button2","./textures/gui/button-left.png");_.button2=a,a.zIndex=25,a.horizontalAlignment=0,a.height=15*r.f+"px",a.width=11*r.f+"px",a.onPointerClickObservable.add(e=>{l-=1,l<0&&(l=Math.floor((t.size-9)/27))}),a.isPointerBlocker=!0,e.addControl(a)}const x=async()=>{if(0==u.isVisible)return;const e=n();if(null!=e.tempslot&&null!=e.tempslot.id){v.item.alpha=1,v.count.alpha=1;const t=i.c[e.tempslot.id];let n;n=null==t?"./textures/error.png":t.texture.startsWith("https://")&&t.texture.startsWith("http://")?t.texture:"./textures/"+t.texture+".png",v.item.source=n,1==e.tempslot.count?v.count.text="":e.tempslot.count<=10?v.count.text=" "+e.tempslot.count.toString():v.count.text=e.tempslot.count.toString()}else v.item.alpha=0,v.count.alpha=0,v.item.source="",v.count.text="";for(let t=0;t<9;t++)Object(s.b)(d[t],e.items[t]);for(let t=9;t<36;t++)Object(s.b)(p[t],e.items[27*l+t]);for(let t=0;t<4;t++){if(0==Object(s.b)(b[t],e.armor.items[t])){let e;switch(b[t].count.alpha=0,t){case 0:e="./textures/item/empty_armor_slot_helmet.png";break;case 1:e="./textures/item/empty_armor_slot_chestplate.png";break;case 2:e="./textures/item/empty_armor_slot_leggings.png";break;case 3:e="./textures/item/empty_armor_slot_boots.png"}b[t].item.source=e,b[t].count.text=""}}for(let t=0;t<5;t++)Object(s.b)(y[t],e.crafting[t])};e.on("tick",x);const k=e=>{f.width=180*e+"px",f.height=176*e+"px",h.top=67*e+"px",h.height=20*e+"px",h.width=164*e+"px",g.top=-39*e+"px",g.left=-72*e+"px",g.height=72*e+"px",g.width=18*e+"px",null!=_.box&&(_.box.height=15*e+"px",_.box.width=22*e+"px",_.box.top=-6*e+"px",_.box.left=71*e+"px",_.button1.height=15*e+"px",_.button1.width=11*e+"px",_.button2.height=15*e+"px",_.button2.width=11*e+"px"),v.container.height=16*e+"px",v.container.width=16*e+"px",v.item.width=16*e+"px",v.item.height=16*e+"px",v.count.fontSize=8*e+"px",v.count.left=2*e+"px",v.count.top=4*e+"px",v.count.shadowOffsetX=e,v.count.shadowOffsetY=e;for(let t=0;t<d.length;t++)d[t].container.height=16*e+"px",d[t].container.width=16*e+"px",d[t].container.left=-18*e*4+18*e*(t%9)+"px",d[t].item.width=16*e+"px",d[t].item.height=16*e+"px",d[t].count.fontSize=8*e+"px",d[t].count.left=2*e+"px",d[t].count.top=4*e+"px",d[t].count.shadowOffsetX=e,d[t].count.shadowOffsetY=e;for(let t=0;t<b.length;t++)b[t].container.height=16*e+"px",b[t].container.width=16*e+"px",b[t].item.width=16*e+"px",b[t].item.height=16*e+"px",b[t].count.fontSize=8*e+"px",b[t].count.left=2*e+"px",b[t].count.top=4*e+"px",b[t].count.shadowOffsetX=e,b[t].count.shadowOffsetY=e;for(let t=1;t<4;t++){m[t].height=20*e+"px",m[t].width=164*e+"px",m[t].top=9*e+18*(t-1)*e+"px";for(let n=9*t;n<9*t+9;n++)p[n].container.left=-18*e*4+18*e*(n%9)+"px",p[n].container.height=16*e+"px",p[n].container.width=16*e+"px",p[n].item.width=16*e+"px",p[n].item.height=16*e+"px",p[n].count.fontSize=8*e+"px",p[n].count.left=2*e+"px",p[n].count.top=4*e+"px",p[n].count.shadowOffsetX=e,p[n].count.shadowOffsetY=e}w.top=-47*r.f+"px",w.left=43*r.f+"px",w.height=35*r.f+"px",w.width=66*r.f+"px";for(let t=0;t<5;t++)4==t?(y[t].container.left=48*e+"px",y[t].container.top=10*e+"px"):(t%2==1&&(y[t].container.left=18*e+"px"),t>1&&(y[t].container.top=18*e+"px")),y[t].container.height=16*e+"px",y[t].container.width=16*e+"px",y[t].item.width=16*e+"px",y[t].item.height=16*e+"px",y[t].count.fontSize=8*e+"px",y[t].count.left=2*e+"px",y[t].count.top=4*e+"px",y[t].count.shadowOffsetX=e,y[t].count.shadowOffsetY=e};r.b.on("scale-change",k),u.onDisposeObservable.add(()=>{r.b.off("scake-change",k),e.off("tick",x)})}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),i=n(36),o=n(22);class a extends o.a{constructor(e,t=[]){super(e),this.name=e,this._text=[],this._textHorizontalAlignment=o.a.HORIZONTAL_ALIGNMENT_CENTER,this._textVerticalAlignment=o.a.VERTICAL_ALIGNMENT_CENTER,this._resizeToFit=!1,this._lineSpacing=new i.a(0),this._outlineColor="white",this.shouldhide=!1,this.onTextChangedObservable=new r.c,this.onLinesReadyObservable=new r.c,this.text=t}get lines(){return this._lines}get resizeToFit(){return this._resizeToFit}set resizeToFit(e){this._resizeToFit!==e&&(this._resizeToFit=e,this._resizeToFit&&(this._width.ignoreAdaptiveScaling=!0,this._height.ignoreAdaptiveScaling=!0),this._markAsDirty())}get text(){return this._text}set text(e){this._text!==e&&(this._text=e,this._markAsDirty(),this.onTextChangedObservable.notifyObservers(this))}get textHorizontalAlignment(){return this._textHorizontalAlignment}set textHorizontalAlignment(e){this._textHorizontalAlignment!==e&&(this._textHorizontalAlignment=e,this._markAsDirty())}get textVerticalAlignment(){return this._textVerticalAlignment}set textVerticalAlignment(e){this._textVerticalAlignment!==e&&(this._textVerticalAlignment=e,this._markAsDirty())}set lineSpacing(e){this._lineSpacing.fromString(e)&&this._markAsDirty()}get lineSpacing(){return this._lineSpacing.toString(this._host)}_getTypeName(){return"FormTextBlock"}_processMeasures(e,t){this._fontOffset||(this._fontOffset=o.a._GetFontOffset(t.font)),super._processMeasures(e,t),this._lines=this._breakLines(this._currentMeasure.width,t),this.onLinesReadyObservable.notifyObservers(this);let n=0;for(let e=0;e<this._lines.length;e++){const t=this._lines[e];t.width>n&&(n=t.width)}if(this._resizeToFit){let e=this.paddingTopInPixels+this.paddingBottomInPixels+this._fontOffset.height*this._lines.length|0;if(this._lines.length>0&&0!==this._lineSpacing.internalValue){let t=0;t=this._lineSpacing.isPixel?this._lineSpacing.getValue(this._host):this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height),e+=(this._lines.length-1)*t}e!==this._height.internalValue&&(this._height.updateInPlace(e,i.a.UNITMODE_PIXEL),this._rebuildLayout=!0)}}_drawText(e,t,n,r){var i=this._currentMeasure.width,a=0;switch(this._textHorizontalAlignment){case o.a.HORIZONTAL_ALIGNMENT_LEFT:a=0;break;case o.a.HORIZONTAL_ALIGNMENT_RIGHT:a=i-t;break;case o.a.HORIZONTAL_ALIGNMENT_CENTER:a=(i-t)/2}if((this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur,r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY),null==e)return;const s=r.fillStyle,u=r.font,l=r.strokeStyle,c=r.lineWidth;e.forEach(e=>{if(null==e.text)return;null==e.font&&(e.font=u),r.font=`${this.fontSize} ${e.font}`,r.fillStyle=e.color||s;const t=r.measureText(e.text);r.lineWidth=Math.round(.05*this.fontSizeInPixels),r.lineCap="square",r.strokeStyle=r.fillStyle,e.underline&&(r.beginPath(),r.moveTo(this._currentMeasure.left+a,n+3),r.lineTo(this._currentMeasure.left+a+t.width,n+3),r.stroke(),r.closePath()),r.fillText(e.text,this._currentMeasure.left+a,n),e.linethrough&&(r.beginPath(),r.moveTo(this._currentMeasure.left+a,n-this.fontSizeInPixels/3),r.lineTo(this._currentMeasure.left+a+t.width,n-this.fontSizeInPixels/3),r.stroke(),r.closePath()),r.font=u,r.strokeStyle=l,r.lineWidth=c,a+=t.width}),r.fillStyle=s,r.font=u,r.strokeStyle=l,r.lineWidth=c}_draw(e,t){e.save(),this._applyStates(e),this._renderLines(e),e.restore()}_applyStates(e){super._applyStates(e)}_breakLines(e,t){var n=[];let r=[[]];for(var i of(this.text.forEach(e=>{let t=e.text.split("\n");if(t.length>1){r[r.length-1].push({text:t[0],color:e.color,font:e.font,underline:e.underline,linethrough:e.linethrough});for(let n=1;n<t.length;n++)r.push([{text:t[n],color:e.color,font:e.font,underline:e.underline,linethrough:e.linethrough}])}else r[r.length-1].push(e)}),r))n.push(...this._parseLineWordWrap(i,e,t));return n}_parseLine(e="",t){return{text:e,width:t.measureText(e).width}}_parseLineWordWrap(e=[],t,n){var r=[],i=[],o="";let a=this.fontFamily;e.forEach(e=>{null==e.font&&(e.font=a),e.text.split(" ").forEach(r=>{if(0==r.length)return;n.font=`${this.fontSize} ${e.font}`;let o=n.measureText(r);if(n.font=a,o.width<t)i.push({text:r+" ",font:e.font,color:e.color});else{const s=r.substring(0,Math.ceil(r.length/2)),u=r.substring(Math.floor(r.length/2));n.font=`${this.fontSize} ${e.font}`,o=n.measureText(s);let l=n.measureText(u);n.font=a,o.width<t?i.push({text:s+" ",font:e.font,color:e.color}):i.push({text:" [...] ",font:e.font,color:e.color}),l.width<t?i.push({text:u+" ",font:e.font,color:e.color}):i.push({text:" [...] ",font:e.font,color:e.color,underline:e.underline,linethrough:e.linethrough})}}),o+=e.text});n.font=`${this.fontSize} ${e[0].font}`;let s=n.measureText(o);if(n.font=a,s.width<t)return[{text:e,width:s.width}];let u="",l=0,c=[];for(var f=0;f<i.length;f++){let e=0==f?i[0].text:u+i[f].text;n.font=`${this.fontSize} ${i[f].font}`;let o=n.measureText(e);if(n.font=a,o.width>t){r.push({text:[...c],width:l}),c=[],e="",l=0;for(let e=0;e<f;e++)i.shift();f=-1}else u=e,l=o.width,c.push(i[f])}return r.push({text:[...c],width:l}),r}_renderLines(e){var t=this._currentMeasure.height,n=0;switch(this._textVerticalAlignment){case o.a.VERTICAL_ALIGNMENT_TOP:n=this._fontOffset.ascent;break;case o.a.VERTICAL_ALIGNMENT_BOTTOM:n=t-this._fontOffset.height*(this._lines.length-1)-this._fontOffset.descent;break;case o.a.VERTICAL_ALIGNMENT_CENTER:n=this._fontOffset.ascent+(t-this._fontOffset.height*this._lines.length)/2}n+=this._currentMeasure.top;for(let t=0;t<this._lines.length;t++){const r=this._lines[t];0!==t&&0!==this._lineSpacing.internalValue&&(this._lineSpacing.isPixel?n+=this._lineSpacing.getValue(this._host):n+=this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height)),this._drawText(r.text,r.width,n,e),n+=this._fontOffset.height}}computeExpectedHeight(){if(this.text&&this.widthInPixels){const e=document.createElement("canvas").getContext("2d");if(e){this._applyStates(e),this._fontOffset||(this._fontOffset=o.a._GetFontOffset(e.font));const t=this._lines?this._lines:this._breakLines(this.widthInPixels-this.paddingLeftInPixels-this.paddingRightInPixels,e);let n=this.paddingTopInPixels+this.paddingBottomInPixels+this._fontOffset.height*t.length;if(t.length>0&&0!==this._lineSpacing.internalValue){let e=0;e=this._lineSpacing.isPixel?this._lineSpacing.getValue(this._host):this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height),n+=(t.length-1)*e}return n}}return 0}dispose(){super.dispose(),this.onTextChangedObservable.clear()}}},,,,,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return h}));var r=n(96),i=n(61);const o=new i.EventEmitter;let a={};async function s(e){const t=e.height>0?e.height:1;if(e.compressed){let n=32768*t;e.data=await inflate(e.data,n)}let n=new Uint16Array(e.data.buffer,e.data.byteOffset);const i=new r(n,[32,32*t,32]);for(var s=0;s<t;s++){const t=new r(new Uint16Array(32768),[32,32,32]),n=[e.x,e.y+s,e.z].join("|");for(let e=0;e<32;e++)for(let n=0;n<32;n++)for(let r=0;r<32;r++){const o=i.get(e,r+32*s,n);t.set(e,r,n,o)}o.emit("load",[e.x,e.y+s,e.z],t),a[n]=t}}function u(e){delete a[e]}function l(e){return null!=a[e]}function c(e,t,n,r){const i=[Math.floor(t/32),Math.floor(n/32),Math.floor(r/32)].join("|");if(null==a[i])return;let o=t%32,s=n%32,u=r%32;o<0&&(o+=32),s<0&&(s+=32),u<0&&(u+=32),a[i].set(o,s,u,e)}function f(){a={}}function h(e){e.world.on("worldDataNeeded",async t=>{const n=t.split("|"),i=function(e){return null!=a[e]&&null!=a[e].data?new r(a[e].data.subarray(0),[...a[e].shape]):null}(`${n[0]}|${n[1]}|${n[2]}`);null!=i&&e.world.setChunkData(t,i)}),e.world.on("playerEnteredChunk",(t,n,r)=>{const i=e.world.chunkAddDistance;let o,a,s;for(o=t-i;o<=t+i;++o)for(a=n-i;a<=n+i;++a)for(s=r-i;s<=r+i;++s)e.world._chunksKnown.includes(o,a,s)||l([o,a,s].join("|"))&&e.world.manuallyLoadChunk(32*o,32*a,32*s);const u=e.world.chunkRemoveDistance;e.world._chunksKnown.forEach(i=>{if(!e.world._chunksToRemove.includes(i[0],i[1],i[2])){var o=i[0]-t,a=i[1]-n,s=i[2]-r;(u<=Math.abs(o)||u<=Math.abs(a)||u<=Math.abs(s))&&e.world.manuallyUnloadChunk(32*i[0],32*i[1],32*i[2])}})}),o.on("load",([t,n,r])=>{const i=e.world.chunkAddDistance,o=e.ents.getPosition(e.playerEntity),a=Math.ceil(o[0]/32),s=Math.ceil(o[1]/32),u=Math.ceil(o[2]/32);t>a-i&&t<a+i&&n>s-i&&n<s+i&&r>u-i&&r<u+i&&e.world.manuallyLoadChunk(32*t,32*n,32*r)}),setInterval(()=>{if(!e.world.playerChunkLoaded){const t=e.ents.getPosition(e.playerEntity),n=Math.ceil(t[0]/32),r=Math.ceil(t[1]/32),i=Math.ceil(t[2]/32);l([n,r,i].join("|"))&&e.world.manuallyLoadChunk(32*n,32*r,32*i)}},500)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(6),i=n(19),o=n(59),a=n(45),s=n(312);let u;function l(e){const t=Object(r.d)(2);let n,l;u=new i.f,u.zIndex=20,u.verticalAlignment=2,u.background="#00000077",u.thickness=0,u.isVisible=!1,t.addControl(u);const c=new i.f;c.thickness=0,c.horizontalAlignment=2,c.zIndex=10,c.height=200*r.f+"px",c.width=160*r.f+"px",c.background="#11111166",u.addControl(c);const f=new i.j;function h(t){switch(t){case"settings":n=Object(s.a)(e,h),l="settings",u.addControl(n);break;default:n.dispose(),n=null,c.isVisible=!0,l="main"}}f.fontFamily="Lato",f.fontSize=11*r.f,f.textVerticalAlignment=0,f.color="white",f.text="Pause",f.top=r.f,c.addControl(f);const d=new i.i;c.addControl(d);const p=Object(a.d)();p.item.verticalAlignment=1,p.text.text=[{text:"Back to game",color:"white",font:"Lato"}],p.item.onPointerClickObservable.add(()=>{u.isVisible=!1,e.container.canvas.requestPointerLock()}),d.addControl(p.item);const m=Object(a.d)();m.item.verticalAlignment=1,m.text.text=[{text:"Settings",color:"white",font:"Lato"}],m.item.onPointerClickObservable.add(()=>{c.isVisible=!1,h("settings")}),d.addControl(m.item);const y=Object(a.d)();y.text.text=[{text:"Discord",color:"white",font:"Lato"}],y.item.onPointerClickObservable.add(e=>{window.open("https://discord.com/invite/K9PdsDh","_blank")}),d.addControl(y.item);const v=Object(a.d)();v.item.verticalAlignment=1,v.text.text=[{text:"Disconnect",color:"white",font:"Lato"}],v.item.onPointerClickObservable.add(()=>{u.dispose(),Object(o.b)()}),d.addControl(v.item);const g=e=>{c.height=200*r.f+"px",c.width=160*r.f+"px",f.fontSize=11*r.f,d._children.forEach(e=>{e.width=100*r.f+"px",e.height=18*r.f+"px",e._children[0].fontSize=10*r.f})};return r.b.on("scale-change",g),c.onDisposeObservable.add(()=>{r.b.off("scale-change",g)}),c}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(92),i=n(19);function o(e){const t={item:new i.d("hotbar",""),container:new i.f,count:new i.j},n=t.container;n.zIndex=20,n.height=16*e+"px",n.width=16*e+"px",n.thickness=0;const r=t.item;r.width=16*e+"px",r.height=16*e+"px",n.addControl(r);const o=t.count;return o.text="",o.fontFamily="silkscreen",o.color="#f0f0f0",o.fontSize=8*e+"px",o.left=2*e+"px",o.top=4*e+"px",o.shadowColor="#111111",o.shadowOffsetX=e,o.shadowOffsetY=e,n.addControl(o),t}function a(e,t){if(null!=t&&null!=t.id){e.item.alpha=1,e.count.alpha=1;const n=r.c[t.id];let i;return i=null==n?"./textures/error.png":n.texture.startsWith("https://")&&n.texture.startsWith("http://")?n.texture:"./textures/"+n.texture+".png",e.item.source=i,1==t.count?e.count.text="":t.count<=10?e.count.text=" "+t.count.toString():e.count.text=t.count.toString(),!0}return e.item.alpha=0,e.count.alpha=0,e.item.source="",e.count.text="",!1}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(66);function i(e){return e&&"object"==typeof e&&e[r.d]}function o(e,t){if(!t){if(!(n=e)||"object"!=typeof n)throw Error();t=[e]}var n;return{[r.d]:!0,send:e,transferables:t}}},function(e,t,n){var r,i,o;i=[n(94)],void 0===(o="function"==typeof(r=function(e){"use strict";var t=e.Reader,n=e.Writer,r=e.util,i=e.roots.default||(e.roots.default={});return i.LoginRequest=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.name="",o.prototype.protocol=0,o.prototype.onlinePlayers=0,o.prototype.maxPlayers=0,o.prototype.motd="",o.prototype.software="",o.prototype.auth=!1,o.prototype.secret="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.protocol&&Object.hasOwnProperty.call(e,"protocol")&&t.uint32(16).uint32(e.protocol),null!=e.onlinePlayers&&Object.hasOwnProperty.call(e,"onlinePlayers")&&t.uint32(24).uint32(e.onlinePlayers),null!=e.maxPlayers&&Object.hasOwnProperty.call(e,"maxPlayers")&&t.uint32(32).uint32(e.maxPlayers),null!=e.motd&&Object.hasOwnProperty.call(e,"motd")&&t.uint32(42).string(e.motd),null!=e.software&&Object.hasOwnProperty.call(e,"software")&&t.uint32(50).string(e.software),null!=e.auth&&Object.hasOwnProperty.call(e,"auth")&&t.uint32(56).bool(e.auth),null!=e.secret&&Object.hasOwnProperty.call(e,"secret")&&t.uint32(66).string(e.secret),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.LoginRequest;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.name=e.string();break;case 2:o.protocol=e.uint32();break;case 3:o.onlinePlayers=e.uint32();break;case 4:o.maxPlayers=e.uint32();break;case 5:o.motd=e.string();break;case 6:o.software=e.string();break;case 7:o.auth=e.bool();break;case 8:o.secret=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!r.isString(e.name)?"name: string expected":null!=e.protocol&&e.hasOwnProperty("protocol")&&!r.isInteger(e.protocol)?"protocol: integer expected":null!=e.onlinePlayers&&e.hasOwnProperty("onlinePlayers")&&!r.isInteger(e.onlinePlayers)?"onlinePlayers: integer expected":null!=e.maxPlayers&&e.hasOwnProperty("maxPlayers")&&!r.isInteger(e.maxPlayers)?"maxPlayers: integer expected":null!=e.motd&&e.hasOwnProperty("motd")&&!r.isString(e.motd)?"motd: string expected":null!=e.software&&e.hasOwnProperty("software")&&!r.isString(e.software)?"software: string expected":null!=e.auth&&e.hasOwnProperty("auth")&&"boolean"!=typeof e.auth?"auth: boolean expected":null!=e.secret&&e.hasOwnProperty("secret")&&!r.isString(e.secret)?"secret: string expected":null},o.fromObject=function(e){if(e instanceof i.LoginRequest)return e;var t=new i.LoginRequest;return null!=e.name&&(t.name=String(e.name)),null!=e.protocol&&(t.protocol=e.protocol>>>0),null!=e.onlinePlayers&&(t.onlinePlayers=e.onlinePlayers>>>0),null!=e.maxPlayers&&(t.maxPlayers=e.maxPlayers>>>0),null!=e.motd&&(t.motd=String(e.motd)),null!=e.software&&(t.software=String(e.software)),null!=e.auth&&(t.auth=Boolean(e.auth)),null!=e.secret&&(t.secret=String(e.secret)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.protocol=0,n.onlinePlayers=0,n.maxPlayers=0,n.motd="",n.software="",n.auth=!1,n.secret=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.protocol&&e.hasOwnProperty("protocol")&&(n.protocol=e.protocol),null!=e.onlinePlayers&&e.hasOwnProperty("onlinePlayers")&&(n.onlinePlayers=e.onlinePlayers),null!=e.maxPlayers&&e.hasOwnProperty("maxPlayers")&&(n.maxPlayers=e.maxPlayers),null!=e.motd&&e.hasOwnProperty("motd")&&(n.motd=e.motd),null!=e.software&&e.hasOwnProperty("software")&&(n.software=e.software),null!=e.auth&&e.hasOwnProperty("auth")&&(n.auth=e.auth),null!=e.secret&&e.hasOwnProperty("secret")&&(n.secret=e.secret),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.LoginStatus=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.message="",o.prototype.time=r.Long?r.Long.fromBits(0,0,!0):0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(10).string(e.message),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(16).uint64(e.time),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.LoginStatus;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.message=e.string();break;case 2:o.time=e.uint64();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.message&&e.hasOwnProperty("message")&&!r.isString(e.message)?"message: string expected":null!=e.time&&e.hasOwnProperty("time")&&!(r.isInteger(e.time)||e.time&&r.isInteger(e.time.low)&&r.isInteger(e.time.high))?"time: integer|Long expected":null},o.fromObject=function(e){if(e instanceof i.LoginStatus)return e;var t=new i.LoginStatus;return null!=e.message&&(t.message=String(e.message)),null!=e.time&&(r.Long?(t.time=r.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),t},o.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.message="",r.Long){var i=new r.Long(0,0,!0);n.time=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.time=t.longs===String?"0":0;return null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?n.time=t.longs===String?String(e.time):e.time:n.time=t.longs===String?r.Long.prototype.toString.call(e.time):t.longs===Number?new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.LoginSuccess=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.xPos=0,o.prototype.yPos=0,o.prototype.zPos=0,o.prototype.itemsDef="",o.prototype.blocksDef="",o.prototype.inventory="",o.prototype.armor="",o.prototype.movement="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.xPos&&Object.hasOwnProperty.call(e,"xPos")&&t.uint32(9).double(e.xPos),null!=e.yPos&&Object.hasOwnProperty.call(e,"yPos")&&t.uint32(17).double(e.yPos),null!=e.zPos&&Object.hasOwnProperty.call(e,"zPos")&&t.uint32(25).double(e.zPos),null!=e.itemsDef&&Object.hasOwnProperty.call(e,"itemsDef")&&t.uint32(34).string(e.itemsDef),null!=e.blocksDef&&Object.hasOwnProperty.call(e,"blocksDef")&&t.uint32(42).string(e.blocksDef),null!=e.inventory&&Object.hasOwnProperty.call(e,"inventory")&&t.uint32(50).string(e.inventory),null!=e.armor&&Object.hasOwnProperty.call(e,"armor")&&t.uint32(58).string(e.armor),null!=e.movement&&Object.hasOwnProperty.call(e,"movement")&&t.uint32(66).string(e.movement),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.LoginSuccess;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.xPos=e.double();break;case 2:o.yPos=e.double();break;case 3:o.zPos=e.double();break;case 4:o.itemsDef=e.string();break;case 5:o.blocksDef=e.string();break;case 6:o.inventory=e.string();break;case 7:o.armor=e.string();break;case 8:o.movement=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.xPos&&e.hasOwnProperty("xPos")&&"number"!=typeof e.xPos?"xPos: number expected":null!=e.yPos&&e.hasOwnProperty("yPos")&&"number"!=typeof e.yPos?"yPos: number expected":null!=e.zPos&&e.hasOwnProperty("zPos")&&"number"!=typeof e.zPos?"zPos: number expected":null!=e.itemsDef&&e.hasOwnProperty("itemsDef")&&!r.isString(e.itemsDef)?"itemsDef: string expected":null!=e.blocksDef&&e.hasOwnProperty("blocksDef")&&!r.isString(e.blocksDef)?"blocksDef: string expected":null!=e.inventory&&e.hasOwnProperty("inventory")&&!r.isString(e.inventory)?"inventory: string expected":null!=e.armor&&e.hasOwnProperty("armor")&&!r.isString(e.armor)?"armor: string expected":null!=e.movement&&e.hasOwnProperty("movement")&&!r.isString(e.movement)?"movement: string expected":null},o.fromObject=function(e){if(e instanceof i.LoginSuccess)return e;var t=new i.LoginSuccess;return null!=e.xPos&&(t.xPos=Number(e.xPos)),null!=e.yPos&&(t.yPos=Number(e.yPos)),null!=e.zPos&&(t.zPos=Number(e.zPos)),null!=e.itemsDef&&(t.itemsDef=String(e.itemsDef)),null!=e.blocksDef&&(t.blocksDef=String(e.blocksDef)),null!=e.inventory&&(t.inventory=String(e.inventory)),null!=e.armor&&(t.armor=String(e.armor)),null!=e.movement&&(t.movement=String(e.movement)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xPos=0,n.yPos=0,n.zPos=0,n.itemsDef="",n.blocksDef="",n.inventory="",n.armor="",n.movement=""),null!=e.xPos&&e.hasOwnProperty("xPos")&&(n.xPos=t.json&&!isFinite(e.xPos)?String(e.xPos):e.xPos),null!=e.yPos&&e.hasOwnProperty("yPos")&&(n.yPos=t.json&&!isFinite(e.yPos)?String(e.yPos):e.yPos),null!=e.zPos&&e.hasOwnProperty("zPos")&&(n.zPos=t.json&&!isFinite(e.zPos)?String(e.zPos):e.zPos),null!=e.itemsDef&&e.hasOwnProperty("itemsDef")&&(n.itemsDef=e.itemsDef),null!=e.blocksDef&&e.hasOwnProperty("blocksDef")&&(n.blocksDef=e.blocksDef),null!=e.inventory&&e.hasOwnProperty("inventory")&&(n.inventory=e.inventory),null!=e.armor&&e.hasOwnProperty("armor")&&(n.armor=e.armor),null!=e.movement&&e.hasOwnProperty("movement")&&(n.movement=e.movement),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.Ping=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.time=r.Long?r.Long.fromBits(0,0,!0):0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(8).uint64(e.time),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.Ping;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.time=e.uint64();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.time&&e.hasOwnProperty("time")&&!(r.isInteger(e.time)||e.time&&r.isInteger(e.time.low)&&r.isInteger(e.time.high))?"time: integer|Long expected":null},o.fromObject=function(e){if(e instanceof i.Ping)return e;var t=new i.Ping;return null!=e.time&&(r.Long?(t.time=r.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),t},o.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(r.Long){var i=new r.Long(0,0,!0);n.time=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.time=t.longs===String?"0":0;return null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?n.time=t.longs===String?String(e.time):e.time:n.time=t.longs===String?r.Long.prototype.toString.call(e.time):t.longs===Number?new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.PlayerKick=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.reason="",o.prototype.time=r.Long?r.Long.fromBits(0,0,!0):0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(10).string(e.reason),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(16).uint64(e.time),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PlayerKick;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.reason=e.string();break;case 2:o.time=e.uint64();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.reason&&e.hasOwnProperty("reason")&&!r.isString(e.reason)?"reason: string expected":null!=e.time&&e.hasOwnProperty("time")&&!(r.isInteger(e.time)||e.time&&r.isInteger(e.time.low)&&r.isInteger(e.time.high))?"time: integer|Long expected":null},o.fromObject=function(e){if(e instanceof i.PlayerKick)return e;var t=new i.PlayerKick;return null!=e.reason&&(t.reason=String(e.reason)),null!=e.time&&(r.Long?(t.time=r.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),t},o.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.reason="",r.Long){var i=new r.Long(0,0,!0);n.time=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.time=t.longs===String?"0":0;return null!=e.reason&&e.hasOwnProperty("reason")&&(n.reason=e.reason),null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?n.time=t.longs===String?String(e.time):e.time:n.time=t.longs===String?r.Long.prototype.toString.call(e.time):t.longs===Number?new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.PlayerEntity=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.uuid="",o.prototype.model="",o.prototype.texture="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(10).string(e.uuid),null!=e.model&&Object.hasOwnProperty.call(e,"model")&&t.uint32(18).string(e.model),null!=e.texture&&Object.hasOwnProperty.call(e,"texture")&&t.uint32(26).string(e.texture),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PlayerEntity;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.uuid=e.string();break;case 2:o.model=e.string();break;case 3:o.texture=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!r.isString(e.uuid)?"uuid: string expected":null!=e.model&&e.hasOwnProperty("model")&&!r.isString(e.model)?"model: string expected":null!=e.texture&&e.hasOwnProperty("texture")&&!r.isString(e.texture)?"texture: string expected":null},o.fromObject=function(e){if(e instanceof i.PlayerEntity)return e;var t=new i.PlayerEntity;return null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.model&&(t.model=String(e.model)),null!=e.texture&&(t.texture=String(e.texture)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uuid="",n.model="",n.texture=""),null!=e.uuid&&e.hasOwnProperty("uuid")&&(n.uuid=e.uuid),null!=e.model&&e.hasOwnProperty("model")&&(n.model=e.model),null!=e.texture&&e.hasOwnProperty("texture")&&(n.texture=e.texture),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.PlayerTeleport=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.x=0,r.prototype.y=0,r.prototype.z=0,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(9).double(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(17).double(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(25).double(e.z),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PlayerTeleport;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.double();break;case 2:o.y=e.double();break;case 3:o.z=e.double();break;default:e.skipType(7&a)}}return o},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&"number"!=typeof e.x?"x: number expected":null!=e.y&&e.hasOwnProperty("y")&&"number"!=typeof e.y?"y: number expected":null!=e.z&&e.hasOwnProperty("z")&&"number"!=typeof e.z?"z: number expected":null},r.fromObject=function(e){if(e instanceof i.PlayerTeleport)return e;var t=new i.PlayerTeleport;return null!=e.x&&(t.x=Number(e.x)),null!=e.y&&(t.y=Number(e.y)),null!=e.z&&(t.z=Number(e.z)),t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=t.json&&!isFinite(e.x)?String(e.x):e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=t.json&&!isFinite(e.y)?String(e.y):e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=t.json&&!isFinite(e.z)?String(e.z):e.z),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),i.PlayerInventory=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.type="",o.prototype.inventory="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(10).string(e.type),null!=e.inventory&&Object.hasOwnProperty.call(e,"inventory")&&t.uint32(18).string(e.inventory),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PlayerInventory;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.type=e.string();break;case 2:o.inventory=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!r.isString(e.type)?"type: string expected":null!=e.inventory&&e.hasOwnProperty("inventory")&&!r.isString(e.inventory)?"inventory: string expected":null},o.fromObject=function(e){if(e instanceof i.PlayerInventory)return e;var t=new i.PlayerInventory;return null!=e.type&&(t.type=String(e.type)),null!=e.inventory&&(t.inventory=String(e.inventory)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type="",n.inventory=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.inventory&&e.hasOwnProperty("inventory")&&(n.inventory=e.inventory),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.PlayerSlotUpdate=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.slot=0,o.prototype.type="",o.prototype.data="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.slot&&Object.hasOwnProperty.call(e,"slot")&&t.uint32(8).uint32(e.slot),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(18).string(e.type),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(26).string(e.data),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PlayerSlotUpdate;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.slot=e.uint32();break;case 2:o.type=e.string();break;case 3:o.data=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.slot&&e.hasOwnProperty("slot")&&!r.isInteger(e.slot)?"slot: integer expected":null!=e.type&&e.hasOwnProperty("type")&&!r.isString(e.type)?"type: string expected":null!=e.data&&e.hasOwnProperty("data")&&!r.isString(e.data)?"data: string expected":null},o.fromObject=function(e){if(e instanceof i.PlayerSlotUpdate)return e;var t=new i.PlayerSlotUpdate;return null!=e.slot&&(t.slot=e.slot>>>0),null!=e.type&&(t.type=String(e.type)),null!=e.data&&(t.data=String(e.data)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.slot=0,n.type="",n.data=""),null!=e.slot&&e.hasOwnProperty("slot")&&(n.slot=e.slot),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.PlayerApplyImpulse=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.x=0,r.prototype.y=0,r.prototype.z=0,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(13).float(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(21).float(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(29).float(e.z),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PlayerApplyImpulse;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.float();break;case 2:o.y=e.float();break;case 3:o.z=e.float();break;default:e.skipType(7&a)}}return o},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&"number"!=typeof e.x?"x: number expected":null!=e.y&&e.hasOwnProperty("y")&&"number"!=typeof e.y?"y: number expected":null!=e.z&&e.hasOwnProperty("z")&&"number"!=typeof e.z?"z: number expected":null},r.fromObject=function(e){if(e instanceof i.PlayerApplyImpulse)return e;var t=new i.PlayerApplyImpulse;return null!=e.x&&(t.x=Number(e.x)),null!=e.y&&(t.y=Number(e.y)),null!=e.z&&(t.z=Number(e.z)),t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=t.json&&!isFinite(e.x)?String(e.x):e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=t.json&&!isFinite(e.y)?String(e.y):e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=t.json&&!isFinite(e.z)?String(e.z):e.z),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),i.PlayerUpdateMovement=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.key="",o.prototype.value=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PlayerUpdateMovement;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.key=e.string();break;case 2:o.value=e.double();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!r.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},o.fromObject=function(e){if(e instanceof i.PlayerUpdateMovement)return e;var t=new i.PlayerUpdateMovement;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=Number(e.value)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.value=0),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.PlayerUpdatePhysics=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.key="",o.prototype.value=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PlayerUpdatePhysics;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.key=e.string();break;case 2:o.value=e.double();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!r.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},o.fromObject=function(e){if(e instanceof i.PlayerUpdatePhysics)return e;var t=new i.PlayerUpdatePhysics;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=Number(e.value)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.value=0),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.PlayerHealth=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.value=0,o.prototype.max=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(8).sint32(e.value),null!=e.max&&Object.hasOwnProperty.call(e,"max")&&t.uint32(16).sint32(e.max),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PlayerHealth;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.value=e.sint32();break;case 2:o.max=e.sint32();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!r.isInteger(e.value)?"value: integer expected":null!=e.max&&e.hasOwnProperty("max")&&!r.isInteger(e.max)?"max: integer expected":null},o.fromObject=function(e){if(e instanceof i.PlayerHealth)return e;var t=new i.PlayerHealth;return null!=e.value&&(t.value=0|e.value),null!=e.max&&(t.max=0|e.max),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=0,n.max=0),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),null!=e.max&&e.hasOwnProperty("max")&&(n.max=e.max),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.PlayerSetBlockReach=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.value=0,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(13).float(e.value),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PlayerSetBlockReach;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.value=e.float();break;default:e.skipType(7&a)}}return o},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},r.fromObject=function(e){if(e instanceof i.PlayerSetBlockReach)return e;var t=new i.PlayerSetBlockReach;return null!=e.value&&(t.value=Number(e.value)),t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.value=0),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.json&&!isFinite(e.value)?String(e.value):e.value),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),i.PlayerOpenInventory=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var a,s;return o.prototype.type=0,o.prototype.name="",o.prototype.data="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(26).string(e.data),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PlayerOpenInventory;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.type=e.int32();break;case 2:o.name=e.string();break;case 3:o.data=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:}return null!=e.name&&e.hasOwnProperty("name")&&!r.isString(e.name)?"name: string expected":null!=e.data&&e.hasOwnProperty("data")&&!r.isString(e.data)?"data: string expected":null},o.fromObject=function(e){if(e instanceof i.PlayerOpenInventory)return e;var t=new i.PlayerOpenInventory;switch(e.type){case"MAIN":case 0:t.type=0;break;case"CHEST":case 1:t.type=1;break;case"CRAFTING":case 2:t.type=2;break;case"FURNACE":case 3:t.type=3}return null!=e.name&&(t.name=String(e.name)),null!=e.data&&(t.data=String(e.data)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"MAIN":0,n.name="",n.data=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?i.PlayerOpenInventory.Type[e.type]:e.type),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o.Type=(a={},(s=Object.create(a))[a[0]="MAIN"]=0,s[a[1]="CHEST"]=1,s[a[2]="CRAFTING"]=2,s[a[3]="FURNACE"]=3,s),o}(),i.SoundPlay=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.sound="",o.prototype.volume=0,o.prototype.x=0,o.prototype.y=0,o.prototype.z=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.sound&&Object.hasOwnProperty.call(e,"sound")&&t.uint32(10).string(e.sound),null!=e.volume&&Object.hasOwnProperty.call(e,"volume")&&t.uint32(16).uint32(e.volume),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(25).double(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(33).double(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(41).double(e.z),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.SoundPlay;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.sound=e.string();break;case 2:o.volume=e.uint32();break;case 3:o.x=e.double();break;case 4:o.y=e.double();break;case 5:o.z=e.double();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.sound&&e.hasOwnProperty("sound")&&!r.isString(e.sound)?"sound: string expected":null!=e.volume&&e.hasOwnProperty("volume")&&!r.isInteger(e.volume)?"volume: integer expected":null!=e.x&&e.hasOwnProperty("x")&&"number"!=typeof e.x?"x: number expected":null!=e.y&&e.hasOwnProperty("y")&&"number"!=typeof e.y?"y: number expected":null!=e.z&&e.hasOwnProperty("z")&&"number"!=typeof e.z?"z: number expected":null},o.fromObject=function(e){if(e instanceof i.SoundPlay)return e;var t=new i.SoundPlay;return null!=e.sound&&(t.sound=String(e.sound)),null!=e.volume&&(t.volume=e.volume>>>0),null!=e.x&&(t.x=Number(e.x)),null!=e.y&&(t.y=Number(e.y)),null!=e.z&&(t.z=Number(e.z)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.sound="",n.volume=0,n.x=0,n.y=0,n.z=0),null!=e.sound&&e.hasOwnProperty("sound")&&(n.sound=e.sound),null!=e.volume&&e.hasOwnProperty("volume")&&(n.volume=e.volume),null!=e.x&&e.hasOwnProperty("x")&&(n.x=t.json&&!isFinite(e.x)?String(e.x):e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=t.json&&!isFinite(e.y)?String(e.y):e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=t.json&&!isFinite(e.z)?String(e.z):e.z),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.ChatMessage=function(){function o(e){if(this.message={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.message=r.emptyObject,o.prototype.time=r.Long?r.Long.fromBits(0,0,!0):0,o.create=function(e){return new o(e)},o.encode=function(e,t){if(t||(t=n.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message"))for(var r=Object.keys(e.message),o=0;o<r.length;++o)t.uint32(10).fork().uint32(8).uint32(r[o]),i.ChatMessage.ChatComponent.encode(e.message[r[o]],t.uint32(18).fork()).ldelim().ldelim();return null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(16).uint64(e.time),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o,a,s=void 0===n?e.len:e.pos+n,u=new i.ChatMessage;e.pos<s;){var l=e.uint32();switch(l>>>3){case 1:u.message===r.emptyObject&&(u.message={});var c=e.uint32()+e.pos;for(o=0,a=null;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:o=e.uint32();break;case 2:a=i.ChatMessage.ChatComponent.decode(e,e.uint32());break;default:e.skipType(7&f)}}u.message[o]=a;break;case 2:u.time=e.uint64();break;default:e.skipType(7&l)}}return u},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.message&&e.hasOwnProperty("message")){if(!r.isObject(e.message))return"message: object expected";for(var t=Object.keys(e.message),n=0;n<t.length;++n){if(!r.key32Re.test(t[n]))return"message: integer key{k:uint32} expected";var o=i.ChatMessage.ChatComponent.verify(e.message[t[n]]);if(o)return"message."+o}}return null!=e.time&&e.hasOwnProperty("time")&&!(r.isInteger(e.time)||e.time&&r.isInteger(e.time.low)&&r.isInteger(e.time.high))?"time: integer|Long expected":null},o.fromObject=function(e){if(e instanceof i.ChatMessage)return e;var t=new i.ChatMessage;if(e.message){if("object"!=typeof e.message)throw TypeError(".ChatMessage.message: object expected");t.message={};for(var n=Object.keys(e.message),o=0;o<n.length;++o){if("object"!=typeof e.message[n[o]])throw TypeError(".ChatMessage.message: object expected");t.message[n[o]]=i.ChatMessage.ChatComponent.fromObject(e.message[n[o]])}}return null!=e.time&&(r.Long?(t.time=r.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),t},o.toObject=function(e,t){t||(t={});var n,o={};if((t.objects||t.defaults)&&(o.message={}),t.defaults)if(r.Long){var a=new r.Long(0,0,!0);o.time=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else o.time=t.longs===String?"0":0;if(e.message&&(n=Object.keys(e.message)).length){o.message={};for(var s=0;s<n.length;++s)o.message[n[s]]=i.ChatMessage.ChatComponent.toObject(e.message[n[s]],t)}return null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?o.time=t.longs===String?String(e.time):e.time:o.time=t.longs===String?r.Long.prototype.toString.call(e.time):t.longs===Number?new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),o},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o.ChatComponent=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.text="",o.prototype.font="",o.prototype.color="",o.prototype.linethrough=!1,o.prototype.underline=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(10).string(e.text),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(18).string(e.font),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),null!=e.linethrough&&Object.hasOwnProperty.call(e,"linethrough")&&t.uint32(32).bool(e.linethrough),null!=e.underline&&Object.hasOwnProperty.call(e,"underline")&&t.uint32(40).bool(e.underline),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.ChatMessage.ChatComponent;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.text=e.string();break;case 2:o.font=e.string();break;case 3:o.color=e.string();break;case 4:o.linethrough=e.bool();break;case 5:o.underline=e.bool();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.text&&e.hasOwnProperty("text")&&!r.isString(e.text)?"text: string expected":null!=e.font&&e.hasOwnProperty("font")&&!r.isString(e.font)?"font: string expected":null!=e.color&&e.hasOwnProperty("color")&&!r.isString(e.color)?"color: string expected":null!=e.linethrough&&e.hasOwnProperty("linethrough")&&"boolean"!=typeof e.linethrough?"linethrough: boolean expected":null!=e.underline&&e.hasOwnProperty("underline")&&"boolean"!=typeof e.underline?"underline: boolean expected":null},o.fromObject=function(e){if(e instanceof i.ChatMessage.ChatComponent)return e;var t=new i.ChatMessage.ChatComponent;return null!=e.text&&(t.text=String(e.text)),null!=e.font&&(t.font=String(e.font)),null!=e.color&&(t.color=String(e.color)),null!=e.linethrough&&(t.linethrough=Boolean(e.linethrough)),null!=e.underline&&(t.underline=Boolean(e.underline)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.text="",n.font="",n.color="",n.linethrough=!1,n.underline=!1),null!=e.text&&e.hasOwnProperty("text")&&(n.text=e.text),null!=e.font&&e.hasOwnProperty("font")&&(n.font=e.font),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.linethrough&&e.hasOwnProperty("linethrough")&&(n.linethrough=e.linethrough),null!=e.underline&&e.hasOwnProperty("underline")&&(n.underline=e.underline),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),o}(),i.UpdateTextBoard=function(){function o(e){if(this.message={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var a,s;return o.prototype.type=0,o.prototype.message=r.emptyObject,o.prototype.time=r.Long?r.Long.fromBits(0,0,!0):0,o.create=function(e){return new o(e)},o.encode=function(e,t){if(t||(t=n.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.message&&Object.hasOwnProperty.call(e,"message"))for(var r=Object.keys(e.message),o=0;o<r.length;++o)t.uint32(18).fork().uint32(8).uint32(r[o]),i.UpdateTextBoard.ChatComponent.encode(e.message[r[o]],t.uint32(18).fork()).ldelim().ldelim();return null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(24).uint64(e.time),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o,a,s=void 0===n?e.len:e.pos+n,u=new i.UpdateTextBoard;e.pos<s;){var l=e.uint32();switch(l>>>3){case 1:u.type=e.int32();break;case 2:u.message===r.emptyObject&&(u.message={});var c=e.uint32()+e.pos;for(o=0,a=null;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:o=e.uint32();break;case 2:a=i.UpdateTextBoard.ChatComponent.decode(e,e.uint32());break;default:e.skipType(7&f)}}u.message[o]=a;break;case 3:u.time=e.uint64();break;default:e.skipType(7&l)}}return u},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:}if(null!=e.message&&e.hasOwnProperty("message")){if(!r.isObject(e.message))return"message: object expected";for(var t=Object.keys(e.message),n=0;n<t.length;++n){if(!r.key32Re.test(t[n]))return"message: integer key{k:uint32} expected";var o=i.UpdateTextBoard.ChatComponent.verify(e.message[t[n]]);if(o)return"message."+o}}return null!=e.time&&e.hasOwnProperty("time")&&!(r.isInteger(e.time)||e.time&&r.isInteger(e.time.low)&&r.isInteger(e.time.high))?"time: integer|Long expected":null},o.fromObject=function(e){if(e instanceof i.UpdateTextBoard)return e;var t=new i.UpdateTextBoard;switch(e.type){case"TAB":case 0:t.type=0;break;case"SIDE":case 1:t.type=1;break;case"CENTER":case 2:t.type=2;break;case"HOTBAR":case 3:t.type=3}if(e.message){if("object"!=typeof e.message)throw TypeError(".UpdateTextBoard.message: object expected");t.message={};for(var n=Object.keys(e.message),o=0;o<n.length;++o){if("object"!=typeof e.message[n[o]])throw TypeError(".UpdateTextBoard.message: object expected");t.message[n[o]]=i.UpdateTextBoard.ChatComponent.fromObject(e.message[n[o]])}}return null!=e.time&&(r.Long?(t.time=r.Long.fromValue(e.time)).unsigned=!0:"string"==typeof e.time?t.time=parseInt(e.time,10):"number"==typeof e.time?t.time=e.time:"object"==typeof e.time&&(t.time=new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0))),t},o.toObject=function(e,t){t||(t={});var n,o={};if((t.objects||t.defaults)&&(o.message={}),t.defaults)if(o.type=t.enums===String?"TAB":0,r.Long){var a=new r.Long(0,0,!0);o.time=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else o.time=t.longs===String?"0":0;if(null!=e.type&&e.hasOwnProperty("type")&&(o.type=t.enums===String?i.UpdateTextBoard.Type[e.type]:e.type),e.message&&(n=Object.keys(e.message)).length){o.message={};for(var s=0;s<n.length;++s)o.message[n[s]]=i.UpdateTextBoard.ChatComponent.toObject(e.message[n[s]],t)}return null!=e.time&&e.hasOwnProperty("time")&&("number"==typeof e.time?o.time=t.longs===String?String(e.time):e.time:o.time=t.longs===String?r.Long.prototype.toString.call(e.time):t.longs===Number?new r.LongBits(e.time.low>>>0,e.time.high>>>0).toNumber(!0):e.time),o},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o.Type=(a={},(s=Object.create(a))[a[0]="TAB"]=0,s[a[1]="SIDE"]=1,s[a[2]="CENTER"]=2,s[a[3]="HOTBAR"]=3,s),o.ChatComponent=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.text="",o.prototype.font="",o.prototype.color="",o.prototype.linethrough=!1,o.prototype.underline=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(10).string(e.text),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(18).string(e.font),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(26).string(e.color),null!=e.linethrough&&Object.hasOwnProperty.call(e,"linethrough")&&t.uint32(32).bool(e.linethrough),null!=e.underline&&Object.hasOwnProperty.call(e,"underline")&&t.uint32(40).bool(e.underline),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.UpdateTextBoard.ChatComponent;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.text=e.string();break;case 2:o.font=e.string();break;case 3:o.color=e.string();break;case 4:o.linethrough=e.bool();break;case 5:o.underline=e.bool();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.text&&e.hasOwnProperty("text")&&!r.isString(e.text)?"text: string expected":null!=e.font&&e.hasOwnProperty("font")&&!r.isString(e.font)?"font: string expected":null!=e.color&&e.hasOwnProperty("color")&&!r.isString(e.color)?"color: string expected":null!=e.linethrough&&e.hasOwnProperty("linethrough")&&"boolean"!=typeof e.linethrough?"linethrough: boolean expected":null!=e.underline&&e.hasOwnProperty("underline")&&"boolean"!=typeof e.underline?"underline: boolean expected":null},o.fromObject=function(e){if(e instanceof i.UpdateTextBoard.ChatComponent)return e;var t=new i.UpdateTextBoard.ChatComponent;return null!=e.text&&(t.text=String(e.text)),null!=e.font&&(t.font=String(e.font)),null!=e.color&&(t.color=String(e.color)),null!=e.linethrough&&(t.linethrough=Boolean(e.linethrough)),null!=e.underline&&(t.underline=Boolean(e.underline)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.text="",n.font="",n.color="",n.linethrough=!1,n.underline=!1),null!=e.text&&e.hasOwnProperty("text")&&(n.text=e.text),null!=e.font&&e.hasOwnProperty("font")&&(n.font=e.font),null!=e.color&&e.hasOwnProperty("color")&&(n.color=e.color),null!=e.linethrough&&e.hasOwnProperty("linethrough")&&(n.linethrough=e.linethrough),null!=e.underline&&e.hasOwnProperty("underline")&&(n.underline=e.underline),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),o}(),i.EntityCreate=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.uuid="",o.prototype.data="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(10).string(e.uuid),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).string(e.data),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.EntityCreate;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.uuid=e.string();break;case 2:o.data=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!r.isString(e.uuid)?"uuid: string expected":null!=e.data&&e.hasOwnProperty("data")&&!r.isString(e.data)?"data: string expected":null},o.fromObject=function(e){if(e instanceof i.EntityCreate)return e;var t=new i.EntityCreate;return null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.data&&(t.data=String(e.data)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uuid="",n.data=""),null!=e.uuid&&e.hasOwnProperty("uuid")&&(n.uuid=e.uuid),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.EntityRemove=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.uuid="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(10).string(e.uuid),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.EntityRemove;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.uuid=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!r.isString(e.uuid)?"uuid: string expected":null},o.fromObject=function(e){if(e instanceof i.EntityRemove)return e;var t=new i.EntityRemove;return null!=e.uuid&&(t.uuid=String(e.uuid)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uuid=""),null!=e.uuid&&e.hasOwnProperty("uuid")&&(n.uuid=e.uuid),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.EntityMove=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.uuid="",o.prototype.x=0,o.prototype.y=0,o.prototype.z=0,o.prototype.rotation=0,o.prototype.pitch=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(10).string(e.uuid),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(17).double(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(25).double(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(33).double(e.z),null!=e.rotation&&Object.hasOwnProperty.call(e,"rotation")&&t.uint32(45).float(e.rotation),null!=e.pitch&&Object.hasOwnProperty.call(e,"pitch")&&t.uint32(53).float(e.pitch),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.EntityMove;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.uuid=e.string();break;case 2:o.x=e.double();break;case 3:o.y=e.double();break;case 4:o.z=e.double();break;case 5:o.rotation=e.float();break;case 6:o.pitch=e.float();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!r.isString(e.uuid)?"uuid: string expected":null!=e.x&&e.hasOwnProperty("x")&&"number"!=typeof e.x?"x: number expected":null!=e.y&&e.hasOwnProperty("y")&&"number"!=typeof e.y?"y: number expected":null!=e.z&&e.hasOwnProperty("z")&&"number"!=typeof e.z?"z: number expected":null!=e.rotation&&e.hasOwnProperty("rotation")&&"number"!=typeof e.rotation?"rotation: number expected":null!=e.pitch&&e.hasOwnProperty("pitch")&&"number"!=typeof e.pitch?"pitch: number expected":null},o.fromObject=function(e){if(e instanceof i.EntityMove)return e;var t=new i.EntityMove;return null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.x&&(t.x=Number(e.x)),null!=e.y&&(t.y=Number(e.y)),null!=e.z&&(t.z=Number(e.z)),null!=e.rotation&&(t.rotation=Number(e.rotation)),null!=e.pitch&&(t.pitch=Number(e.pitch)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uuid="",n.x=0,n.y=0,n.z=0,n.rotation=0,n.pitch=0),null!=e.uuid&&e.hasOwnProperty("uuid")&&(n.uuid=e.uuid),null!=e.x&&e.hasOwnProperty("x")&&(n.x=t.json&&!isFinite(e.x)?String(e.x):e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=t.json&&!isFinite(e.y)?String(e.y):e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=t.json&&!isFinite(e.z)?String(e.z):e.z),null!=e.rotation&&e.hasOwnProperty("rotation")&&(n.rotation=t.json&&!isFinite(e.rotation)?String(e.rotation):e.rotation),null!=e.pitch&&e.hasOwnProperty("pitch")&&(n.pitch=t.json&&!isFinite(e.pitch)?String(e.pitch):e.pitch),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.EntityNameUpdate=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.uuid="",o.prototype.name="",o.prototype.visible=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(10).string(e.uuid),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.visible&&Object.hasOwnProperty.call(e,"visible")&&t.uint32(24).bool(e.visible),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.EntityNameUpdate;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.uuid=e.string();break;case 2:o.name=e.string();break;case 3:o.visible=e.bool();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!r.isString(e.uuid)?"uuid: string expected":null!=e.name&&e.hasOwnProperty("name")&&!r.isString(e.name)?"name: string expected":null!=e.visible&&e.hasOwnProperty("visible")&&"boolean"!=typeof e.visible?"visible: boolean expected":null},o.fromObject=function(e){if(e instanceof i.EntityNameUpdate)return e;var t=new i.EntityNameUpdate;return null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.name&&(t.name=String(e.name)),null!=e.visible&&(t.visible=Boolean(e.visible)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uuid="",n.name="",n.visible=!1),null!=e.uuid&&e.hasOwnProperty("uuid")&&(n.uuid=e.uuid),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.visible&&e.hasOwnProperty("visible")&&(n.visible=e.visible),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.EntityHeldItem=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.uuid="",o.prototype.id="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(10).string(e.uuid),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(18).string(e.id),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.EntityHeldItem;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.uuid=e.string();break;case 2:o.id=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!r.isString(e.uuid)?"uuid: string expected":null!=e.id&&e.hasOwnProperty("id")&&!r.isString(e.id)?"id: string expected":null},o.fromObject=function(e){if(e instanceof i.EntityHeldItem)return e;var t=new i.EntityHeldItem;return null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.id&&(t.id=String(e.id)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uuid="",n.id=""),null!=e.uuid&&e.hasOwnProperty("uuid")&&(n.uuid=e.uuid),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.EntityArmor=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.uuid="",o.prototype.type=0,o.prototype.id="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(10).string(e.uuid),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(26).string(e.id),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.EntityArmor;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.uuid=e.string();break;case 2:o.type=e.int32();break;case 3:o.id=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!r.isString(e.uuid)?"uuid: string expected":null!=e.type&&e.hasOwnProperty("type")&&!r.isInteger(e.type)?"type: integer expected":null!=e.id&&e.hasOwnProperty("id")&&!r.isString(e.id)?"id: string expected":null},o.fromObject=function(e){if(e instanceof i.EntityArmor)return e;var t=new i.EntityArmor;return null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.type&&(t.type=0|e.type),null!=e.id&&(t.id=String(e.id)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uuid="",n.type=0,n.id=""),null!=e.uuid&&e.hasOwnProperty("uuid")&&(n.uuid=e.uuid),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.EntityAnimate=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.uuid="",o.prototype.animation="",o.prototype.time=0,o.prototype.replace=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(10).string(e.uuid),null!=e.animation&&Object.hasOwnProperty.call(e,"animation")&&t.uint32(18).string(e.animation),null!=e.time&&Object.hasOwnProperty.call(e,"time")&&t.uint32(24).uint32(e.time),null!=e.replace&&Object.hasOwnProperty.call(e,"replace")&&t.uint32(32).bool(e.replace),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.EntityAnimate;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.uuid=e.string();break;case 2:o.animation=e.string();break;case 3:o.time=e.uint32();break;case 4:o.replace=e.bool();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!r.isString(e.uuid)?"uuid: string expected":null!=e.animation&&e.hasOwnProperty("animation")&&!r.isString(e.animation)?"animation: string expected":null!=e.time&&e.hasOwnProperty("time")&&!r.isInteger(e.time)?"time: integer expected":null!=e.replace&&e.hasOwnProperty("replace")&&"boolean"!=typeof e.replace?"replace: boolean expected":null},o.fromObject=function(e){if(e instanceof i.EntityAnimate)return e;var t=new i.EntityAnimate;return null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.animation&&(t.animation=String(e.animation)),null!=e.time&&(t.time=e.time>>>0),null!=e.replace&&(t.replace=Boolean(e.replace)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uuid="",n.animation="",n.time=0,n.replace=!1),null!=e.uuid&&e.hasOwnProperty("uuid")&&(n.uuid=e.uuid),null!=e.animation&&e.hasOwnProperty("animation")&&(n.animation=e.animation),null!=e.time&&e.hasOwnProperty("time")&&(n.time=e.time),null!=e.replace&&e.hasOwnProperty("replace")&&(n.replace=e.replace),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.WorldBlockUpdate=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.x=0,o.prototype.y=0,o.prototype.z=0,o.prototype.id=0,o.prototype.particles=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(8).sint32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(16).sint32(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(24).sint32(e.z),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(32).uint32(e.id),null!=e.particles&&Object.hasOwnProperty.call(e,"particles")&&t.uint32(40).bool(e.particles),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.WorldBlockUpdate;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.sint32();break;case 2:o.y=e.sint32();break;case 3:o.z=e.sint32();break;case 4:o.id=e.uint32();break;case 5:o.particles=e.bool();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&!r.isInteger(e.x)?"x: integer expected":null!=e.y&&e.hasOwnProperty("y")&&!r.isInteger(e.y)?"y: integer expected":null!=e.z&&e.hasOwnProperty("z")&&!r.isInteger(e.z)?"z: integer expected":null!=e.id&&e.hasOwnProperty("id")&&!r.isInteger(e.id)?"id: integer expected":null!=e.particles&&e.hasOwnProperty("particles")&&"boolean"!=typeof e.particles?"particles: boolean expected":null},o.fromObject=function(e){if(e instanceof i.WorldBlockUpdate)return e;var t=new i.WorldBlockUpdate;return null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.z&&(t.z=0|e.z),null!=e.id&&(t.id=e.id>>>0),null!=e.particles&&(t.particles=Boolean(e.particles)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0,n.id=0,n.particles=!1),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=e.z),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.particles&&e.hasOwnProperty("particles")&&(n.particles=e.particles),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.WorldMultiBlockUpdate=function(){function o(e){if(this.blocks={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.blocks=r.emptyObject,o.create=function(e){return new o(e)},o.encode=function(e,t){if(t||(t=n.create()),null!=e.blocks&&Object.hasOwnProperty.call(e,"blocks"))for(var r=Object.keys(e.blocks),o=0;o<r.length;++o)t.uint32(10).fork().uint32(8).int32(r[o]),i.WorldBlockUpdate.encode(e.blocks[r[o]],t.uint32(18).fork()).ldelim().ldelim();return t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var o,a,s=void 0===n?e.len:e.pos+n,u=new i.WorldMultiBlockUpdate;e.pos<s;){var l=e.uint32();switch(l>>>3){case 1:u.blocks===r.emptyObject&&(u.blocks={});var c=e.uint32()+e.pos;for(o=0,a=null;e.pos<c;){var f=e.uint32();switch(f>>>3){case 1:o=e.int32();break;case 2:a=i.WorldBlockUpdate.decode(e,e.uint32());break;default:e.skipType(7&f)}}u.blocks[o]=a;break;default:e.skipType(7&l)}}return u},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.blocks&&e.hasOwnProperty("blocks")){if(!r.isObject(e.blocks))return"blocks: object expected";for(var t=Object.keys(e.blocks),n=0;n<t.length;++n){if(!r.key32Re.test(t[n]))return"blocks: integer key{k:int32} expected";var o=i.WorldBlockUpdate.verify(e.blocks[t[n]]);if(o)return"blocks."+o}}return null},o.fromObject=function(e){if(e instanceof i.WorldMultiBlockUpdate)return e;var t=new i.WorldMultiBlockUpdate;if(e.blocks){if("object"!=typeof e.blocks)throw TypeError(".WorldMultiBlockUpdate.blocks: object expected");t.blocks={};for(var n=Object.keys(e.blocks),r=0;r<n.length;++r){if("object"!=typeof e.blocks[n[r]])throw TypeError(".WorldMultiBlockUpdate.blocks: object expected");t.blocks[n[r]]=i.WorldBlockUpdate.fromObject(e.blocks[n[r]])}}return t},o.toObject=function(e,t){t||(t={});var n,r={};if((t.objects||t.defaults)&&(r.blocks={}),e.blocks&&(n=Object.keys(e.blocks)).length){r.blocks={};for(var o=0;o<n.length;++o)r.blocks[n[o]]=i.WorldBlockUpdate.toObject(e.blocks[n[o]],t)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.WorldChunkLoad=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.x=0,o.prototype.y=0,o.prototype.z=0,o.prototype.data=r.newBuffer([]),o.prototype.height=0,o.prototype.compressed=!1,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(8).sint32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(16).sint32(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(24).sint32(e.z),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(34).bytes(e.data),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(40).sint32(e.height),null!=e.compressed&&Object.hasOwnProperty.call(e,"compressed")&&t.uint32(48).bool(e.compressed),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.WorldChunkLoad;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.sint32();break;case 2:o.y=e.sint32();break;case 3:o.z=e.sint32();break;case 4:o.data=e.bytes();break;case 5:o.height=e.sint32();break;case 6:o.compressed=e.bool();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&!r.isInteger(e.x)?"x: integer expected":null!=e.y&&e.hasOwnProperty("y")&&!r.isInteger(e.y)?"y: integer expected":null!=e.z&&e.hasOwnProperty("z")&&!r.isInteger(e.z)?"z: integer expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||r.isString(e.data))?"data: buffer expected":null!=e.height&&e.hasOwnProperty("height")&&!r.isInteger(e.height)?"height: integer expected":null!=e.compressed&&e.hasOwnProperty("compressed")&&"boolean"!=typeof e.compressed?"compressed: boolean expected":null},o.fromObject=function(e){if(e instanceof i.WorldChunkLoad)return e;var t=new i.WorldChunkLoad;return null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.z&&(t.z=0|e.z),null!=e.data&&("string"==typeof e.data?r.base64.decode(e.data,t.data=r.newBuffer(r.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.height&&(t.height=0|e.height),null!=e.compressed&&(t.compressed=Boolean(e.compressed)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0,t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=r.newBuffer(n.data))),n.height=0,n.compressed=!1),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=e.z),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?r.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),null!=e.compressed&&e.hasOwnProperty("compressed")&&(n.compressed=e.compressed),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.WorldChunkUnload=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.x=0,o.prototype.y=0,o.prototype.z=0,o.prototype.height=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(8).sint32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(16).sint32(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(24).sint32(e.z),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(32).sint32(e.height),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.WorldChunkUnload;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.sint32();break;case 2:o.y=e.sint32();break;case 3:o.z=e.sint32();break;case 4:o.height=e.sint32();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&!r.isInteger(e.x)?"x: integer expected":null!=e.y&&e.hasOwnProperty("y")&&!r.isInteger(e.y)?"y: integer expected":null!=e.z&&e.hasOwnProperty("z")&&!r.isInteger(e.z)?"z: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!r.isInteger(e.height)?"height: integer expected":null},o.fromObject=function(e){if(e instanceof i.WorldChunkUnload)return e;var t=new i.WorldChunkUnload;return null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.z&&(t.z=0|e.z),null!=e.height&&(t.height=0|e.height),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0,n.height=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=e.z),null!=e.height&&e.hasOwnProperty("height")&&(n.height=e.height),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.WorldChunkIsLoaded=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.x=0,o.prototype.y=0,o.prototype.z=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(8).sint32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(16).sint32(e.y),null!=e.z&&Object.hasOwnProperty.call(e,"z")&&t.uint32(24).sint32(e.z),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.WorldChunkIsLoaded;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.x=e.sint32();break;case 2:o.y=e.sint32();break;case 3:o.z=e.sint32();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&!r.isInteger(e.x)?"x: integer expected":null!=e.y&&e.hasOwnProperty("y")&&!r.isInteger(e.y)?"y: integer expected":null!=e.z&&e.hasOwnProperty("z")&&!r.isInteger(e.z)?"z: integer expected":null},o.fromObject=function(e){if(e instanceof i.WorldChunkIsLoaded)return e;var t=new i.WorldChunkIsLoaded;return null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.z&&(t.z=0|e.z),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=0,n.y=0,n.z=0),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),null!=e.z&&e.hasOwnProperty("z")&&(n.z=e.z),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.WorldChunksRemoveAll=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.confirm=!1,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.confirm&&Object.hasOwnProperty.call(e,"confirm")&&t.uint32(8).bool(e.confirm),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.WorldChunksRemoveAll;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.confirm=e.bool();break;default:e.skipType(7&a)}}return o},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.confirm&&e.hasOwnProperty("confirm")&&"boolean"!=typeof e.confirm?"confirm: boolean expected":null},r.fromObject=function(e){if(e instanceof i.WorldChunksRemoveAll)return e;var t=new i.WorldChunksRemoveAll;return null!=e.confirm&&(t.confirm=Boolean(e.confirm)),t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.confirm=!1),null!=e.confirm&&e.hasOwnProperty("confirm")&&(n.confirm=e.confirm),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),i.RegistryUpdate=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.itemsDef="",o.prototype.blocksDef="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.itemsDef&&Object.hasOwnProperty.call(e,"itemsDef")&&t.uint32(10).string(e.itemsDef),null!=e.blocksDef&&Object.hasOwnProperty.call(e,"blocksDef")&&t.uint32(18).string(e.blocksDef),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.RegistryUpdate;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.itemsDef=e.string();break;case 2:o.blocksDef=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.itemsDef&&e.hasOwnProperty("itemsDef")&&!r.isString(e.itemsDef)?"itemsDef: string expected":null!=e.blocksDef&&e.hasOwnProperty("blocksDef")&&!r.isString(e.blocksDef)?"blocksDef: string expected":null},o.fromObject=function(e){if(e instanceof i.RegistryUpdate)return e;var t=new i.RegistryUpdate;return null!=e.itemsDef&&(t.itemsDef=String(e.itemsDef)),null!=e.blocksDef&&(t.blocksDef=String(e.blocksDef)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.itemsDef="",n.blocksDef=""),null!=e.itemsDef&&e.hasOwnProperty("itemsDef")&&(n.itemsDef=e.itemsDef),null!=e.blocksDef&&e.hasOwnProperty("blocksDef")&&(n.blocksDef=e.blocksDef),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.EnvironmentFogUpdate=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.mode=0,o.prototype.density=0,o.prototype.start=0,o.prototype.end=0,o.prototype.colorRed=0,o.prototype.colorGreen=0,o.prototype.colorBlue=0,o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(8).uint32(e.mode),null!=e.density&&Object.hasOwnProperty.call(e,"density")&&t.uint32(21).float(e.density),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(29).float(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(37).float(e.end),null!=e.colorRed&&Object.hasOwnProperty.call(e,"colorRed")&&t.uint32(45).float(e.colorRed),null!=e.colorGreen&&Object.hasOwnProperty.call(e,"colorGreen")&&t.uint32(53).float(e.colorGreen),null!=e.colorBlue&&Object.hasOwnProperty.call(e,"colorBlue")&&t.uint32(61).float(e.colorBlue),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.EnvironmentFogUpdate;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.mode=e.uint32();break;case 2:o.density=e.float();break;case 3:o.start=e.float();break;case 4:o.end=e.float();break;case 5:o.colorRed=e.float();break;case 6:o.colorGreen=e.float();break;case 7:o.colorBlue=e.float();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.mode&&e.hasOwnProperty("mode")&&!r.isInteger(e.mode)?"mode: integer expected":null!=e.density&&e.hasOwnProperty("density")&&"number"!=typeof e.density?"density: number expected":null!=e.start&&e.hasOwnProperty("start")&&"number"!=typeof e.start?"start: number expected":null!=e.end&&e.hasOwnProperty("end")&&"number"!=typeof e.end?"end: number expected":null!=e.colorRed&&e.hasOwnProperty("colorRed")&&"number"!=typeof e.colorRed?"colorRed: number expected":null!=e.colorGreen&&e.hasOwnProperty("colorGreen")&&"number"!=typeof e.colorGreen?"colorGreen: number expected":null!=e.colorBlue&&e.hasOwnProperty("colorBlue")&&"number"!=typeof e.colorBlue?"colorBlue: number expected":null},o.fromObject=function(e){if(e instanceof i.EnvironmentFogUpdate)return e;var t=new i.EnvironmentFogUpdate;return null!=e.mode&&(t.mode=e.mode>>>0),null!=e.density&&(t.density=Number(e.density)),null!=e.start&&(t.start=Number(e.start)),null!=e.end&&(t.end=Number(e.end)),null!=e.colorRed&&(t.colorRed=Number(e.colorRed)),null!=e.colorGreen&&(t.colorGreen=Number(e.colorGreen)),null!=e.colorBlue&&(t.colorBlue=Number(e.colorBlue)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.mode=0,n.density=0,n.start=0,n.end=0,n.colorRed=0,n.colorGreen=0,n.colorBlue=0),null!=e.mode&&e.hasOwnProperty("mode")&&(n.mode=e.mode),null!=e.density&&e.hasOwnProperty("density")&&(n.density=t.json&&!isFinite(e.density)?String(e.density):e.density),null!=e.start&&e.hasOwnProperty("start")&&(n.start=t.json&&!isFinite(e.start)?String(e.start):e.start),null!=e.end&&e.hasOwnProperty("end")&&(n.end=t.json&&!isFinite(e.end)?String(e.end):e.end),null!=e.colorRed&&e.hasOwnProperty("colorRed")&&(n.colorRed=t.json&&!isFinite(e.colorRed)?String(e.colorRed):e.colorRed),null!=e.colorGreen&&e.hasOwnProperty("colorGreen")&&(n.colorGreen=t.json&&!isFinite(e.colorGreen)?String(e.colorGreen):e.colorGreen),null!=e.colorBlue&&e.hasOwnProperty("colorBlue")&&(n.colorBlue=t.json&&!isFinite(e.colorBlue)?String(e.colorBlue):e.colorBlue),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.EnvironmentSkyUpdate=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return r.prototype.clouds=!1,r.prototype.colorRed=0,r.prototype.colorGreen=0,r.prototype.colorBlue=0,r.create=function(e){return new r(e)},r.encode=function(e,t){return t||(t=n.create()),null!=e.clouds&&Object.hasOwnProperty.call(e,"clouds")&&t.uint32(8).bool(e.clouds),null!=e.colorRed&&Object.hasOwnProperty.call(e,"colorRed")&&t.uint32(21).float(e.colorRed),null!=e.colorGreen&&Object.hasOwnProperty.call(e,"colorGreen")&&t.uint32(29).float(e.colorGreen),null!=e.colorBlue&&Object.hasOwnProperty.call(e,"colorBlue")&&t.uint32(37).float(e.colorBlue),t},r.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},r.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.EnvironmentSkyUpdate;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.clouds=e.bool();break;case 2:o.colorRed=e.float();break;case 3:o.colorGreen=e.float();break;case 4:o.colorBlue=e.float();break;default:e.skipType(7&a)}}return o},r.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.clouds&&e.hasOwnProperty("clouds")&&"boolean"!=typeof e.clouds?"clouds: boolean expected":null!=e.colorRed&&e.hasOwnProperty("colorRed")&&"number"!=typeof e.colorRed?"colorRed: number expected":null!=e.colorGreen&&e.hasOwnProperty("colorGreen")&&"number"!=typeof e.colorGreen?"colorGreen: number expected":null!=e.colorBlue&&e.hasOwnProperty("colorBlue")&&"number"!=typeof e.colorBlue?"colorBlue: number expected":null},r.fromObject=function(e){if(e instanceof i.EnvironmentSkyUpdate)return e;var t=new i.EnvironmentSkyUpdate;return null!=e.clouds&&(t.clouds=Boolean(e.clouds)),null!=e.colorRed&&(t.colorRed=Number(e.colorRed)),null!=e.colorGreen&&(t.colorGreen=Number(e.colorGreen)),null!=e.colorBlue&&(t.colorBlue=Number(e.colorBlue)),t},r.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.clouds=!1,n.colorRed=0,n.colorGreen=0,n.colorBlue=0),null!=e.clouds&&e.hasOwnProperty("clouds")&&(n.clouds=e.clouds),null!=e.colorRed&&e.hasOwnProperty("colorRed")&&(n.colorRed=t.json&&!isFinite(e.colorRed)?String(e.colorRed):e.colorRed),null!=e.colorGreen&&e.hasOwnProperty("colorGreen")&&(n.colorGreen=t.json&&!isFinite(e.colorGreen)?String(e.colorGreen):e.colorGreen),null!=e.colorBlue&&e.hasOwnProperty("colorBlue")&&(n.colorBlue=t.json&&!isFinite(e.colorBlue)?String(e.colorBlue):e.colorBlue),n},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),i.PluginMessage=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.key="",o.prototype.version=0,o.prototype.value=r.newBuffer([]),o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(16).uint32(e.version),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(26).bytes(e.value),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.PluginMessage;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.key=e.string();break;case 2:o.version=e.uint32();break;case 3:o.value=e.bytes();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!r.isString(e.key)?"key: string expected":null!=e.version&&e.hasOwnProperty("version")&&!r.isInteger(e.version)?"version: integer expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||r.isString(e.value))?"value: buffer expected":null},o.fromObject=function(e){if(e instanceof i.PluginMessage)return e;var t=new i.PluginMessage;return null!=e.key&&(t.key=String(e.key)),null!=e.version&&(t.version=e.version>>>0),null!=e.value&&("string"==typeof e.value?r.base64.decode(e.value,t.value=r.newBuffer(r.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.version=0,t.bytes===String?n.value="":(n.value=[],t.bytes!==Array&&(n.value=r.newBuffer(n.value)))),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?r.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i})?r.apply(t,i):r)||(e.exports=o)},,,function(e,t,n){"use strict";const r=()=>"function"==typeof Symbol,i=e=>r()&&Boolean(Symbol[e]),o=e=>i(e)?Symbol[e]:"@@"+e;i("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const a=o("iterator"),s=o("observable"),u=o("species");function l(e,t){const n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function c(e){let t=e.constructor;return void 0!==t&&(t=t[u],null===t&&(t=void 0)),void 0!==t?t:b}function f(e){f.log?f.log(e):setTimeout(()=>{throw e},0)}function h(e){Promise.resolve().then(()=>{try{e()}catch(e){f(e)}})}function d(e){const t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{const e=l(t,"unsubscribe");e&&e.call(t)}}catch(e){f(e)}}function p(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function m(e,t,n){e._state="running";const r=e._observer;try{const i=r?l(r,t):void 0;switch(t){case"next":i&&i.call(r,n);break;case"error":if(p(e),!i)throw n;i.call(r,n);break;case"complete":p(e),i&&i.call(r)}}catch(e){f(e)}"closed"===e._state?d(e):"running"===e._state&&(e._state="ready")}function y(e,t,n){if("closed"!==e._state)return"buffering"===e._state?(e._queue=e._queue||[],void e._queue.push({type:t,value:n})):"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void h(()=>function(e){const t=e._queue;if(t){e._queue=void 0,e._state="ready";for(const n of t)if(m(e,n.type,n.value),"closed"===e._state)break}}(e))):void m(e,t,n)}class v{constructor(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";const n=new g(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(p(this),d(this))}}class g{constructor(e){this._subscription=e}get closed(){return"closed"===this._subscription._state}next(e){y(this._subscription,"next",e)}error(e){y(this._subscription,"error",e)}complete(){y(this._subscription,"complete")}}class b{constructor(e){if(!(this instanceof b))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,t,n){return"object"==typeof e&&null!==e||(e={next:e,error:t,complete:n}),new v(e,this._subscriber)}pipe(e,...t){let n=this;for(const r of[e,...t])n=r(n);return n}tap(e,t,n){const r="object"!=typeof e||null===e?{next:e,error:t,complete:n}:e;return new b(e=>this.subscribe({next(t){r.next&&r.next(t),e.next(t)},error(t){r.error&&r.error(t),e.error(t)},complete(){r.complete&&r.complete(),e.complete()},start(e){r.start&&r.start(e)}}))}forEach(e){return new Promise((t,n)=>{if("function"!=typeof e)return void n(new TypeError(e+" is not a function"));function r(){i.unsubscribe(),t()}const i=this.subscribe({next(t){try{e(t,r)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t})})}map(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(c(this))(t=>this.subscribe({next(n){let r=n;try{r=e(n)}catch(e){return t.error(e)}t.next(r)},error(e){t.error(e)},complete(){t.complete()}}))}filter(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(c(this))(t=>this.subscribe({next(n){try{if(!e(n))return}catch(e){return t.error(e)}t.next(n)},error(e){t.error(e)},complete(){t.complete()}}))}reduce(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");const n=c(this),r=arguments.length>1;let i=!1,o=t;return new n(t=>this.subscribe({next(n){const a=!i;if(i=!0,!a||r)try{o=e(o,n)}catch(e){return t.error(e)}else o=n},error(e){t.error(e)},complete(){if(!i&&!r)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(o),t.complete()}}))}concat(...e){const t=c(this);return new t(n=>{let r,i=0;return function o(a){r=a.subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){i===e.length?(r=void 0,n.complete()):o(t.from(e[i++]))}})}(this),()=>{r&&(r.unsubscribe(),r=void 0)}})}flatMap(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");const t=c(this);return new t(n=>{const r=[],i=this.subscribe({next(i){let a;if(e)try{a=e(i)}catch(e){return n.error(e)}else a=i;const s=t.from(a).subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){const e=r.indexOf(s);e>=0&&r.splice(e,1),o()}});r.push(s)},error(e){n.error(e)},complete(){o()}});function o(){i.closed&&0===r.length&&n.complete()}return()=>{r.forEach(e=>e.unsubscribe()),i.unsubscribe()}})}[s](){return this}static from(e){const t="function"==typeof this?this:b;if(null==e)throw new TypeError(e+" is not an object");const n=l(e,s);if(n){const r=n.call(e);if(Object(r)!==r)throw new TypeError(r+" is not an object");return function(e){return e instanceof b}(r)&&r.constructor===t?r:new t(e=>r.subscribe(e))}if(i("iterator")){const n=l(e,a);if(n)return new t(t=>{h(()=>{if(!t.closed){for(const r of n.call(e))if(t.next(r),t.closed)return;t.complete()}})})}if(Array.isArray(e))return new t(t=>{h(()=>{if(!t.closed){for(const n of e)if(t.next(n),t.closed)return;t.complete()}})});throw new TypeError(e+" is not observable")}static of(...e){return new("function"==typeof this?this:b)(t=>{h(()=>{if(!t.closed){for(const n of e)if(t.next(n),t.closed)return;t.complete()}})})}static get[u](){return this}}r()&&Object.defineProperty(b,Symbol("extensions"),{value:{symbol:s,hostReportError:f},configurable:!0});t.a=b},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.internalError="internalError",e.message="message",e.termination="termination"}(r||(r={}))},,,,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0,t.parseToMessage=t.parseToObject=void 0;var s=o(n(40)),u=o(n(126)),l=o(n(237)),c=o(n(238)),f=a(n(239)),h=a(n(240)),d=a(n(241)),p=a(n(242)),m={},y={},v={},g={};f.default.forEach((function(e,t){return y[e]=t})),h.default.forEach((function(e,t){return m[e]=t})),d.default.forEach((function(e,t){return g[e]=t})),p.default.forEach((function(e,t){return v[e]=t})),t.parseToObject=function(e,t){var n,r="";switch(e){case"server":r=h.default[t[0]],n=u[r];break;case"client":r=f.default[t[0]],n=s[r];break;case"proxy-server":r=p.default[t[0]],n=c[r];break;case"proxy-client":r=d.default[t[0]],n=l[r];break;default:return null}if(null==r)return null;var i=t.slice(1),o=n.decode(i),a=null;return(a=null!=n?n.verify(o):"Invalid packet")?(console.error("Invalid "+e+" packet! Type: "+r,a),null):{data:n.toObject(o,{defaults:!0}),type:r}},t.parseToMessage=function(e,t,n){var r,i=0;switch(e){case"server":i=m[t],r=u[t];break;case"client":i=y[t],r=s[t];break;case"proxy-server":i=v[t],r=c[t];break;case"proxy-client":i=g[t],r=l[t];break;default:return null}var o=null;if(o=null!=r?r.verify(n):"Invalid packet")return console.error("Invalid "+e+" packet! Type: "+t,n,o),null;var a=r.create(n),f=r.encode(a).finish(),h=new Uint8Array(1+f.length);return h.set([i]),h.set(f,1),h.buffer}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return c}));var r=n(6),i=n(19),o=n(33),a=n(113);let s,u;function l(e,t){const n=Object(r.e)(1),u=e.playerEntity,l=e.entities.getPositionData(u);let c;s=new i.j,n.addControl(s),s.text="",s.color="#f0f0f0",s.fontSize=8*r.f+"px",s.left="5px",s.top="5px",s.shadowColor="#111111",s.shadowOffsetX=1,s.shadowOffsetY=1,s.textHorizontalAlignment=i.b.HORIZONTAL_ALIGNMENT_LEFT,s.textVerticalAlignment=i.b.VERTICAL_ALIGNMENT_TOP,c=null!=t?`Server: ${t}\n`:"Singleplayer world\n";let f=0;const h=async()=>{if(2==f)if(f=0,o.c.debugInfo){const t=Math.floor(l.position[0]/32),n=Math.floor(l.position[1]/32),r=Math.floor(l.position[2]/32),i=`${l.position[0].toFixed(1)}, ${l.position[1].toFixed(1)}, ${l.position[2].toFixed(1)}`,u=`${t}, ${n}, ${r} [${Object(a.a)([t,n,r].join("|"))}]`;s.text=`VoxelSrv ${o.d}\nNoa: ${e.version}\nXYZ: ${i}\nChunk: ${u}\n${c}`}else s.text=`VoxelSrv ${o.d} (Noa ${e.version})`;else f+=1},d=async()=>{s.fontSize=8*r.f+"px"};e.on("tick",h),r.b.on("scale-change",d),s.onDisposeObservable.add(()=>{e.off("tick",h),r.b.on("scale-change",d)})}function c(){Object(r.c)(0);const e=Object(r.e)(0);u=new i.c,u.background="#eeeeee88",u.height=2*r.f+"px",u.width=2*r.f+"px",u.thickness=0;const t=()=>{u.height=2*r.f+"px",u.width=2*r.f+"px"};r.b.on("scale-change",t),u.onDisposeObservable.add(()=>{r.b.off("scale-change",t)}),e.addControl(u)}},,,function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},,,,function(e,t,n){"use strict";function r(e,t){const n=e.deserialize.bind(e),r=e.serialize.bind(e);return{deserialize:e=>t.deserialize(e,n),serialize:e=>t.serialize(e,r)}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const i={deserialize:e=>Object.assign(Error(e.message),{name:e.name,stack:e.stack}),serialize:e=>({__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack})},o={deserialize(e){return(t=e)&&"object"==typeof t&&"__error_marker"in t&&"$$error"===t.__error_marker?i.deserialize(e):e;var t},serialize:e=>e instanceof Error?i.serialize(e):e}},,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(6),i=n(105),o=n(19);let a,s=[],u=0;function l(){const e=Object(r.d)(2);a=new o.i,a.verticalAlignment=2,a.horizontalAlignment=2,a.width=180*r.f+"px",a.name="textContainer",a.useBitmapCache=!0,a.zIndex=100,a.background="#11111155",e.addControl(a);const t=e=>{a.width=180*r.f+"px",s.forEach(t=>{t.fontSize=8*e,t.paddingLeft=2*e+"px",t.width=176*e+"px",t.height=t.computeExpectedHeight()+"px"}),f(),a.isVisible=!1};r.b.on("scale-change",t),a.onDisposeObservable.add(()=>{s.forEach(e=>e.dispose()),s=[],u=0,r.b.off("scale-change",t)}),a.isVisible=!1}async function c(e){s.forEach(e=>e.dispose()),s=[];const t=Object.values(e);let n="";t.forEach(e=>{n+=e.text});const o=new i.a;o.fontSize=8*r.f,o.paddingLeft=2*r.f+"px",o.textVerticalAlignment=1,o.textHorizontalAlignment=2,o.fontFamily="Lato",o.width=176*r.f+"px",o.text=t,o.height=o.computeExpectedHeight()+"px",o.useBitmapCache=!0,s.unshift(o),a.addControl(o),f()}function f(){u=0,s.forEach(e=>{u+=e.heightInPixels}),0!=u&&(a.height=u+5+"px")}},,,function(e,t,n){"use strict";e.exports=f;var r,i=n(72),o=i.LongBits,a=i.base64,s=i.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(l,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(f.create=function(){return new r})()}:function(){return new f}};function d(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function y(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}f.create=h(),f.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(f.alloc=i.pool(f.alloc,i.Array.prototype.subarray)),f.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},p.prototype=Object.create(u.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},f.prototype.bool=function(e){return this._push(d,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=o.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var n=f.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new u(l,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(l,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},f._configure=function(e){r=e,f.create=h(),r._configure()}},function(e,t,n){"use strict";e.exports=u;var r,i=n(72),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var l,c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},f=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new r(e):c(e)})(e)}:c};function h(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new o(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=f(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){r=e,u.create=f(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},function(e,t){function n(e,t){const n=e.split("/");let r=0;if(""===n[r]){for(;t.hasOwnProperty("..");)t=t[".."];r++}for(;r<n.length;r++)t=t[n[r]];return t}function r(e){if("string"==typeof e)return{type:e};if(Array.isArray(e))return{type:e[0],typeArgs:e[1]};if("string"==typeof e.type)return e;throw new Error("Not a fieldinfo")}function i(e,t){throw e.field=e.field?t+"."+e.field:t,e}function o(e,t){try{return e()}catch(e){t(e)}}function a(e,t){return o(e,e=>i(e,t))}class s extends Error{constructor(e){super(e),this.name=this.constructor.name,this.message=e,null!=Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor.name)}}e.exports={getField:n,getFieldInfo:r,addErrorField:i,getCount:function(e,t,{count:i,countType:o},s){let u=0,l=0;return"number"==typeof i?u=i:void 0!==i?u=n(i,s):void 0!==o?({size:l,value:u}=a(()=>this.read(e,t,r(o),s),"$count")):u=0,{count:u,size:l}},sendCount:function(e,t,n,{count:i,countType:o},a){return void 0!==i&&e!==i||void 0!==o&&(n=this.write(e,t,n,r(o),a)),n},calcCount:function(e,{count:t,countType:n},i){return void 0===t&&void 0!==n?a(()=>this.sizeOf(e,r(n),i),"$count"):0},tryCatch:o,tryDoc:a,PartialReadError:class extends s{constructor(e){super(e),this.partialReadError=!0}}}},function(e){e.exports=JSON.parse('{"varint":{"enum":["varint"]},"bool":{"enum":["bool"]},"pstring":{"title":"pstring","type":"array","items":[{"enum":["pstring"]},{"oneOf":[{"type":"object","properties":{"countType":{"$ref":"dataType"}},"additionalProperties":false,"required":["countType"]},{"type":"object","properties":{"count":{"$ref":"definitions#/definitions/dataTypeArgsCount"}},"additionalProperties":false,"required":["count"]}]}],"additionalItems":false},"buffer":{"title":"buffer","type":"array","items":[{"enum":["buffer"]},{"oneOf":[{"type":"object","properties":{"countType":{"$ref":"dataType"}},"additionalProperties":false,"required":["countType"]},{"type":"object","properties":{"count":{"$ref":"definitions#/definitions/dataTypeArgsCount"}},"additionalProperties":false,"required":["count"]}]}]},"void":{"enum":["void"]},"bitfield":{"title":"bitfield","type":"array","items":[{"enum":["bitfield"]},{"type":"array","items":{"type":"object","properties":{"name":{"$ref":"definitions#/definitions/fieldName"},"size":{"type":"number"},"signed":{"type":"boolean"}},"required":["name","size","signed"],"additionalProperties":false},"additionalItems":false}],"additionalItems":false},"cstring":{"enum":["cstring"]},"mapper":{"title":"mapper","type":"array","items":[{"enum":["mapper"]},{"type":"object","properties":{"type":{"$ref":"dataType"},"mappings":{"type":"object","patternProperties":{"^[-a-zA-Z0-9 _]+$":{"type":"string"}},"additionalProperties":false}},"required":["type","mappings"],"additionalProperties":false}],"additionalItems":false}}')},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(6),i=n(19),o=n(264),a=n(312),s=n(33),u=n(45),l=n(105),c=n(203);function f(e,t){const n=new i.f;n.thickness=0,n.horizontalAlignment=2,n.zIndex=10,window.innerHeight>230*r.f?n.height=230*r.f+"px":n.height="100%",n.width=310*r.f+"px",n.background="#11111166";const o=new i.j;o.fontFamily="Lato",o.fontSize=11*r.f,o.textVerticalAlignment=0,o.color="white",o.text="Singleplayer",o.top=r.f,n.addControl(o);const a=Object(u.a)();a.button.top=18*r.f+"px",a.button.left=5*r.f+"px",a.buttonText.text=[{text:"Create World",color:"white",font:"Lato"}],a.button.onPointerClickObservable.add(()=>{!function(){const e=Object(r.d)(2),t=new i.f;t.background="#11111188",window.innerHeight>230*r.f?t.height=230*r.f+"px":t.height="100%";t.width=220*r.f+"px",t.thickness=0,t.zIndex=200;const n=new i.i;n.verticalAlignment=0,n.top=18*r.f+"px",n.width=210*r.f+"px",n.height="80%",n.verticalAlignment=0,n.top=18*r.f+"px",n.width=210*r.f+"px",n.height="80%";const o=Object(u.c)();o.name.text="Worldname",o.input.placeholderText="World",o.input.text="World",n.addControl(o.main);const a=Object(u.d)();a.item.verticalAlignment=1,a.text.text=[{text:"Create",color:"white",font:"Lato"}],a.item.top=`-${16*r.f}px`,a.item.onPointerClickObservable.add(()=>{t.dispose()}),t.addControl(a.item);const s=Object(u.d)();s.item.verticalAlignment=1,s.text.text=[{text:"Back",color:"white",font:"Lato"}],s.item.onPointerClickObservable.add(()=>{t.dispose()}),t.addControl(s.item),t.addControl(n),e.addControl(t)}()}),n.addControl(a.button);const s=Object(u.a)();s.button.top=18*r.f+"px",s.button.left=74*r.f+"px",s.buttonText.text=[{text:"Remove",color:"white",font:"Lato"}],s.button.onPointerClickObservable.add(()=>{});const l=new i.f;l.width=290*r.f+"px",l.height="70%",l.verticalAlignment=0,l.top=40*r.f+"px",l.background="#ffffffbb",l.thickness=0;const f=h();f.main.verticalAlignment=0,f.main.fontFamily="Lato",f.main.background="#88888855",f.main.fontSize=7*r.f;const d=new i.j;d.text="Name",d.color="#222222",f.name.addControl(d);const p=new i.j;p.text="Last played",p.color="#222222",f.date.addControl(p);const m=new i.j;m.text="Type",m.color="#222222",f.type.addControl(m),l.addControl(f.main),n.addControl(l);const y=new i.g;y.height=150*r.f+"px",y.top=13*r.f+"px",y.thickness=0,y.verticalAlignment=0,y.barSize=0,l.addControl(y);const v=new i.i;v.fontFamily="Lato",v.width="100%",v.fontSize=6*r.f,v.verticalAlignment=0,y.addControl(v);let g=[];Object(c.b)().then(e=>{e.forEach(e=>{const t=h(),n=new i.j;n.text=e.name,n.color="#222222",t.name.addControl(n);const r=new i.j;r.text=e.date.toString(),r.color="#222222",t.date.addControl(r);const o=new i.j;o.text=e.type,o.color="#222222",t.type.addControl(o);let a=0;t.main.onPointerClickObservable.add(e=>{g.forEach(e=>{e.row.main.background="#ffffff00"}),t.main.background="#ffffffaa",a+=1,a>1&&setTimeout(()=>{a=0},500)}),t.main.onPointerEnterObservable.add(e=>{"#ffffffaa"!=t.main.background&&(t.main.background="#ffffff67")}),t.main.onPointerOutObservable.add(e=>{"#ffffffaa"!=t.main.background&&(t.main.background="#ffffff00")}),v.addControl(t.main),g.push({data:e,row:t})})});const b=Object(u.d)();b.item.verticalAlignment=1,b.text.text=[{text:"Go back to menu",color:"white",font:"Lato"}],b.item.onPointerClickObservable.add(()=>{n.dispose(),t("main")}),n.addControl(b.item);const w=e=>{window.innerHeight>230*r.f?n.height=230*r.f+"px":n.height="100%",n.width=310*r.f+"px",o.fontSize=11*r.f,l.width=290*r.f+"px",l.top=40*r.f+"px",y.top=13*r.f+"px",f.main.fontSize=7*r.f,v.fontSize=6*r.f,y.height=150*r.f+"px",a.button.top=18*r.f+"px",a.button.left=5*r.f+"px",s.button.top=18*r.f+"px",s.button.left=74*r.f+"px",b.item.width=100*r.f+"px",b.item.height=18*r.f+"px",b.text.fontSize=10*r.f};return r.b.on("scale-change",w),n.onDisposeObservable.add(()=>{r.b.off("scale-change",w)}),n}function h(){const e=new i.f;e.height=13*r.f+"px",e.thickness=0;const t=()=>{e.height=13*r.f+"px"};r.b.on("scale-change",t),e.onDisposeObservable.add(()=>{r.b.off("scale-change",t)});const n=new i.f;n.width="50%",n.horizontalAlignment=0,n.thickness=0,e.addControl(n);const o=new i.f;o.width="20%",o.horizontalAlignment=0,o.left="50%",o.thickness=0,e.addControl(o);const a=new i.f;return a.width="20%",a.horizontalAlignment=0,a.left="80%",a.thickness=0,e.addControl(a),{main:e,name:n,date:o,type:a}}let d;function p(e){const t=Object(r.d)(2);let n,c;d=new i.f,d.thickness=0,d.isPointerBlocker=!0,d.zIndex=5,t.addControl(d);const h=new i.j;function p(t){switch(n&&n.dispose(),t){case"singleplayer":n=f(0,p),c="singleplayer",document.title="VoxelSrv - Singleplayer Menu";break;case"multiplayer":n=Object(o.a)(e,p),c="multiplayer",document.title="VoxelSrv - Multiplayer Menu";break;case"settings":n=Object(a.a)(e,p),c="settings",document.title="VoxelSrv - Settings";break;default:n=function(){const e=new i.f;e.thickness=0,e.horizontalAlignment=2,e.zIndex=10,window.innerHeight>230*r.f?e.height=230*r.f+"px":e.height="100%";e.width=220*r.f+"px",e.background="#11111166";const t=new i.d("hotbar","./textures/mainlogo.png");t.width=210*r.f+"px",t.height=64*r.f+"px",t.verticalAlignment=0,t.horizontalAlignment=2,t.top="5px",d.zIndex=15,e.addControl(t);const n=new l.a;n.text=Object(s.e)(),n.fontFamily="Lato",n.fontSize=9*r.f+"px",n.color="yellow",n.zIndex=20,n.width=200*r.f+"px",n.height=10*r.f+"px",n.textHorizontalAlignment=2,n.textVerticalAlignment=2,n.left=65*r.f+"px",window.innerHeight>230*r.f?n.top=`-${60*r.f}px`:n.top=`-${window.innerHeight/4}px`;n.rotation=-.22,n.shadowColor="#111111",n.shadowOffsetX=1,n.shadowOffsetY=1;let o=.005;window.changeSplash=()=>{n.text=Object(s.e)()};const a=setInterval(()=>{n.scaleX=n.scaleX+o,n.scaleY=n.scaleY+o,n.scaleX>1.1?o=-.005:n.scaleX<1&&(o=.005)},20);d.addControl(n);const c=new i.i;c.zIndex=20,e.addControl(c);const f=Object(u.d)();f.text.text=[{text:"Multiplayer",color:"white",font:"Lato"}],f.item.onPointerClickObservable.add(e=>{p("multiplayer")}),c.addControl(f.item);const h=Object(u.d)();h.text.text=[{text:"Settings",color:"white",font:"Lato"}],h.item.onPointerClickObservable.add(e=>{p("settings")}),c.addControl(h.item);const m=Object(u.d)();m.text.text=[{text:"Discord",color:"white",font:"Lato"}],m.item.onPointerClickObservable.add(e=>{window.open("https://discord.com/invite/K9PdsDh","_blank")}),c.addControl(m.item);const y=Object(u.d)();y.text.text=[{text:"Github",color:"white",font:"Lato"}],y.item.onPointerClickObservable.add(e=>{window.open("https://github.com/VoxelSrv/voxelsrv","_blank")}),c.addControl(y.item);const v=i=>{window.innerHeight>230*r.f?e.height=230*r.f+"px":e.height="100%",e.width=220*r.f+"px",t.width=210*r.f+"px",t.height=64*r.f+"px",n.left=65*r.f+"px",window.innerHeight>230*r.f?n.top=`-${60*r.f}px`:n.top=`-${window.innerHeight/4}px`,n.fontSize=9*r.f+"px",n.width=200*r.f+"px",n.height=10*r.f+"px",c._children.forEach(e=>{e.width=100*r.f+"px",e.height=18*r.f+"px",e._children[0].fontSize=10*r.f})};return r.b.on("scale-change",v),e.onDisposeObservable.add(()=>{clearInterval(a),n.dispose(),r.b.off("scale-change",v)}),e}(),c="main",document.title="VoxelSrv - Main Menu"}d.addControl(n)}h.text=s.g?`VoxelSRV ${s.d}/${s.g}`:"VoxelSRV "+s.d,h.fontFamily="Lato",h.fontSize="26px",h.color="white",h.textHorizontalAlignment=0,h.textVerticalAlignment=1,h.left="5px",h.top="-5px",h.shadowColor="#111111",h.shadowOffsetX=1,h.shadowOffsetY=1,d.addControl(h),p("main")}},,,,,,,,,function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])m(u)||!w(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=c(e,i,r)),i}var o=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(k(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return f(n)}var l,w="",O=!1,P=["{","}"];(d(n)&&(O=!0,P=["[","]"]),k(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),x(n)&&(w=" "+f(n)),0!==a.length||O&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=O?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)j(t,String(a))?o.push(h(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return h(e,n,r,s,t,O)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,w,P)):P[0]+w+P[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),j(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),g(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function y(e){return"number"==typeof e}function v(e){return"string"==typeof e}function g(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===O(e)}function w(e){return"object"==typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===O(e)}function x(e){return w(e)&&("[object Error]"===O(e)||e instanceof Error)}function k(e){return"function"==typeof e}function O(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(g(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=b,t.isObject=w,t.isDate=_,t.isError=x,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(365);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=n(366),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(A,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(56))},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(196),i=n(307);let o;Object(r.a)(new i.d("./protocol.js")).then(e=>{o=e});class a{constructor(){this.listeners={}}async send(e,t){}close(e){this.listeners={}}emit(e,t){null!=this.listeners[e]&&this.listeners[e].forEach(e=>{e(t)})}on(e,t){null!=this.listeners[e]||(this.listeners[e]=new Array),this.listeners[e].push(t)}}class s extends a{constructor(e){super(),this.server=e,this.socket=new WebSocket(e),this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{setTimeout(()=>this.emit("connection",{}),500)},this.socket.onerror=()=>{setTimeout(()=>this.emit("PlayerKick",{reason:"Can't connect to "+e}),500)},this.socket.onclose=()=>{setTimeout(()=>this.emit("PlayerKick",{reason:"Connection closed!"}),500)},this.socket.onmessage=async e=>{const t=await o.parseToObject("server",new Uint8Array(e.data));null!=t&&this.emit(t.type,t.data)}}async send(e,t){const n=await o.parseToMessage("client",e,t);null!=n&&this.socket.send(n)}close(e){this.listeners={},this.socket.close()}}class u extends a{constructor(e,t,n){super(),this.closed=!1,this.server=n,this.toClient=e,this.toServer=t,this.toClient.on("open",()=>{setTimeout(()=>this.toClient.emit("connection",{}),500)}),this.toClient.on("error",e=>{this.closed||(this.closed=!0,setTimeout(()=>this.toClient.emit("PlayerKick",{reason:e}),500))}),this.toClient.on("close",()=>{this.closed||(this.closed=!0,setTimeout(()=>this.toClient.emit("PlayerKick",{reason:"Connection closed!"}),500))})}async send(e,t){this.toServer.emit(e,t),this.toServer.emit("packet",e,t)}close(e){this.listeners={},this.closed||(this.closed=!0,this.toServer.emit("close",e))}on(e,t){this.toClient.on(e,t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));var r=n(91),i=n.n(r),o=n(129),a=n(618),s=n(58);const u=()=>{},l=e=>e,c=e=>Promise.resolve().then(e);function f(e){throw e}class h extends o.a{constructor(e){super(t=>{const n=this,r=Object.assign(Object.assign({},t),{complete(){t.complete(),n.onCompletion()},error(e){t.error(e),n.onError(e)},next(e){t.next(e),n.onNext(e)}});try{return this.initHasRun=!0,e(r)}catch(e){r.error(e)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(e){this.firstValueSet||(this.firstValue=e,this.firstValueSet=!0)}onError(e){this.state="rejected",this.rejection=e;for(const t of this.rejectionCallbacks)c(()=>t(e))}onCompletion(){this.state="fulfilled";for(const e of this.fulfillmentCallbacks)c(()=>e(this.firstValue))}then(e,t){const n=e||l,r=t||f;let i=!1;return new Promise((e,t)=>{const o=n=>{if(!i){i=!0;try{e(r(n))}catch(e){t(e)}}};return this.initHasRun||this.subscribe({error:o}),"fulfilled"===this.state?e(n(this.firstValue)):"rejected"===this.state?(i=!0,e(r(this.rejection))):(this.fulfillmentCallbacks.push(t=>{try{e(n(t))}catch(e){o(e)}}),void this.rejectionCallbacks.push(o))})}catch(e){return this.then(void 0,e)}finally(e){const t=e||u;return this.then(e=>(t(),e),()=>t())}static from(e){return function(e){return e&&"function"==typeof e.then}(e)?new h(t=>{e.then(e=>{t.next(e),t.complete()},e=>{t.error(e)})}):super.from(e)}}var d=n(125),p=n(81);const m=i()("threads:master:messages");let y=1;function v(e,t){return new o.a(n=>{let r;const i=o=>{var a;if(m("Message from worker:",o.data),o.data&&o.data.uid===t)if((a=o.data)&&a.type===p.b.running)r=o.data.resultType;else if((e=>e&&e.type===p.b.result)(o.data))"promise"===r?(void 0!==o.data.payload&&n.next(Object(s.a)(o.data.payload)),n.complete(),e.removeEventListener("message",i)):(o.data.payload&&n.next(Object(s.a)(o.data.payload)),o.data.complete&&(n.complete(),e.removeEventListener("message",i)));else if((e=>e&&e.type===p.b.error)(o.data)){const t=Object(s.a)(o.data.error);n.error(t),e.removeEventListener("message",i)}};return e.addEventListener("message",i),()=>{if("observable"===r||!r){const n={type:p.a.cancel,uid:t};e.postMessage(n)}e.removeEventListener("message",i)}})}function g(e,t){return(...n)=>{const r=y++,{args:i,transferables:o}=function(e){if(0===e.length)return{args:[],transferables:[]};const t=[],n=[];for(const r of e)Object(d.b)(r)?(t.push(Object(s.c)(r.send)),n.push(...r.transferables)):t.push(Object(s.c)(r));return{args:t,transferables:0===n.length?n:(r=n,Array.from(new Set(r)))};var r}(n),u={type:p.a.run,uid:r,method:t,args:i};m("Sending command to run function to worker:",u);try{e.postMessage(u,o)}catch(e){return h.from(Promise.reject(e))}return h.from(Object(a.a)(v(e,r)))}}function b(e,t){const n={};for(const r of t)n[r]=g(e,r);return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(30);let i;function o(e){const t=e.rendering.getScene();i=r.g.CreatePlane("cloudMesh",{height:1500,width:1500},t);const n=new r.j("cloud",t),o=new r.k("./textures/environment/clouds.png",t,!0,!0,r.k.NEAREST_SAMPLINGMODE);o.hasAlpha=!0,o.vScale=.75,o.uScale=.75,n.diffuseTexture=o,n.opacityTexture=o,n.backFaceCulling=!1,n.emissiveColor=new r.b(1,1,1),i.rotation.x=-Math.PI/2,i.material=n,e.rendering.addMeshToScene(i,!1),i.setPositionWithLocalVector(new r.l(0,0,200));let a=[...e.camera.getPosition()];const s=()=>{null!=e.ents.getState(e.playerEntity,e.ents.names.mesh)&&i.setParent(e.ents.getState(e.playerEntity,e.ents.names.mesh).mesh),o.vOffset+=1e-5+(a[2]-e.camera.getPosition()[2])/1e4,o.uOffset-=(a[0]-e.camera.getPosition()[0])/1e4,a=[...e.camera.getPosition()],i.setPositionWithLocalVector(new r.l(0,0,200-e.camera.getPosition()[1]))};e.on("beforeRender",s),i.onDisposeObservable.add(()=>{e.off("beforeRender",s)})}},,,,function(e,t,n){"use strict";function r(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",o=n?"!":"",a=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+r+'"object"'+i+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+a+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:r,checkDataTypes:function(e,t){switch(e.length){case 1:return r(e[0],t,!0);default:var n="",i=o(e);for(var a in i.array&&i.object&&(n=i.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)n+=(n?" && ":"")+r(a,t,!0);return n}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var o=t[r];(i[o]||"array"===e&&"array"===o)&&(n[n.length]=o)}if(n.length)return n}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:u,escapeQuotes:l,equal:n(362),ucs2length:n(483),varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},cleanUpCode:function(e){return e.replace(c,"").replace(f,"").replace(h,"if (!($1))")},finalCleanUpCode:function(e,t){var n=e.match(d);n&&2==n.length&&(e=t?e.replace(m,"").replace(y,"return data;"):e.replace(p,"").replace("return errors === 0;","validate.errors = null; return true;"));return(n=e.match(v))&&3===n.length?e.replace(g,""):e},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var n in e)if(!t[n])return n},toQuotedString:b,getPathExpr:function(e,t,n,r){return x(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){var r=b(n?"/"+k(t):u(t));return x(e,r)},getData:function(e,t,n){var r,i,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!w.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(a=e.match(_)))throw new Error("Invalid JSON-pointer: "+e);if(r=+a[1],"#"==(i=a[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(o="data"+(t-r||""),!i)return o}for(var s=o,l=i.split("/"),c=0;c<l.length;c++){var f=l[c];f&&(o+=u(O(f)),s+=" && "+o)}return s},unescapeFragment:function(e){return O(decodeURIComponent(e))},unescapeJsonPointer:O,escapeFragment:function(e){return encodeURIComponent(k(e))},escapeJsonPointer:k};var i=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function u(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"['"+l(e)+"']"}function l(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var c=/else\s*{\s*}/g,f=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,h=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var d=/[^v.]errors/g,p=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,y=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,v=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,g=/if \(rootData === undefined\) rootData = data;/;function b(e){return"'"+l(e)+"'"}var w=/^\/(?:[^~]|~0|~1)*$/,_=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function x(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function k(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function O(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){"use strict";(function(t){var r=n(364);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(174),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,l="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=e.exports=g,d=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(l)return e.name;var t=e.toString().match(d);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(l||!a.isFunction(e))return a.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,r,i){throw new h.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function g(e,t){e||v(e,!0,t,"==",h.ok)}function b(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),o=w(t);if(i&&!o||!i&&o)return!1;if(i)return e=u.call(e),t=u.call(t),b(e,t,n);var s,l,c=k(e),f=k(t);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),l=c.length-1;l>=0;l--)if(c[l]!==f[l])return!1;for(l=c.length-1;l>=0;l--)if(s=c[l],!b(e[s],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&v(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&i&&!n;if((!e&&a.isError(i)&&o&&_(i,n)||s)&&v(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}h.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(y(e.actual),128)+" "+e.operator+" "+m(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=p(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(h.AssertionError,Error),h.fail=v,h.ok=g,h.equal=function(e,t,n){e!=t&&v(e,t,n,"==",h.equal)},h.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",h.notEqual)},h.deepEqual=function(e,t,n){b(e,t,!1)||v(e,t,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,n){b(e,t,!0)||v(e,t,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,n){b(e,t,!1)&&v(e,t,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&v(t,n,r,"notDeepStrictEqual",e)},h.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",h.strictEqual)},h.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",h.notStrictEqual)},h.throws=function(e,t,n){x(!0,e,t,n)},h.doesNotThrow=function(e,t,n){x(!1,e,t,n)},h.ifError=function(e){if(e)throw e},h.strict=r((function e(t,n){t||v(t,!0,n,"==",e)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var k=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(55))},function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,a,s;if("string"==typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(o(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var i=n(419),o=n(423);n(116)(l,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var u=a[s];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||t.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n(56))},function(e,t,n){var r=n(84),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(91),i=n.n(r),o=n(129),a=n(58),s=n(260),u=n(66),l=n(130),c=n(184),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};const h=i()("threads:master:messages"),d=i()("threads:master:spawn"),p=i()("threads:master:thread-utils"),m=void 0!==e&&e.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(e.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function y(e,t,n,r){const i=n.filter(e=>e.type===l.a.internalError).map(e=>e.error);return Object.assign(e,{[u.a]:i,[u.b]:n,[u.c]:r,[u.e]:t})}function v(e,t){return f(this,void 0,void 0,(function*(){d("Initializing new thread");const n=(yield function(e,t,n){return f(this,void 0,void 0,(function*(){let r;const i=new Promise((e,i)=>{r=setTimeout(()=>i(Error(n)),t)}),o=yield Promise.race([e,i]);return clearTimeout(r),o}))}(function(e){return new Promise((t,n)=>{const r=i=>{var o;h("Message from worker before finishing initialization:",i.data),(o=i.data)&&"init"===o.type?(e.removeEventListener("message",r),t(i.data)):(e=>e&&"uncaughtError"===e.type)(i.data)&&(e.removeEventListener("message",r),n(Object(a.a)(i.data.error)))};e.addEventListener("message",r)})}(e),t&&t.timeout?t.timeout:m,`Timeout: Did not receive an init message from worker after ${m}ms. Make sure the worker calls expose().`)).exposed,{termination:r,terminate:i}=function(e){const[t,n]=Object(s.a)();return{terminate:()=>f(this,void 0,void 0,(function*(){p("Terminating worker"),yield e.terminate(),n()})),termination:t}}(e),u=function(e,t){return new o.a(n=>{const r=e=>{const t={type:l.a.message,data:e.data};n.next(t)},i=e=>{p("Unhandled promise rejection event in thread:",e);const t={type:l.a.internalError,error:Error(e.reason)};n.next(t)};e.addEventListener("message",r),e.addEventListener("unhandledrejection",i),t.then(()=>{const t={type:l.a.termination};e.removeEventListener("message",r),e.removeEventListener("unhandledrejection",i),n.next(t),n.complete()})})}(e,r);if("function"===n.type){return y(Object(c.a)(e),e,u,i)}if("module"===n.type){return y(Object(c.b)(e,n.methods),e,u,i)}{const e=n.type;throw Error("Worker init message states unexpected type of expose(): "+e)}}))}}).call(this,n(56))},,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return Rn})),n.d(t,"a",(function(){return Mn})),n.d(t,"c",(function(){return Bn}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var o=Object.keys,a=Array.isArray,s="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function u(e,t){return"object"!=typeof t||o(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||s.Promise||(s.Promise=Promise);var l=Object.getPrototypeOf,c={}.hasOwnProperty;function f(e,t){return c.call(e,t)}function h(e,t){"function"==typeof t&&(t=t(l(e))),o(t).forEach((function(n){p(e,n,t[n])}))}var d=Object.defineProperty;function p(e,t,n,r){d(e,t,u(n&&f(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function m(e){return{from:function(t){return e.prototype=Object.create(t.prototype),p(e.prototype,"constructor",e),{extend:h.bind(null,e.prototype)}}}}var y=Object.getOwnPropertyDescriptor;function v(e,t){var n;return y(e,t)||(n=l(e))&&v(n,t)}var g=[].slice;function b(e,t,n){return g.call(e,t,n)}function w(e,t){return t(e)}function _(e){if(!e)throw new Error("Assertion Failed")}function x(e){s.setImmediate?setImmediate(e):setTimeout(e,0)}function k(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function O(e,t){if(f(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=O(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return void 0===s?void 0:O(s,t.substr(a+1))}}function P(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){_("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)P(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var s=t.substr(0,o),u=t.substr(o+1);if(""===u)void 0===n?a(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var l=e[s];l||(l=e[s]={}),P(l,u,n)}}else void 0===n?a(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function S(e,t){"string"==typeof t?P(e,t,void 0):"length"in t&&[].map.call(t,(function(t){P(e,t,void 0)}))}function E(e){var t={};for(var n in e)f(e,n)&&(t[n]=e[n]);return t}var j=[].concat;function C(e){return j.apply([],e)}var A="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(C([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return s[e]})),T=A.map((function(e){return s[e]})),I=k(A,(function(e){return[e,!0]}));function z(e){if(!e||"object"!=typeof e)return e;var t;if(a(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(z(e[n]))}else if(T.indexOf(e.constructor)>=0)t=e;else for(var i in t=e.constructor?Object.create(e.constructor.prototype):{},e)f(e,i)&&(t[i]=z(e[i]));return t}var D={}.toString;function R(e){return D.call(e).slice(8,-1)}var M=function(e,t){return"Array"===t?""+e.map((function(e){return M(e,R(e))})):"ArrayBuffer"===t?""+new Uint8Array(e):"Date"===t?e.getTime():ArrayBuffer.isView(e)?""+new Uint8Array(e.buffer):e};function B(e,t,n,r){return n=n||{},r=r||"",o(e).forEach((function(i){if(f(t,i)){var o=e[i],a=t[i];if("object"==typeof o&&"object"==typeof a&&o&&a){var s=R(o),u=R(a);s===u?I[s]?M(o,s)!==M(a,u)&&(n[r+i]=t[i]):B(o,a,n,r+i+"."):n[r+i]=t[i]}else o!==a&&(n[r+i]=t[i])}else n[r+i]=void 0})),o(t).forEach((function(i){f(e,i)||(n[r+i]=t[i])})),n}var L="undefined"!=typeof Symbol&&Symbol.iterator,F=L?function(e){var t;return null!=e&&(t=e[L])&&t.apply(e)}:function(){return null},N={};function U(e){var t,n,r,i;if(1===arguments.length){if(a(e))return e.slice();if(this===N&&"string"==typeof e)return[e];if(i=F(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var $="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},V="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function q(e,t){V=e,W=t}var W=function(){return!0},H=!new Error("").stack;function K(){if(H)try{throw new Error}catch(e){return e}return new Error}function J(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(W).map((function(e){return"\n"+e})).join("")):""}var G=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Y=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(G),Z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function Q(e,t){this._e=K(),this.name=e,this.message=t}function X(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function ee(e,t,n,r){this._e=K(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=X(e,t)}function te(e,t){this._e=K(),this.name="BulkError",this.failures=t,this.message=X(e,t)}m(Q).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+J(this._e,2))}},toString:function(){return this.name+": "+this.message}}),m(ee).from(Q),m(te).from(Q);var ne=Y.reduce((function(e,t){return e[t]=t+"Error",e}),{}),re=Q,ie=Y.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=K(),this.name=n,e?"string"==typeof e?(this.message=e+(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=Z[t]||n,this.inner=null)}return m(r).from(re),e[t]=r,e}),{});ie.Syntax=SyntaxError,ie.Type=TypeError,ie.Range=RangeError;var oe=G.reduce((function(e,t){return e[t+"Error"]=ie[t],e}),{});var ae=Y.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ie[t]),e}),{});function se(){}function ue(e){return e}function le(e,t){return null==e||e===ue?t:function(n){return t(e(n))}}function ce(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function fe(e,t){return e===se?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ce(r,this.onsuccess):r),i&&(this.onerror=this.onerror?ce(i,this.onerror):i),void 0!==o?o:n}}function he(e,t){return e===se?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ce(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ce(r,this.onerror):r)}}function de(e,t){return e===se?t:function(n){var r=e.apply(this,arguments);u(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?ce(i,this.onsuccess):i),o&&(this.onerror=this.onerror?ce(o,this.onerror):o),void 0===r?void 0===a?void 0:a:u(r,a)}}function pe(e,t){return e===se?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function me(e,t){return e===se?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}ae.ModifyError=ee,ae.DexieError=Q,ae.BulkError=te;var ye={},ve="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,e.__proto__,e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,t.__proto__,e]}(),ge=ve[0],be=ve[1],we=ve[2],_e=be&&be.then,xe=ge&&ge.constructor,ke=!!we,Oe=!1,Pe=we?function(){we.then(Ke)}:s.setImmediate?setImmediate.bind(null,Ke):s.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Ke(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Ke,0)},Se=function(e,t){Re.push([e,t]),je&&(Pe(),je=!1)},Ee=!0,je=!0,Ce=[],Ae=[],Te=null,Ie=ue,ze={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:vt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{vt(e[0],e[1])}catch(e){}}))}},De=ze,Re=[],Me=0,Be=[];function Le(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=se,this._lib=!1;var t=this._PSD=De;if(V&&(this._stackHolder=K(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ye)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&$e(this,this._value))}this._state=null,this._value=null,++t.ref,Ue(this,e)}var Fe={get:function(){var e=De,t=rt;function n(n,r){var i=this,o=!e.global&&(e!==De||t!==rt),a=o&&!st(),s=new Le((function(t,s){qe(i,new Ne(mt(n,e,o,a),mt(r,e,o,a),t,s,e))}));return V&&He(s,this),s}return n.prototype=ye,n},set:function(e){p(this,"then",e&&e.prototype===ye?Fe:{get:function(){return e},set:Fe.set})}};function Ne(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Ue(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Je();t&&"function"==typeof t.then?Ue(e,(function(e,n){t instanceof Le?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Ve(e)),n&&Ge()}}),$e.bind(null,e))}catch(t){$e(e,t)}}function $e(e,t){if(Ae.push(t),null===e._state){var n=e._lib&&Je();t=Ie(t),e._state=!1,e._value=t,V&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}((function(){var n=v(t,"stack");t._promise=e,p(t,"stack",{get:function(){return Oe?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){Ce.some((function(t){return t._value===e._value}))||Ce.push(e)}(e),Ve(e),n&&Ge()}}function Ve(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)qe(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Me&&(++Me,Se((function(){0==--Me&&Ye()}),[]))}function qe(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Me,Se(We,[n,e,t])}else e._listeners.push(t)}function We(e,t,n){try{Te=t;var r,i=t._value;t._state?r=e(i):(Ae.length&&(Ae=[]),r=e(i),-1===Ae.indexOf(i)&&function(e){var t=Ce.length;for(;t;)if(Ce[--t]._value===e._value)return void Ce.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Te=null,0==--Me&&Ye(),--n.psd.ref||n.psd.finalize()}}function He(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Ke(){Je()&&Ge()}function Je(){var e=Ee;return Ee=!1,je=!1,e}function Ge(){var e,t,n;do{for(;Re.length>0;)for(e=Re,Re=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Re.length>0);Ee=!0,je=!0}function Ye(){var e=Ce;Ce=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Be.slice(0),n=t.length;n;)t[--n]()}function Ze(e){return new Le(ye,!1,e)}function Qe(e,t){var n=De;return function(){var r=Je(),i=De;try{return ft(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{ft(i,!1),r&&Ge()}}}h(Le.prototype,{then:Fe,_then:function(e,t){qe(this,new Ne(null,null,e,t,De))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):Ze(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):Ze(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Ze(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{Oe=!0;var e=function e(t,n,r){if(n.length===r)return n;var i="";if(!1===t._state){var o,a,s=t._value;null!=s?(o=s.name||"Error",a=s.message||s,i=J(s,0)):(o=s,a=""),n.push(o+(a?": "+a:"")+i)}V&&((i=J(t._stackHolder,2))&&-1===n.indexOf(i)&&n.push(i),t._prev&&e(t._prev,n,r));return n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Oe=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Le((function(r,i){var o=setTimeout((function(){return i(new ie.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&p(Le.prototype,Symbol.toStringTag,"Dexie.Promise"),ze.env=ht(),h(Le,{all:function(){var e=U.apply(null,arguments).map(ut);return new Le((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,o){return Le.resolve(i).then((function(n){e[o]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Le)return e;if(e&&"function"==typeof e.then)return new Le((function(t,n){e.then(t,n)}));var t=new Le(ye,!0,e);return He(t,Te),t},reject:Ze,race:function(){var e=U.apply(null,arguments).map(ut);return new Le((function(t,n){e.map((function(e){return Le.resolve(e).then(t,n)}))}))},PSD:{get:function(){return De},set:function(e){return De=e}},totalEchoes:{get:function(){return rt}},newPSD:ot,usePSD:dt,scheduler:{get:function(){return Se},set:function(e){Se=e}},rejectionMapper:{get:function(){return Ie},set:function(e){Ie=e}},follow:function(e,t){return new Le((function(n,r){return ot((function(t,n){var r=De;r.unhandleds=[],r.onunhandled=n,r.finalize=ce((function(){var e=this;!function(e){Be.push((function t(){e(),Be.splice(Be.indexOf(t),1)})),++Me,Se((function(){0==--Me&&Ye()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),xe&&(xe.allSettled&&p(Le,"allSettled",(function(){var e=U.apply(null,arguments).map(ut);return new Le((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,i){return Le.resolve(e).then((function(e){return r[i]={status:"fulfilled",value:e}}),(function(e){return r[i]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),xe.any&&"undefined"!=typeof AggregateError&&p(Le,"any",(function(){var e=U.apply(null,arguments).map(ut);return new Le((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach((function(e,o){return Le.resolve(e).then((function(e){return t(e)}),(function(e){i[o]=e,--r||n(new AggregateError(i))}))}))}))})));var Xe={awaits:0,echoes:0,id:0},et=0,tt=[],nt=0,rt=0,it=0;function ot(e,t,n,r){var i=De,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++it;var a=ze.env;o.env=ke?{Promise:Le,PromiseProp:{value:Le,configurable:!0,writable:!0},all:Le.all,race:Le.race,allSettled:Le.allSettled,any:Le.any,resolve:Le.resolve,reject:Le.reject,nthen:yt(a.nthen,o),gthen:yt(a.gthen,o)}:{},t&&u(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=dt(o,e,n,r);return 0===o.ref&&o.finalize(),s}function at(){return Xe.id||(Xe.id=++et),++Xe.awaits,Xe.echoes+=100,Xe.id}function st(){return!!Xe.awaits&&(0==--Xe.awaits&&(Xe.id=0),Xe.echoes=100*Xe.awaits,!0)}function ut(e){return Xe.echoes&&e&&e.constructor===xe?(at(),e.then((function(e){return st(),e}),(function(e){return st(),gt(e)}))):e}function lt(e){++rt,Xe.echoes&&0!=--Xe.echoes||(Xe.echoes=Xe.id=0),tt.push(De),ft(e,!0)}function ct(){var e=tt[tt.length-1];tt.pop(),ft(e,!1)}function ft(e,t){var n=De;if((t?!Xe.echoes||nt++&&e===De:!nt||--nt&&e===De)||pt(t?lt.bind(null,e):ct),e!==De&&(De=e,n===ze&&(ze.env=ht()),ke)){var r=ze.env.Promise,i=e.env;be.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(s,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function ht(){var e=s.Promise;return ke?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:be.then,gthen:e.prototype.then}:{}}function dt(e,t,n,r,i){var o=De;try{return ft(e,!0),t(n,r,i)}finally{ft(o,!1)}}function pt(e){_e.call(ge,e)}function mt(e,t,n,r){return"function"!=typeof e?e:function(){var i=De;n&&at(),ft(t,!0);try{return e.apply(this,arguments)}finally{ft(i,!1),r&&pt(st)}}}function yt(e,t){return function(n,r){return e.call(this,mt(n,t),mt(r,t))}}-1===(""+_e).indexOf("[native code]")&&(at=st=se);function vt(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,i={promise:t,reason:e};if(s.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),u(r,i)):s.CustomEvent&&u(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&s.dispatchEvent&&(dispatchEvent(r),!s.PromiseRejectionEvent&&s.onunhandledrejection))try{s.onunhandledrejection(r)}catch(e){}V&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var gt=Le.reject;var bt=String.fromCharCode(65535),wt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",_t=[],xt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),kt=xt,Ot=xt,Pt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function St(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Et={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function jt(e){return function(t){return void 0===O(t,e)&&S(t=z(t),e),t}}var Ct=function(){function e(){}return e.prototype._trans=function(e,t,n){var r=this._tx||De.trans,i=this.name;function o(e,n,r){if(!r.schema[i])throw new ie.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var a=Je();try{return r&&r.db===this.db?r===De.trans?r._promise(e,o,n):ot((function(){return r._promise(e,o,n)}),{trans:r,transless:De.transless||De}):function e(t,n,r,i){if(t._state.openComplete||De.letThrough){var o=t._createTransaction(n,r,t._dbSchema);try{o.create()}catch(e){return gt(e)}return o._promise(n,(function(e,t){return ot((function(){return De.trans=o,i(e,t,o)}))})).then((function(e){return o._completion.then((function(){return e}))}))}if(!t._state.isBeingOpened){if(!t._options.autoOpen)return gt(new ie.DatabaseClosed);t.open().catch(se)}return t._state.dbReadyPromise.then((function(){return e(t,n,r,i)}))}(this.db,e,[this.name],o)}finally{a&&Ge()}},e.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},e.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(a(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var t=o(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&this.db._maxKey!==bt)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));!n&&V&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var r=this.schema.idxByName,i=this.db._deps.indexedDB;function s(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}}var u=t.reduce((function(t,n){var i=t[0],o=t[1],u=r[n],l=e[n];return[i||u,i||!u?St(o,u&&u.multi?function(e){var t=O(e,n);return a(t)&&t.some((function(e){return s(l,e)}))}:function(e){return s(l,O(e,n))}):o]}),[null,null]),l=u[0],c=u[1];return l?this.where(l.name).equals(e[l.keyPath]).filter(c):n?this.filter(c):this.where(t).equals("")},e.prototype.filter=function(e){return this.toCollection().and(e)},e.prototype.count=function(e){return this.toCollection().count(e)},e.prototype.offset=function(e){return this.toCollection().offset(e)},e.prototype.limit=function(e){return this.toCollection().limit(e)},e.prototype.each=function(e){return this.toCollection().each(e)},e.prototype.toArray=function(e){return this.toCollection().toArray(e)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,a(e)?"["+e.join("+")+"]":e))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(f(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e},e.prototype.defineClass=function(){return this.mapToClass((function(e){u(this,e)}))},e.prototype.add=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,a=e;return o&&i&&(a=jt(o)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})})).then((function(e){return e.numFailures?Le.reject(e.failures[0]):e.lastResult})).then((function(t){if(o)try{P(e,o,t)}catch(e){}return t}))},e.prototype.update=function(e,t){if("object"!=typeof t||a(t))throw new ie.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||a(e))return this.where(":id").equals(e).modify(t);o(t).forEach((function(n){P(e,n,t[n])}));var n=O(e,this.schema.primKey.keyPath);return void 0===n?gt(new ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)},e.prototype.put=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,a=e;return o&&i&&(a=jt(o)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Le.reject(e.failures[0]):e.lastResult})).then((function(t){if(o)try{P(e,o,t)}catch(e){}return t}))},e.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Le.reject(e.failures[0]):void 0}))},e.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Et})})).then((function(e){return e.numFailures?Le.reject(e.failures[0]):void 0}))},e.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},e.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,s=n.keyPath;if(s&&i)throw new ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var u=e.length,l=s&&a?e.map(jt(s)):e;return r.core.mutate({trans:t,type:"add",keys:i,values:l,wantResults:o}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,a=e.failures;if(0===t)return o?n:i;throw new te(r.name+".bulkAdd(): "+t+" of "+u+" operations failed",Object.keys(a).map((function(e){return a[e]})))}))}))},e.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,s=n.keyPath;if(s&&i)throw new ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var u=e.length,l=s&&a?e.map(jt(s)):e;return r.core.mutate({trans:t,type:"put",keys:i,values:l,wantResults:o}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult,a=e.failures;if(0===t)return o?n:i;throw new te(r.name+".bulkPut(): "+t+" of "+u+" operations failed",Object.keys(a).map((function(e){return a[e]})))}))}))},e.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,i=e.lastResult,o=e.failures;if(0===r)return i;throw new te(t.name+".bulkDelete(): "+r+" of "+n+" operations failed",o)}))},e}();function At(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(e,r,i){if("object"==typeof e)return u(e);r||(r=pe),i||(i=se);var o={subscribers:[],fire:i,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=r(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(r,i)}};return t[e]=n[e]=o,o}function u(e){o(e).forEach((function(t){var n=e[t];if(a(n))s(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new ie.InvalidArgument("Invalid event config");var r=s(t,ue,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){x((function(){e.apply(null,t)}))}))}))}}))}}function Tt(e,t){return m(t).from({prototype:e}),t}function It(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function zt(e,t){e.filter=St(e.filter,t)}function Dt(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return St(r(),t())}:t,e.justLimit=n&&!r}function Rt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new ie.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Mt(e,t,n){var r=Rt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Bt(e,t,n,r){var i=e.replayFilter?St(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},a=function(e,n,r){if(!i||i(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var a=n.primaryKey,s=""+a;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(a)),f(o,s)||(o[s]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),Lt(Mt(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Lt(Mt(e,r,n),St(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Lt(e,t,n,r){var i=Qe(r?function(e,t,i){return n(r(e),t,i)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=se}),(function(t){e.fail(t),n=se}))||i(e.value,e,(function(e){return n=e})),n()}))}))}var Ft=function(){function e(){}return e.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,gt.bind(null,n.error)):n.table._trans("readonly",e).then(t)},e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,gt.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=St(t.algorithm,e)},e.prototype._iterate=function(e,t){return Bt(this._ctx,e,t,this._ctx.table.core)},e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&u(n,e),t._ctx=n,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return Bt(t,e,n,t.table.core)}))},e.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(It(n,!0))return r.count({trans:e,query:{index:Rt(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var i=0;return Bt(n,(function(){return++i,!1}),e,r).then((function(){return i}))})).then(e)},e.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function s(e,t){var n=o(e,i),r=o(t,i);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(s)})).then(t)},e.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&It(n,!0)&&n.limit>0){var r=n.valueMapper,i=Rt(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var o=[];return Bt(n,(function(e){return o.push(e)}),e,n.table.core).then((function(){return o}))}),e)},e.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,It(t)?Dt(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):Dt(t,(function(){var t=e;return function(){return--t<0}}))),this},e.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Dt(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},e.prototype.until=function(e,t){return zt(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this},e.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},e.prototype.last=function(e){return this.reverse().first(e)},e.prototype.filter=function(e){var t,n;return zt(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=St(t.isMatch,n),this},e.prototype.and=function(e){return this.filter(e)},e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},e.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},e.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},e.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},e.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&It(t,!0)&&t.limit>0)return this._read((function(e){var n=Rt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},e.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},e.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},e.prototype.lastKey=function(e){return this.reverse().firstKey(e)},e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return zt(this._ctx,(function(e){var t=e.primaryKey.toString(),r=f(n,t);return n[t]=!0,!r})),this},e.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(r){var i;if("function"==typeof e)i=e;else{var a=o(e),s=a.length;i=function(t){for(var n=!1,r=0;r<s;++r){var i=a[r],o=e[i];O(t,i)!==o&&(P(t,i,o),n=!0)}return n}}var u=n.table.core,l=u.schema.primaryKey,c=l.outbound,f=l.extractKey,h="testmode"in Tn?1:2e3,d=t.db.core.cmp,p=[],m=0,y=[],v=function(e,t){var n=t.failures,r=t.numFailures;m+=e-r;for(var i=0,a=o(n);i<a.length;i++){var s=a[i];p.push(n[s])}};return t.clone().primaryKeys().then((function(e){var t=function(n){var o=Math.min(h,e.length-n);return u.getMany({trans:r,keys:e.slice(n,n+o)}).then((function(a){for(var s=[],l=[],p=c?[]:null,m=[],y=0;y<o;++y){var g=a[y],b={value:z(g),primKey:e[n+y]};!1!==i.call(b,b.value,b)&&(null==b.value?m.push(e[n+y]):c||0===d(f(g),f(b.value))?(l.push(b.value),c&&p.push(e[n+y])):(m.push(e[n+y]),s.push(b.value)))}return Promise.resolve(s.length>0&&u.mutate({trans:r,type:"add",values:s}).then((function(e){for(var t in e.failures)m.splice(parseInt(t),1);v(s.length,e)}))).then((function(e){return l.length>0&&u.mutate({trans:r,type:"put",keys:p,values:l}).then((function(e){return v(l.length,e)}))})).then((function(){return m.length>0&&u.mutate({trans:r,type:"delete",keys:m}).then((function(e){return v(m.length,e)}))})).then((function(){return e.length>n+o&&t(n+h)}))}))};return t(0).then((function(){if(p.length>0)throw new ee("Error modifying one or more objects",p,m,y);return e.length}))}))}))},e.prototype.delete=function(){var e=this._ctx,t=e.range;return It(e)&&(e.isPrimKey&&!Ot||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((function(e){var n=e.failures,r=(e.lastResult,e.results,e.numFailures);if(r)throw new ee("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify((function(e,t){return t.value=null}))},e}();function Nt(e,t){return e<t?-1:e===t?0:1}function Ut(e,t){return e>t?-1:e===t?0:1}function $t(e,t,n){var r=e instanceof Jt?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Vt(e){return new e.Collection(e,(function(){return Kt("")})).limit(0)}function qt(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,u=0;u<a;++u){var l=t[u];if(l!==r[u])return i(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):i(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[u],l)<0&&(s=u)}return a<r.length&&"next"===o?e+n.substr(e.length):a<e.length&&"prev"===o?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function Wt(e,t,n,r){var i,o,a,s,u,l,c,f=n.length;if(!n.every((function(e){return"string"==typeof e})))return $t(e,"String expected.");function h(e){i=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),o=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),a="next"===e?Nt:Ut;var t=n.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));s=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),l=e,c="next"===e?"":r}h("next");var d=new e.Collection(e,(function(){return Ht(s[0],u[f-1]+r)}));d._ondirectionchange=function(e){h(e)};var p=0;return d._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var h=o(i);if(t(h,u,p))return!0;for(var d=null,m=p;m<f;++m){var y=qt(i,h,s[m],u[m],a,l);null===y&&null===d?p=m+1:(null===d||a(d,y)>0)&&(d=y)}return n(null!==d?function(){e.continue(d+c)}:r),!1})),d}function Ht(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Kt(e){return{type:1,lower:e,upper:e}}var Jt=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),e.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Vt(this):new this.Collection(this,(function(){return Ht(e,t,!n,!r)}))}catch(e){return $t(this,wt)}},e.prototype.equals=function(e){return null==e?$t(this,wt):new this.Collection(this,(function(){return Kt(e)}))},e.prototype.above=function(e){return null==e?$t(this,wt):new this.Collection(this,(function(){return Ht(e,void 0,!0)}))},e.prototype.aboveOrEqual=function(e){return null==e?$t(this,wt):new this.Collection(this,(function(){return Ht(e,void 0,!1)}))},e.prototype.below=function(e){return null==e?$t(this,wt):new this.Collection(this,(function(){return Ht(void 0,e,!1,!0)}))},e.prototype.belowOrEqual=function(e){return null==e?$t(this,wt):new this.Collection(this,(function(){return Ht(void 0,e)}))},e.prototype.startsWith=function(e){return"string"!=typeof e?$t(this,"String expected."):this.between(e,e+bt,!0,!0)},e.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):Wt(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],bt)},e.prototype.equalsIgnoreCase=function(e){return Wt(this,(function(e,t){return e===t[0]}),[e],"")},e.prototype.anyOfIgnoreCase=function(){var e=U.apply(N,arguments);return 0===e.length?Vt(this):Wt(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var e=U.apply(N,arguments);return 0===e.length?Vt(this):Wt(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,bt)},e.prototype.anyOf=function(){var e=this,t=U.apply(N,arguments),n=this._cmp;try{t.sort(n)}catch(e){return $t(this,wt)}if(0===t.length)return Vt(this);var r=new this.Collection(this,(function(){return Ht(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm((function(e,r,o){for(var a=e.key;n(a,t[i])>0;)if(++i===t.length)return r(o),!1;return 0===n(a,t[i])||(r((function(){e.continue(t[i])})),!1)})),r},e.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var e=U.apply(N,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return $t(this,wt)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,i=this._ascending,o=this._descending,a=this._min,s=this._max;if(0===e.length)return Vt(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return $t(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ie.InvalidArgument);var u=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;var c,f=i;function h(e,t){return f(e[0],t[0])}try{(c=e.reduce((function(e,t){for(var n=0,i=e.length;n<i;++n){var o=e[n];if(r(t[0],o[1])<0&&r(t[1],o[0])>0){o[0]=a(o[0],t[0]),o[1]=s(o[1],t[1]);break}}return n===i&&e.push(t),e}),[])).sort(h)}catch(e){return $t(this,wt)}var d=0,p=l?function(e){return i(e,c[d][1])>0}:function(e){return i(e,c[d][1])>=0},m=u?function(e){return o(e,c[d][0])>0}:function(e){return o(e,c[d][0])>=0};var y=p,v=new this.Collection(this,(function(){return Ht(c[0][0],c[c.length-1][1],!u,!l)}));return v._ondirectionchange=function(e){"next"===e?(y=p,f=i):(y=m,f=o),c.sort(h)},v._addAlgorithm((function(e,t,r){for(var o=e.key;y(o);)if(++d===c.length)return t(r),!1;return!!function(e){return!p(e)&&!m(e)}(o)||(0===n._cmp(o,c[d][1])||0===n._cmp(o,c[d][0])||t((function(){f===i?e.continue(c[d][0]):e.continue(c[d][1])})),!1)})),v},e.prototype.startsWithAnyOf=function(){var e=U.apply(N,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?Vt(this):this.inAnyRange(e.map((function(e){return[e,e+bt]}))):$t(this,"startsWithAnyOf() only works with strings")},e}();function Gt(e){return 1===e.length?e[0]:e}function Yt(e){try{return e.only([[]]),[[]]}catch(e){return bt}}function Zt(e){return Qe((function(t){return Qt(t),e(t.target.error),!1}))}function Qt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Xt=function(){function e(){}return e.prototype._lock=function(){return _(!De.global),++this._reculock,1!==this._reculock||De.global||(De.lockOwnerFor=this),this},e.prototype._unlock=function(){if(_(!De.global),0==--this._reculock)for(De.global||(De.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{dt(e[1],e[0])}catch(e){}}return this},e.prototype._locked=function(){return this._reculock&&De.lockOwnerFor!==this},e.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(_(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new ie.DatabaseClosed(r);case"MissingAPIError":throw new ie.MissingAPI(r.message,r);default:throw new ie.OpenFailed(r)}if(!this.active)throw new ie.TransactionInactive;return _(null===this._completion._state),(e=this.idbtrans=e||n.transaction(Gt(this.storeNames),this.mode)).onerror=Qe((function(n){Qt(n),t._reject(e.error)})),e.onabort=Qe((function(n){Qt(n),t.active&&t._reject(new ie.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Qe((function(){t.active=!1,t._resolve()})),this},e.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return gt(new ie.ReadOnly("Transaction is readonly"));if(!this.active)return gt(new ie.TransactionInactive);if(this._locked())return new Le((function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},De])}));if(n)return ot((function(){var e=new Le((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Le((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(e){var t=this._root(),n=Le.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new Le((function(e,r){n.then((function(n){return t._waitingQueue.push(Qe(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(Qe(r.bind(null,e)))})).finally((function(){t._waitingFor===i&&(t._waitingFor=null)}))}))},e.prototype.abort=function(){this.active&&this._reject(new ie.Abort),this.active=!1},e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(f(t,e))return t[e];var n=this.schema[e];if(!n)throw new ie.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r},e}();function en(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+tn(t)}}function tn(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function nn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:k(n,(function(e){return[e.name,e]}))}}function rn(e){return null==e?function(){}:"string"==typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return O(t,e)}}(e):function(t){return O(t,e)}}function on(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}function an(e){return[].slice.call(e)}var sn=0;function un(e){return null==e?":id":"string"==typeof e?e:"["+e.join("+")+"]"}function ln(e,t,n,r){var o=t.cmp.bind(t);function s(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var t=e.lower,r=e.upper,i=e.lowerOpen,o=e.upperOpen;return void 0===t?void 0===r?null:n.upperBound(r,!!o):void 0===r?n.lowerBound(t,!!i):n.bound(t,r,!!i,!!o)}var u=function(e,t){var n=an(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=a(t),i=null==t,o={},s={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:rn(t)},indexes:an(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,i=e.keyPath,s={name:t,compound:a(i),keyPath:i,unique:n,multiEntry:r,extractKey:rn(i)};return o[un(i)]=s,s})),getIndexByKeyPath:function(e){return o[un(e)]}};return o[":id"]=s.primaryKey,null!=t&&(o[un(t)]=s.primaryKey),s}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),l=u.schema,c=u.hasGetAll,f=l.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(n){var r=n.trans,o=n.type,a=n.keys,u=n.values,l=n.range,c=n.wantResults;return new Promise((function(n,f){n=Qe(n);var h=r.objectStore(t),d=null==h.keyPath,p="put"===o||"add"===o;if(!p&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var m=(a||u||{length:1}).length;if(a&&u&&a.length!==u.length)throw new Error("Given keys array must have same length as given values array.");if(0===m)return n({numFailures:0,failures:{},results:[],lastResult:void 0});var y,v=c&&i(a||on(e.primaryKey,{type:o,keys:a,values:u})),g=[],b=0,w=function(e){++b,Qt(e),v&&(v[e.target._reqno]=void 0),g[e.target._reqno]=e.target.error},_=function(e){var t=e.target;v[t._reqno]=t.result};if("deleteRange"===o){if(4===l.type)return n({numFailures:b,failures:g,results:v,lastResult:void 0});y=3===l.type?h.clear():h.delete(s(l))}else{var x=p?d?[u,a]:[u,null]:[a,null],k=x[0],O=x[1];if(p)for(var P=0;P<m;++P)(y=O&&void 0!==O[P]?h[o](k[P],O[P]):h[o](k[P]))._reqno=P,v&&void 0===v[P]&&(y.onsuccess=_),y.onerror=w;else for(P=0;P<m;++P)(y=h[o](k[P]))._reqno=P,y.onerror=w}var S=function(e){var t=e.target.result;v&&(v[m-1]=t),n({numFailures:b,failures:g,results:v,lastResult:t})};y.onerror=function(e){w(e),S(e)},y.onsuccess=S}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,i){e=Qe(e);for(var o,a=n.objectStore(t),s=r.length,u=new Array(s),l=0,c=0,f=function(t){var n=t.target;null!=(u[n._pos]=n.result)&&0,++c===l&&e(u)},h=Zt(i),d=0;d<s;++d){null!=r[d]&&((o=a.get(r[d]))._pos=d,o.onsuccess=f,o.onerror=h,++l)}0===l&&e(u)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,i){e=Qe(e);var o=n.objectStore(t).get(r);o.onsuccess=function(t){return e(t.target.result)},o.onerror=Zt(i)}))},query:function(e){return function(n){return new Promise((function(r,i){r=Qe(r);var o=n.trans,a=n.values,u=n.limit,l=n.query,c=u===1/0?void 0:u,f=l.index,h=l.range,d=o.objectStore(t),p=f.isPrimaryKey?d:d.index(f.name),m=s(h);if(0===u)return r({result:[]});if(e){var y=a?p.getAll(m,c):p.getAllKeys(m,c);y.onsuccess=function(e){return r({result:e.target.result})},y.onerror=Zt(i)}else{var v=0,g=a||!("openKeyCursor"in p)?p.openCursor(m):p.openKeyCursor(m),b=[];g.onsuccess=function(e){var t=g.result;return t?(b.push(a?t.value:t.primaryKey),++v===u?r({result:b}):void t.continue()):r({result:b})},g.onerror=Zt(i)}}))}}(c),openCursor:function(e){var n=e.trans,r=e.values,i=e.query,o=e.reverse,a=e.unique;return new Promise((function(e,u){e=Qe(e);var l=i.index,c=i.range,f=n.objectStore(t),h=l.isPrimaryKey?f:f.index(l.name),d=o?a?"prevunique":"prev":a?"nextunique":"next",p=r||!("openKeyCursor"in h)?h.openCursor(s(c),d):h.openKeyCursor(s(c),d);p.onerror=Zt(u),p.onsuccess=Qe((function(t){var r=p.result;if(r){r.___id=++sn,r.done=!1;var i=r.continue.bind(r),o=r.continuePrimaryKey;o&&(o=o.bind(r));var a=r.advance.bind(r),s=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=Qe(u),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=Qe(e),p.onerror=Zt(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=s,e(t)}})),n=function(){if(p.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=Qe((function(e){p.onsuccess=n,n()})),r.continue=i,r.continuePrimaryKey=o,r.advance=a,n(),t},e(r)}else e(null)}),u)}))},count:function(e){var n=e.query,r=e.trans,i=n.index,o=n.range;return new Promise((function(e,n){var a=r.objectStore(t),u=i.isPrimaryKey?a:a.index(i.name),l=s(o),c=l?u.count(l):u.count();c.onsuccess=Qe((function(t){return e(t.target.result)})),c.onerror=Zt(n)}))}}}(e)})),h={};return f.forEach((function(e){return h[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!h[e])throw new Error("Table '"+e+"' not found");return h[e]},cmp:o,MIN_KEY:-1/0,MAX_KEY:Yt(n),schema:l}}function cn(e,t,n,i){var o=n.IDBKeyRange;return{dbcore:function(e,t){return t.reduce((function(e,t){var n=t.create;return r(r({},e),n(e))}),e)}(ln(t,n.indexedDB,o,i),e.dbcore)}}function fn(e,t){var n=t.db,r=cn(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((function(t){var n=t.name;e.core.schema.tables.some((function(e){return e.name===n}))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function hn(e,t,n,r){n.forEach((function(n){var i=r[n];t.forEach((function(t){var r=v(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?p(t,n,{get:function(){return this.table(n)},set:function(e){d(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))}))}))}function dn(e,t){t.forEach((function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]}))}function pn(e,t){return e._cfg.version-t._cfg.version}function mn(e,t,n,r){var i=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,i);a.create(n),a._completion.catch(r);var s=a._reject.bind(a),u=De.transless||De;ot((function(){De.trans=a,De.transless=u,0===t?(o(i).forEach((function(e){vn(n,e,i[e].primKey,i[e].indexes)})),fn(e,n),Le.follow((function(){return e.on.populate.fire(a)})).catch(s)):function(e,t,n,r){var i=[],a=e._versions,s=e._dbSchema=bn(e,e.idbdb,r),u=!1;function l(){return i.length?Le.resolve(i.shift()(n.idbtrans)).then(l):Le.resolve()}return a.filter((function(e){return e._cfg.version>=t})).forEach((function(a){i.push((function(){var i=s,l=a._cfg.dbschema;wn(e,i,r),wn(e,l,r),s=e._dbSchema=l;var c=yn(i,l);c.add.forEach((function(e){vn(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((function(e){if(e.recreate)throw new ie.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return gn(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),gn(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var f=a._cfg.contentUpgrade;if(f&&a._cfg.version>t){fn(e,r),n._memoizedTables={},u=!0;var h=E(l);c.del.forEach((function(e){h[e]=i[e]})),dn(e,[e.Transaction.prototype]),hn(e,[e.Transaction.prototype],o(h),h),n.schema=h;var d,p=$(f);p&&at();var m=Le.follow((function(){if((d=f(n))&&p){var e=st.bind(null,null);d.then(e,e)}}));return d&&"function"==typeof d.then?Le.resolve(d):m.then((function(){return d}))}})),i.push((function(t){u&&kt||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(a._cfg.dbschema,t);dn(e,[e.Transaction.prototype]),hn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),l().then((function(){var e,t;t=r,o(e=s).forEach((function(n){t.db.objectStoreNames.contains(n)||vn(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,a,n).catch(s)}))}function yn(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],o=t[n];if(i){var a={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!xt)a.recreate=!0,r.change.push(a);else{var s=i.idxByName,u=o.idxByName,l=void 0;for(l in s)u[l]||a.del.push(l);for(l in u){var c=s[l],f=u[l];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,o])}return r}function vn(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return gn(i,e)})),i}function gn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function bn(e,t,n){var r={};return b(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),i=t.keyPath,o=en(tn(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),a=[],s=0;s<t.indexNames.length;++s){var u=t.index(t.indexNames[s]);i=u.keyPath;var l=en(u.name,i,!!u.unique,!!u.multiEntry,!1,i&&"string"!=typeof i,!1);a.push(l)}r[e]=nn(e,o,a)})),r}function wn(e,t,n){for(var r=n.db.objectStoreNames,i=0;i<r.length;++i){var o=r[i],a=n.objectStore(o);e._hasGetAll="getAll"in a;for(var u=0;u<a.indexNames.length;++u){var l=a.indexNames[u],c=a.index(l).keyPath,f="string"==typeof c?c:"["+b(c).join("+")+"]";if(t[o]){var h=t[o].idxByName[f];h&&(h.name=l,delete t[o].idxByName[f],t[o].idxByName[l]=h)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}var _n,xn=function(){function e(){}return e.prototype._parseStoresSpec=function(e,t){o(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return en(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),a(r),0===t)})),i=r.shift();if(i.multi)throw new ie.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ie.Schema("Index must have a name and cannot be an empty string")})),t[n]=nn(n,i,r)}}))},e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,e):e;var n=t._versions,r={},i={};return n.forEach((function(e){u(r,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(r,i)})),t._dbSchema=i,dn(t,[t._allTables,t,t.Transaction.prototype]),hn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],o(i),i),t._storeNames=o(i),this},e.prototype.upgrade=function(e){return this._cfg.contentUpgrade=e,this},e}();function kn(e){return ot((function(){return De.letThrough=!0,e()}))}function On(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?gt(t.dbOpenError):e}));V&&(t.openCanceller._stackHolder=K()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.dbReadyResolve,i=null;return Le.race([t.openCanceller,new Le((function(r,a){if(!n)throw new ie.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var s=e.name,u=t.autoSchema?n.open(s):n.open(s,Math.round(10*e.verno));if(!u)throw new ie.MissingAPI("IndexedDB API not available");u.onerror=Zt(a),u.onblocked=Qe(e._fireOnBlocked),u.onupgradeneeded=Qe((function(r){if(i=u.transaction,t.autoSchema&&!e._options.allowEmptyDB){u.onerror=Qt,i.abort(),u.result.close();var o=n.deleteDatabase(s);o.onsuccess=o.onerror=Qe((function(){a(new ie.NoSuchDatabase("Database "+s+" doesnt exist"))}))}else{i.onerror=Zt(a);var l=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;e.idbdb=u.result,mn(e,l/10,i,a)}}),a),u.onsuccess=Qe((function(){i=null;var n=e.idbdb=u.result,a=b(n.objectStoreNames);if(a.length>0)try{var l=n.transaction(Gt(a),"readonly");t.autoSchema?function(e,t,n){e.verno=t.version/10;var r=e._dbSchema=bn(0,t,n);e._storeNames=b(t.objectStoreNames,0),hn(e,[e._allTables],o(r),r)}(e,n,l):(wn(e,e._dbSchema,l),function(e,t){var n=yn(bn(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,l)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),fn(e,l)}catch(e){}_t.push(e),n.onversionchange=Qe((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),_n.add(s),r()}),a)}))]).then((function(){return t.onReadyBeingFired=[],Le.resolve(kn(e.on.ready.fire)).then((function e(){if(t.onReadyBeingFired.length>0){var n=t.onReadyBeingFired.reduce(me,se);return t.onReadyBeingFired=[],Le.resolve(kn(n)).then(e)}}))})).finally((function(){t.onReadyBeingFired=null})).then((function(){return t.isBeingOpened=!1,e})).catch((function(n){try{i&&i.abort()}catch(e){}return t.isBeingOpened=!1,e.close(),t.dbOpenError=n,gt(t.dbOpenError)})).finally((function(){t.openComplete=!0,r()}))}function Pn(e){var t=function(t){return e.next(t)},n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t),o=i.value;return i.done?o:o&&"function"==typeof o.then?o.then(n,r):a(o)?Promise.all(o).then(n,r):n(o)}}return i(t)()}function Sn(e,t,n){var r=arguments.length;if(r<2)throw new ie.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=C(i);return[e,o,n]}function En(e,t,n,r,i){return Le.resolve().then((function(){var o=De.transless||De,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:o};r?a.idbtrans=r.idbtrans:a.create();var u,l=$(i);l&&at();var c=Le.follow((function(){if(u=i.call(a,a))if(l){var e=st.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=Pn(u))}),s);return(u&&"function"==typeof u.then?Le.resolve(u).then((function(e){return a.active?e:gt(new ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):c.then((function(){return u}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),gt(e)}))}))}function jn(e,t,n){for(var r=a(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var Cn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return r(r({},e),{table:function(t){var n=e.table(t),i=n.schema,o={},a=[];function s(e,t,n){var i=un(e),u=o[i]=o[i]||[],l=null==e?0:"string"==typeof e?1:e.length,c=t>0,f=r(r({},n),{isVirtual:c,isPrimaryKey:!c&&n.isPrimaryKey,keyTail:t,keyLength:l,extractKey:rn(e),unique:!c&&n.unique});(u.push(f),f.isPrimaryKey||a.push(f),l>1)&&s(2===l?e[0]:e.slice(0,l-1),t+1,n);return u.sort((function(e,t){return e.keyTail-t.keyTail})),f}var u=s(i.primaryKey.keyPath,0,i.primaryKey);o[":id"]=[u];for(var l=0,c=i.indexes;l<c.length;l++){var f=c[l];s(f.keyPath,0,f)}function h(t){var n,i,o=t.query.index;return o.isVirtual?r(r({},t),{query:{index:o,range:(n=t.query.range,i=o.keyTail,{type:1===n.type?2:n.type,lower:jn(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:jn(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}):t}return r(r({},n),{schema:r(r({},i),{primaryKey:u,indexes:a,getIndexByKeyPath:function(e){var t=o[un(e)];return t&&t[0]}}),count:function(e){return n.count(h(e))},query:function(e){return n.query(h(e))},openCursor:function(t){var r=t.query.index,i=r.keyTail,o=r.isVirtual,a=r.keyLength;if(!o)return n.openCursor(t);return n.openCursor(h(t)).then((function(n){return n&&function(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(jn(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(jn(n.key,t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(jn(t,e.MAX_KEY,i),r)}},key:{get:function(){var e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:function(){return n.value}}})}(n)}))}})}})}},An={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return r(r({},e),{table:function(t){var n=e.table(t),o=n.schema.primaryKey;return r(r({},n),{mutate:function(e){var a=De.trans,s=a.table(t).hook,u=s.deleting,l=s.creating,c=s.updating;switch(e.type){case"add":if(l.fire===se)break;return a._promise("readwrite",(function(){return h(e)}),!0);case"put":if(l.fire===se&&c.fire===se)break;return a._promise("readwrite",(function(){return h(e)}),!0);case"delete":if(u.fire===se)break;return a._promise("readwrite",(function(){return h(e)}),!0);case"deleteRange":if(u.fire===se)break;return a._promise("readwrite",(function(){return function(e){return function e(t,i,a){return n.query({trans:t,values:!1,query:{index:o,range:i},limit:a}).then((function(n){var o=n.result;return h({type:"delete",keys:o,trans:t}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):o.length<a?{failures:[],numFailures:0,lastResult:void 0}:e(t,r(r({},i),{lower:o[o.length-1],lowerOpen:!0}),a)}))}))}(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function h(e){var t=De.trans,a=e.keys||on(o,e);if(!a)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?r(r({},e),{keys:a,wantResults:!0}):r({},e)).type&&(e.values=i(e.values)),e.keys&&(e.keys=i(e.keys)),function(e,t,n){return"add"===t.type?Promise.resolve(new Array(t.values.length)):e.getMany({trans:t.trans,keys:n})}(n,e,a).then((function(r){var i=a.map((function(n,i){var a=r[i],s={onerror:null,onsuccess:null};if("delete"===e.type)u.fire.call(s,n,a,t);else if("add"===e.type||void 0===a){var h=l.fire.call(s,n,e.values[i],t);null==n&&null!=h&&(n=h,e.keys[i]=n,o.outbound||P(e.values[i],o.keyPath,n))}else{var d=B(a,e.values[i]),p=c.fire.call(s,d,n,a,t);if(p){var m=e.values[i];Object.keys(p).forEach((function(e){f(m,e)?m[e]=p[e]:P(m,e,p[e])}))}}return s}));return n.mutate(e).then((function(t){for(var n=t.failures,o=t.results,s=t.numFailures,u=t.lastResult,l=0;l<a.length;++l){var c=o?o[l]:a[l],f=i[l];null==c?f.onerror&&f.onerror(n[l]):f.onsuccess&&f.onsuccess("put"===e.type&&r[l]?e.values[l]:c)}return{failures:n,results:o,numFailures:s,lastResult:u}})).catch((function(e){return i.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}}})}})}},Tn=function(){function e(t,n){var i=this;this._middlewares={},this.verno=0;var o=e.dependencies;this._options=n=r({addons:e.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null;var s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:se,dbReadyPromise:null,cancelOpen:se,openCanceller:null,autoSchema:!0};s.dbReadyPromise=new Le((function(e){s.dbReadyResolve=e})),s.openCanceller=new Le((function(e,t){s.cancelOpen=t})),this._state=s,this.name=t,this.on=At(this,"populate","blocked","versionchange",{ready:[me,se]}),this.on.ready.subscribe=w(this.on.ready.subscribe,(function(t){return function(n,r){e.vip((function(){var e=i._state;if(e.openComplete)e.dbOpenError||Le.resolve().then(n),r&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),r&&t(n);else{t(n);var o=i;r||t((function e(){o.on.ready.unsubscribe(n),o.on.ready.unsubscribe(e)}))}}))}})),this.Collection=function(e){return Tt(Ft.prototype,(function(t,n){this.db=e;var r=Et,i=null;if(n)try{r=n()}catch(e){i=e}var o=t._ctx,a=o.table,s=a.hook.reading.fire;this._ctx={table:a,index:o.index,isPrimKey:!o.index||a.schema.primKey.keyPath&&o.index===a.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueMapper:s!==ue?s:null}}))}(this),this.Table=function(e){return Tt(Ct.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:At(null,{creating:[fe,se],reading:[le,ue],updating:[de,se],deleting:[he,se]})}))}(this),this.Transaction=function(e){return Tt(Xt.prototype,(function(t,n,r,i){var o=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.idbtrans=null,this.on=At(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Le((function(e,t){o._resolve=e,o._reject=t})),this._completion.then((function(){o.active=!1,o.on.complete.fire()}),(function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),gt(e)}))}))}(this),this.Version=function(e){return Tt(xn.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Tt(Jt.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var i=e._deps.indexedDB;if(!i)throw new ie.MissingAPI("indexedDB API missing");this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(e,t){return i.cmp(t,e)},this._max=function(e,t){return i.cmp(e,t)>0?e:t},this._min=function(e,t){return i.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+i.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+i.name+"'. Closing db now to resume the delete request."),i.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+i.name+"') was blocked"):console.warn("Upgrade '"+i.name+"' blocked by other connection holding version "+e.oldVersion/10)})),this._maxKey=Yt(n.IDBKeyRange),this._createTransaction=function(e,t,n,r){return new i.Transaction(e,t,n,r)},this._fireOnBlocked=function(e){i.on("blocked").fire(e),_t.filter((function(e){return e.name===i.name&&e!==i&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(Cn),this.use(An),a.forEach((function(e){return e(i)}))}return e.prototype.version=function(e){if(isNaN(e)||e<.1)throw new ie.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(pn),n.stores({}),this._state.autoSchema=!1,n)},e.prototype._whenReady=function(e){var t=this;return this._state.openComplete||De.letThrough?e():new Le((function(e,n){if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new ie.DatabaseClosed);t.open().catch(se)}t._state.dbReadyPromise.then(e,n)})).then(e)},e.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;i&&this.unuse({stack:t,name:i});var o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:null==r?10:r,name:i}),o.sort((function(e,t){return e.level-t.level})),this},e.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this},e.prototype.open=function(){return On(this)},e.prototype.close=function(){var e=_t.indexOf(this),t=this._state;if(e>=0&&_t.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}this._options.autoOpen=!1,t.dbOpenError=new ie.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError),t.dbReadyPromise=new Le((function(e){t.dbReadyResolve=e})),t.openCanceller=new Le((function(e,n){t.cancelOpen=n}))},e.prototype.delete=function(){var e=this,t=arguments.length>0,n=this._state;return new Le((function(r,i){var o=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=Qe((function(){_n.remove(e.name),r()})),t.onerror=Zt(i),t.onblocked=e._fireOnBlocked};if(t)throw new ie.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()}))},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return null!==this.idbdb},e.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},e.prototype.hasFailed=function(){return null!==this._state.dbOpenError},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var e=this;return o(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!0,configurable:!0}),e.prototype.transaction=function(){var e=Sn.apply(this,arguments);return this._transaction.apply(this,e)},e.prototype._transaction=function(e,t,n){var r=this,i=De.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var o,a,s=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)o="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new ie.InvalidArgument("Invalid transaction mode: "+e);o="readwrite"}if(i){if("readonly"===i.mode&&"readwrite"===o){if(!s)throw new ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach((function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!s)throw new ie.SubTransaction("Table "+e+" not included in parent transaction.");i=null}})),s&&i&&!i.active&&(i=null)}}catch(e){return i?i._promise(null,(function(t,n){n(e)})):gt(e)}var u=En.bind(null,this,o,a,i,n);return i?i._promise(o,u,"lock"):De.trans?dt(De.transless,(function(){return r._whenReady(u)})):this._whenReady(u)},e.prototype.table=function(e){if(!f(this._allTables,e))throw new ie.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},e}(),In=Tn;h(In,r(r({},ae),{delete:function(e){return new In(e).delete()},exists:function(e){return new In(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){return _n?_n.getDatabaseNames().then(e):Le.resolve([])},defineClass:function(){return function(e){u(this,e)}},ignoreTransaction:function(e){return De.trans?dt(De.transless,e):e()},vip:kn,async:function(e){return function(){try{var t=Pn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Le.resolve(t)}catch(e){return gt(e)}}},spawn:function(e,t,n){try{var r=Pn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Le.resolve(r)}catch(e){return gt(e)}},currentTransaction:{get:function(){return De.trans||null}},waitFor:function(e,t){var n=Le.resolve("function"==typeof e?In.ignoreTransaction(e):e).timeout(t||6e4);return De.trans?De.trans.waitFor(n):n},Promise:Le,debug:{get:function(){return V},set:function(e){q(e,"dexie"===e?function(){return!0}:Pt)}},derive:m,extend:u,props:h,override:w,Events:At,getByKeyPath:O,setByKeyPath:P,delByKeyPath:S,shallowClone:E,deepClone:z,getObjectDiff:B,asap:x,minKey:-1/0,addons:[],connections:_t,errnames:ne,dependencies:function(){try{return{indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"3.0.3",version:"3.0.3".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:In,Dexie:In})),In.maxKey=Yt(In.dependencies.IDBKeyRange),function(e){try{_n=function(e){var t,n=e&&"function"==typeof e.databases;if(!n){var r=new Tn("__dbnames",{addons:[]});r.version(1).stores({dbnames:"name"}),t=r.table("dbnames")}return{getDatabaseNames:function(){return n?Le.resolve(e.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return"__dbnames"!==e}))})):t.toCollection().primaryKeys()},add:function(e){return!n&&"__dbnames"!==e&&t.put({name:e}).catch(se)},remove:function(e){return!n&&"__dbnames"!==e&&t.delete(e).catch(se)}}}(e)}catch(e){}}(Tn.dependencies.indexedDB),Le.rejectionMapper=function(e,t){if(!e||e instanceof Q||e instanceof TypeError||e instanceof SyntaxError||!e.name||!oe[e.name])return e;var n=new oe[e.name](t||e.message,e);return"stack"in e&&p(n,"stack",{get:function(){return this.inner.stack}}),n},q(V,Pt);var zn=Tn;const Dn=new class extends zn{constructor(){super("voxelsrv-storage"),this.version(1).stores({main:"name, data",resources:"name, data, active",worlds:"name, data, settings, lastplay"})}};async function Rn(){return await Dn.worlds.orderBy("lastplay").toArray()}async function Mn(){const e=(await Dn.main.where("name").equals("settings").toArray())[0];return console.log(e),null!=e?e.data:{}}async function Bn(e){Dn.main.put({name:"settings",data:e})}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(86),i=n(6),o=n(19),a=n(115),s=n(100);let u;function l(e,t){const n=Object(i.d)(2);u=new o.f,u.zIndex=5,u.verticalAlignment=1,u.width=184*i.f+"px",u.height=24*i.f+"px",u.thickness=0,n.addControl(u);const l=new o.d("hotbar","./textures/gui/hotbar.png");l.width=184*i.f+"px",l.height=24*i.f+"px",u.addControl(l);const c=new o.d("hotbar","./textures/gui/selected.png");c.zIndex=8,c.width=24*i.f+"px",c.height=24*i.f+"px",c.left=-19*i.f*4+"px",u.addControl(c);const f=new Array(9);for(let n=0;n<9;n++){f[n]=Object(a.a)(i.f);const r=f[n].container;r.zIndex=9,r.isPointerBlocker=!0,r.left=-20*i.f*4+20*i.f*n+"px",r.onPointerClickObservable.add(r=>{e.ents.getState(e.playerEntity,"inventory").selected=n,t.send("ActionInventoryClick",{slot:n,type:"select"})}),u.addControl(r)}const h=new o.d("hotbar","./textures/gui/inventoryopen.png");r.isMobile&&(h.zIndex=8,h.verticalAlignment=1,h.width=24*i.f+"px",h.height=24*i.f+"px",h.left=19*i.f*6+"px",h.onPointerClickObservable.add(()=>{s.b.isVisible=!0}),n.addControl(h));const d=async()=>{const t=e.ents.getState(e.playerEntity,"inventory");c.left=-20*i.f*4+20*i.f*t.selected+"px";for(let e=0;e<9;e++)Object(a.b)(f[e],t.items[e])};e.on("tick",d);const p=e=>{u.width=184*e+"px",u.height=24*e+"px",l.width=184*e+"px",l.height=24*e+"px",c.width=24*e+"px",c.height=24*e+"px";for(let e=0;e<9;e++)f[e].container.height=16*i.f+"px",f[e].container.width=16*i.f+"px",f[e].container.left=-20*i.f*4+20*i.f*e+"px",f[e].item.width=16*i.f+"px",f[e].item.height=16*i.f+"px",f[e].count.fontSize=8*i.f+"px",f[e].count.left=2*i.f+"px",f[e].count.top=4*i.f+"px",f[e].count.shadowOffsetX=i.f,f[e].count.shadowOffsetY=i.f;r.isMobile&&(h.width=24*i.f+"px",h.height=24*i.f+"px",h.left=19*i.f*6+"px")};i.b.on("scale-change",p),u.onDisposeObservable.add(()=>{i.b.off("scale-change",p),e.off("tick",d),h.dispose()})}},function(e){e.exports=JSON.parse('{"b":{"stone":{"id":"stone","name":"Stone","texture":"block/stone","type":"ItemBlock","block":1,"flat":true},"dirt":{"id":"dirt","name":"Dirt","texture":"block/dirt","type":"ItemBlock","block":3,"flat":true},"cobblestone":{"id":"cobblestone","name":"Cobblestone","texture":"block/cobblestone","type":"ItemBlock","block":4,"flat":true},"wood_planks":{"id":"wood_planks","name":"Wood Planks","texture":"block/birch_planks","type":"ItemBlock","block":5,"flat":true},"sapling":{"id":"sapling","name":"Sapling","texture":"block/oak_sapling","type":"ItemBlock","block":6,"flat":true},"sand":{"id":"sand","name":"Sand","texture":"block/sand","type":"ItemBlock","block":12,"flat":true},"gravel":{"id":"gravel","name":"Gravel","texture":"block/gravel","type":"ItemBlock","block":13,"flat":true},"gold_ore":{"id":"gold_ore","name":"Gold Ore","texture":"block/gold_ore","type":"ItemBlock","block":14,"flat":true},"iron_ore":{"id":"iron_ore","name":"Iron Ore","texture":"block/iron_ore","type":"ItemBlock","block":15,"flat":true},"coal_ore":{"id":"coal_ore","name":"Coal Ore","texture":"block/coal_ore","type":"ItemBlock","block":16,"flat":true},"wood":{"id":"wood","name":"Wood","texture":"block/log","type":"ItemBlock","block":17,"flat":true},"leaves":{"id":"leaves","name":"Leaves","texture":"block/leaves","type":"ItemBlock","block":18,"flat":true},"sponge":{"id":"sponge","name":"Sponge","texture":"block/sponge","type":"ItemBlock","block":19,"flat":true},"glass":{"id":"glass","name":"Glass","texture":"block/glass","type":"ItemBlock","block":20,"flat":true},"red_cloth":{"id":"red_cloth","name":"Red Cloth","texture":"block/red_wool","type":"ItemBlock","block":21,"flat":true},"orange_cloth":{"id":"orange_cloth","name":"Orange Cloth","texture":"block/orange_wool","type":"ItemBlock","block":22,"flat":true},"yellow_cloth":{"id":"yellow_cloth","name":"Yellow Cloth","texture":"block/yellow_wool","type":"ItemBlock","block":23,"flat":true},"lime_cloth":{"id":"lime_cloth","name":"Lime Cloth","texture":"block/lime_wool","type":"ItemBlock","block":24,"flat":true},"green_cloth":{"id":"green_cloth","name":"Green Cloth","texture":"block/green_wool","type":"ItemBlock","block":25,"flat":true},"aqua_green_cloth":{"id":"aqua_green_cloth","name":"Aqua Green Cloth","texture":"block/light_blue_concrete","type":"ItemBlock","block":26,"flat":true},"cyan_cloth":{"id":"cyan_cloth","name":"Cyan Cloth","texture":"block/cyan_wool","type":"ItemBlock","block":27,"flat":true},"blue_cloth":{"id":"blue_cloth","name":"Blue Cloth","texture":"block/blue_wool","type":"ItemBlock","block":28,"flat":true},"purple_cloth":{"id":"purple_cloth","name":"Purple Cloth","texture":"block/purple_wool","type":"ItemBlock","block":29,"flat":true},"indigo_cloth":{"id":"indigo_cloth","name":"Indigo Cloth","texture":"block/purple_concrete","type":"ItemBlock","block":30,"flat":true},"violet_cloth":{"id":"violet_cloth","name":"Violet Cloth","texture":"block/purple_concrete","type":"ItemBlock","block":31,"flat":true},"magenta_cloth":{"id":"magenta_cloth","name":"Magenta Cloth","texture":"block/magenta_wool","type":"ItemBlock","block":32,"flat":true},"pink_cloth":{"id":"pink_cloth","name":"Pink Cloth","texture":"block/pink_wool","type":"ItemBlock","block":33,"flat":true},"black_cloth":{"id":"black_cloth","name":"Black Cloth","texture":"block/black_wool","type":"ItemBlock","block":34,"flat":true},"gray_cloth":{"id":"gray_cloth","name":"Gray Cloth","texture":"block/gray_wool","type":"ItemBlock","block":35,"flat":true},"white_cloth":{"id":"white_cloth","name":"White Cloth","texture":"block/white_wool","type":"ItemBlock","block":36,"flat":true},"dandelion":{"id":"dandelion","name":"Dandelion","texture":"block/dandelion","type":"ItemBlock","block":37,"flat":true},"rose":{"id":"rose","name":"Rose","texture":"block/red_flower","type":"ItemBlock","block":38,"flat":true},"brown_mushroom":{"id":"brown_mushroom","name":"Brown Mushroom","texture":"block/brown_mushroom","type":"ItemBlock","block":39,"flat":true},"red_mushroom":{"id":"red_mushroom","name":"Red Mushroom","texture":"block/red_mushroom","type":"ItemBlock","block":40,"flat":true},"block_of_gold":{"id":"block_of_gold","name":"Block of Gold","texture":"block/gold_block","type":"ItemBlock","block":41,"flat":true},"block_of_iron":{"id":"block_of_iron","name":"Block of Iron","texture":"block/iron_block","type":"ItemBlock","block":42,"flat":true},"slab":{"id":"slab","name":"Slab","texture":"block/smooth_stone_slab_side","type":"ItemBlock","block":44,"flat":true},"brick":{"id":"brick","name":"Brick","texture":"block/bricks","type":"ItemBlock","block":45,"flat":true},"tnt":{"id":"tnt","name":"TNT","texture":"block/tnt_side","type":"ItemBlock","block":46,"flat":true},"bookshelf":{"id":"bookshelf","name":"Bookshelf","texture":"block/bookshelf","type":"ItemBlock","block":47,"flat":true},"moss_stone":{"id":"moss_stone","name":"Moss Stone","texture":"block/mossy_cobblestone","type":"ItemBlock","block":48,"flat":true},"obsidian":{"id":"obsidian","name":"Obsidian","texture":"block/obsidian","type":"ItemBlock","block":49,"flat":true}},"a":{"stone":{"rawid":1,"id":"stone","texture":["block/stone"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"grass_block":{"rawid":2,"id":"grass_block","texture":["block/grass_top","block/dirt","block/grass_side"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"dirt":{"rawid":3,"id":"dirt","texture":["block/dirt"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"cobblestone":{"rawid":4,"id":"cobblestone","texture":["block/cobblestone"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"wood_planks":{"rawid":5,"id":"wood_planks","texture":["block/birch_planks"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"sapling":{"rawid":6,"id":"sapling","texture":["block/oak_sapling"],"options":{"solid":false,"opaque":false},"hardness":1,"miningtime":0,"tool":"pickaxe","type":1,"unbreakable":true},"bedrock":{"rawid":7,"id":"bedrock","texture":["block/bedrock"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":false},"flowing_water":{"rawid":8,"id":"flowing_water","texture":["block/flowing_water"],"options":{"fluid":true,"material":"water"},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":false},"stationary_water":{"rawid":9,"id":"stationary_water","texture":["block/stationary_water"],"options":{"fluid":true,"material":"water"},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":false},"flowing_lava":{"rawid":10,"id":"flowing_lava","options":{"fluid":true,"color":[0.6,0.1,0.1,0.7]},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":false},"stationary_lava":{"rawid":11,"id":"stationary_lava","options":{"fluid":true,"color":[0.6,0.1,0.1,0.7]},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":false},"sand":{"rawid":12,"id":"sand","texture":["block/sand"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"gravel":{"rawid":13,"id":"gravel","texture":["block/gravel"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"gold_ore":{"rawid":14,"id":"gold_ore","texture":["block/gold_ore"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"iron_ore":{"rawid":15,"id":"iron_ore","texture":["block/iron_ore"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"coal_ore":{"rawid":16,"id":"coal_ore","texture":["block/coal_ore"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"wood":{"rawid":17,"id":"wood","texture":["block/log_top","block/log"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"leaves":{"rawid":18,"id":"leaves","texture":["block/leaves"],"options":{"opaque":false},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"sponge":{"rawid":19,"id":"sponge","texture":["block/sponge"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"glass":{"rawid":20,"id":"glass","texture":["block/glass"],"options":{"opaque":false},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"red_cloth":{"rawid":21,"id":"red_cloth","texture":["block/red_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"orange_cloth":{"rawid":22,"id":"orange_cloth","texture":["block/orange_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"yellow_cloth":{"rawid":23,"id":"yellow_cloth","texture":["block/yellow_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"lime_cloth":{"rawid":24,"id":"lime_cloth","texture":["block/lime_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"green_cloth":{"rawid":25,"id":"green_cloth","texture":["block/green_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"aqua_green_cloth":{"rawid":26,"id":"aqua_green_cloth","texture":["block/light_blue_concrete"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"cyan_cloth":{"rawid":27,"id":"cyan_cloth","texture":["block/cyan_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"blue_cloth":{"rawid":28,"id":"blue_cloth","texture":["block/blue_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"purple_cloth":{"rawid":29,"id":"purple_cloth","texture":["block/purple_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"indigo_cloth":{"rawid":30,"id":"indigo_cloth","texture":["block/purple_concrete"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"violet_cloth":{"rawid":31,"id":"violet_cloth","texture":["block/purple_concrete"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"magenta_cloth":{"rawid":32,"id":"magenta_cloth","texture":["block/magenta_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"pink_cloth":{"rawid":33,"id":"pink_cloth","texture":["block/pink_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"black_cloth":{"rawid":34,"id":"black_cloth","texture":["block/black_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"gray_cloth":{"rawid":35,"id":"gray_cloth","texture":["block/gray_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"white_cloth":{"rawid":36,"id":"white_cloth","texture":["block/white_wool"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"dandelion":{"rawid":37,"id":"dandelion","texture":["block/dandelion"],"options":{"solid":false,"opaque":false},"hardness":1,"miningtime":0,"tool":"pickaxe","type":1,"unbreakable":true},"rose":{"rawid":38,"id":"rose","texture":["block/red_flower"],"options":{"solid":false,"opaque":false},"hardness":1,"miningtime":0,"tool":"pickaxe","type":1,"unbreakable":true},"brown_mushroom":{"rawid":39,"id":"brown_mushroom","texture":["block/brown_mushroom"],"options":{"solid":false,"opaque":false},"hardness":1,"miningtime":0,"tool":"pickaxe","type":1,"unbreakable":true},"red_mushroom":{"rawid":40,"id":"red_mushroom","texture":["block/red_mushroom"],"options":{"solid":false,"opaque":false},"hardness":1,"miningtime":0,"tool":"pickaxe","type":1,"unbreakable":true},"block_of_gold":{"rawid":41,"id":"block_of_gold","texture":["block/gold_block"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"block_of_iron":{"rawid":42,"id":"block_of_iron","texture":["block/iron_block"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"double_slab":{"rawid":43,"id":"double_slab","texture":["block/smooth_stone","block/smooth_stone_slab_side"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"slab":{"rawid":44,"id":"slab","texture":["block/smooth_stone","block/smooth_stone_slab_side"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"brick":{"rawid":45,"id":"brick","texture":["block/bricks"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"tnt":{"rawid":46,"id":"tnt","texture":["block/tnt_top","block/tnt_bottom","block/tnt_side"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"bookshelf":{"rawid":47,"id":"bookshelf","texture":["block/oak_planks","block/bookshelf"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"moss_stone":{"rawid":48,"id":"moss_stone","texture":["block/mossy_cobblestone"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true},"obsidian":{"rawid":49,"id":"obsidian","texture":["block/obsidian"],"options":{},"hardness":1,"miningtime":0,"tool":"pickaxe","type":0,"unbreakable":true}}}')},function(e,t){e.exports=1e-6},function(e,t){e.exports=function(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}},function(e,t){e.exports=function(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o);return e}},function(e,t){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}},function(e,t){e.exports=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}},function(e,t){e.exports=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}},,,,,function(e,t,n){"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(154),r.BufferWriter=n(232),r.Reader=n(155),r.BufferReader=n(233),r.util=n(72),r.rpc=n(234),r.roots=n(236),r.configure=i,i()},function(e,t,n){"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,a(e))}}))}},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,n){for(var r,o=null,a=[],s=0,u=0;t<n;){var l=e[t++];switch(u){case 0:a[s++]=i[l>>2],r=(3&l)<<4,u=1;break;case 1:a[s++]=i[r|l>>4],r=(15&l)<<2,u=2;break;case 2:a[s++]=i[r|l>>6],a[s++]=i[63&l],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=i[r],a[s++]=61,1===u&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};r.decode=function(e,t,n){for(var r,i=n,a=0,s=0;s<e.length;){var u=e.charCodeAt(s++);if(61===u&&a>1)break;if(void 0===(u=o[u]))throw Error("invalid encoding");switch(a){case 0:r=u,a=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,a=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,a=3;break;case 3:t[n++]=(3&r)<<6|u,a=0}}if(1===a)throw Error("invalid encoding");return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,a),e.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=r*Math.pow(2,-u))>>>0,i,o+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),a=e(r,i+n),s=2*(a>>31)+1,u=a>>>20&2047,l=4294967296*(1048575&a)+o;return 2047===u?l?NaN:s*(1/0):0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,a,0,4),e.readDoubleBE=n.bind(null,s,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var s=t.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},function(e,t,n){"use strict";e.exports=i;var r=n(72);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";e.exports=o;var r=n(154);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(72);function o(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},function(e,t,n){"use strict";e.exports=o;var r=n(155);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(72);function o(e){r.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},function(e,t,n){"use strict";t.Service=n(235)},function(e,t,n){"use strict";e.exports=i;var r=n(72);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return s.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){var r,i,o;i=[n(94)],void 0===(o="function"==typeof(r=function(e){"use strict";var t=e.Reader,n=e.Writer,r=e.util,i=e.roots.default||(e.roots.default={});return i.AuthRequest=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.username="",o.prototype.protocol=0,o.prototype.client="",o.prototype.uuid="",o.prototype.secret="",o.prototype.serverId="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.username&&Object.hasOwnProperty.call(e,"username")&&t.uint32(10).string(e.username),null!=e.protocol&&Object.hasOwnProperty.call(e,"protocol")&&t.uint32(16).uint32(e.protocol),null!=e.client&&Object.hasOwnProperty.call(e,"client")&&t.uint32(26).string(e.client),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(34).string(e.uuid),null!=e.secret&&Object.hasOwnProperty.call(e,"secret")&&t.uint32(42).string(e.secret),null!=e.serverId&&Object.hasOwnProperty.call(e,"serverId")&&t.uint32(50).string(e.serverId),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.AuthRequest;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.username=e.string();break;case 2:o.protocol=e.uint32();break;case 3:o.client=e.string();break;case 4:o.uuid=e.string();break;case 5:o.secret=e.string();break;case 6:o.serverId=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.username&&e.hasOwnProperty("username")&&!r.isString(e.username)?"username: string expected":null!=e.protocol&&e.hasOwnProperty("protocol")&&!r.isInteger(e.protocol)?"protocol: integer expected":null!=e.client&&e.hasOwnProperty("client")&&!r.isString(e.client)?"client: string expected":null!=e.uuid&&e.hasOwnProperty("uuid")&&!r.isString(e.uuid)?"uuid: string expected":null!=e.secret&&e.hasOwnProperty("secret")&&!r.isString(e.secret)?"secret: string expected":null!=e.serverId&&e.hasOwnProperty("serverId")&&!r.isString(e.serverId)?"serverId: string expected":null},o.fromObject=function(e){if(e instanceof i.AuthRequest)return e;var t=new i.AuthRequest;return null!=e.username&&(t.username=String(e.username)),null!=e.protocol&&(t.protocol=e.protocol>>>0),null!=e.client&&(t.client=String(e.client)),null!=e.uuid&&(t.uuid=String(e.uuid)),null!=e.secret&&(t.secret=String(e.secret)),null!=e.serverId&&(t.serverId=String(e.serverId)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.username="",n.protocol=0,n.client="",n.uuid="",n.secret="",n.serverId=""),null!=e.username&&e.hasOwnProperty("username")&&(n.username=e.username),null!=e.protocol&&e.hasOwnProperty("protocol")&&(n.protocol=e.protocol),null!=e.client&&e.hasOwnProperty("client")&&(n.client=e.client),null!=e.uuid&&e.hasOwnProperty("uuid")&&(n.uuid=e.uuid),null!=e.secret&&e.hasOwnProperty("secret")&&(n.secret=e.secret),null!=e.serverId&&e.hasOwnProperty("serverId")&&(n.serverId=e.serverId),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.Data=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.message=r.newBuffer([]),o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(10).bytes(e.message),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.Data;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.message=e.bytes();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.message&&e.hasOwnProperty("message")&&!(e.message&&"number"==typeof e.message.length||r.isString(e.message))?"message: buffer expected":null},o.fromObject=function(e){if(e instanceof i.Data)return e;var t=new i.Data;return null!=e.message&&("string"==typeof e.message?r.base64.decode(e.message,t.message=r.newBuffer(r.base64.length(e.message)),0):e.message.length&&(t.message=e.message)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.message="":(n.message=[],t.bytes!==Array&&(n.message=r.newBuffer(n.message)))),null!=e.message&&e.hasOwnProperty("message")&&(n.message=t.bytes===String?r.base64.encode(e.message,0,e.message.length):t.bytes===Array?Array.prototype.slice.call(e.message):e.message),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.VoxelSrvMessage=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.message=r.newBuffer([]),o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(10).bytes(e.message),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.VoxelSrvMessage;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.message=e.bytes();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.message&&e.hasOwnProperty("message")&&!(e.message&&"number"==typeof e.message.length||r.isString(e.message))?"message: buffer expected":null},o.fromObject=function(e){if(e instanceof i.VoxelSrvMessage)return e;var t=new i.VoxelSrvMessage;return null!=e.message&&("string"==typeof e.message?r.base64.decode(e.message,t.message=r.newBuffer(r.base64.length(e.message)),0):e.message.length&&(t.message=e.message)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.message="":(n.message=[],t.bytes!==Array&&(n.message=r.newBuffer(n.message)))),null!=e.message&&e.hasOwnProperty("message")&&(n.message=t.bytes===String?r.base64.encode(e.message,0,e.message.length):t.bytes===Array?Array.prototype.slice.call(e.message):e.message),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[n(94)],void 0===(o="function"==typeof(r=function(e){"use strict";var t=e.Reader,n=e.Writer,r=e.util,i=e.roots.default||(e.roots.default={});return i.AuthResponce=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.responce=0,o.prototype.message="",o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.responce&&Object.hasOwnProperty.call(e,"responce")&&t.uint32(8).int32(e.responce),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.AuthResponce;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.responce=e.int32();break;case 2:o.message=e.string();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.responce&&e.hasOwnProperty("responce")&&!r.isInteger(e.responce)?"responce: integer expected":null!=e.message&&e.hasOwnProperty("message")&&!r.isString(e.message)?"message: string expected":null},o.fromObject=function(e){if(e instanceof i.AuthResponce)return e;var t=new i.AuthResponce;return null!=e.responce&&(t.responce=0|e.responce),null!=e.message&&(t.message=String(e.message)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.responce=0,n.message=""),null!=e.responce&&e.hasOwnProperty("responce")&&(n.responce=e.responce),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.Data=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.message=r.newBuffer([]),o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(10).bytes(e.message),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.Data;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.message=e.bytes();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.message&&e.hasOwnProperty("message")&&!(e.message&&"number"==typeof e.message.length||r.isString(e.message))?"message: buffer expected":null},o.fromObject=function(e){if(e instanceof i.Data)return e;var t=new i.Data;return null!=e.message&&("string"==typeof e.message?r.base64.decode(e.message,t.message=r.newBuffer(r.base64.length(e.message)),0):e.message.length&&(t.message=e.message)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.message="":(n.message=[],t.bytes!==Array&&(n.message=r.newBuffer(n.message)))),null!=e.message&&e.hasOwnProperty("message")&&(n.message=t.bytes===String?r.base64.encode(e.message,0,e.message.length):t.bytes===Array?Array.prototype.slice.call(e.message):e.message),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.VoxelSrvMessage=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.message=r.newBuffer([]),o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(10).bytes(e.message),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.VoxelSrvMessage;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.message=e.bytes();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.message&&e.hasOwnProperty("message")&&!(e.message&&"number"==typeof e.message.length||r.isString(e.message))?"message: buffer expected":null},o.fromObject=function(e){if(e instanceof i.VoxelSrvMessage)return e;var t=new i.VoxelSrvMessage;return null!=e.message&&("string"==typeof e.message?r.base64.decode(e.message,t.message=r.newBuffer(r.base64.length(e.message)),0):e.message.length&&(t.message=e.message)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.message="":(n.message=[],t.bytes!==Array&&(n.message=r.newBuffer(n.message)))),null!=e.message&&e.hasOwnProperty("message")&&(n.message=t.bytes===String?r.base64.encode(e.message,0,e.message.length):t.bytes===Array?Array.prototype.slice.call(e.message):e.message),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i.Disconnect=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.message=r.newBuffer([]),o.create=function(e){return new o(e)},o.encode=function(e,t){return t||(t=n.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(10).bytes(e.message),t},o.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.Disconnect;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.message=e.bytes();break;default:e.skipType(7&a)}}return o},o.decodeDelimited=function(e){return e instanceof t||(e=new t(e)),this.decode(e,e.uint32())},o.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.message&&e.hasOwnProperty("message")&&!(e.message&&"number"==typeof e.message.length||r.isString(e.message))?"message: buffer expected":null},o.fromObject=function(e){if(e instanceof i.Disconnect)return e;var t=new i.Disconnect;return null!=e.message&&("string"==typeof e.message?r.base64.decode(e.message,t.message=r.newBuffer(r.base64.length(e.message)),0):e.message.length&&(t.message=e.message)),t},o.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.message="":(n.message=[],t.bytes!==Array&&(n.message=r.newBuffer(n.message)))),null!=e.message&&e.hasOwnProperty("message")&&(n.message=t.bytes===String?r.base64.encode(e.message,0,e.message.length):t.bytes===Array?Array.prototype.slice.call(e.message):e.message),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),i})?r.apply(t,i):r)||(e.exports=o)},function(e){e.exports=JSON.parse('["LoginResponse","Ping","ActionMove","ActionLook","ActionMoveLook","ActionMessage","ActionBlockPlace","ActionBlockBreak","ActionInventoryClick","ActionInventoryPick","ActionInventoryOpen","ActionInventoryClose","ActionClick","ActionClickEntity","ActionKeyPress","WorldChunkIsLoadedResponce","PluginMessage"]')},function(e){e.exports=JSON.parse('["LoginRequest","LoginStatus","LoginSuccess","Ping","PlayerKick","PlayerEntity","PlayerTeleport","PlayerInventory","PlayerSlotUpdate","PlayerApplyImpulse","PlayerUpdateMovement","PlayerUpdatePhysics","PlayerHealth","PlayerSetBlockReach","PlayerOpenInventory","SoundPlay","ChatMessage","UpdateTextBoard","EntityCreate","EntityRemove","EntityMove","EntityNameUpdate","EntityHeldItem","EntityArmor","EntityAnimate","WorldBlockUpdate","WorldMultiBlockUpdate","WorldChunkLoad","WorldChunkUnload","WorldChunkIsLoaded","WorldChunksRemoveAll","RegistryUpdate","EnvironmentFogUpdate","EnvironmentSkyUpdate","PluginMessage"]')},function(e){e.exports=JSON.parse('["AuthRequest","Data","VoxelSrvMessage"]')},function(e){e.exports=JSON.parse('["AuthResponce","Data","VoxelSrvMessage","Disconnect"]')},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){e.exports=JSON.parse('{"i8":{"enum":["i8"]},"u8":{"enum":["u8"]},"i16":{"enum":["i16"]},"u16":{"enum":["u16"]},"i32":{"enum":["i32"]},"u32":{"enum":["u32"]},"f32":{"enum":["f32"]},"f64":{"enum":["f64"]},"li8":{"enum":["li8"]},"lu8":{"enum":["lu8"]},"li16":{"enum":["li16"]},"lu16":{"enum":["lu16"]},"li32":{"enum":["li32"]},"lu32":{"enum":["lu32"]},"lf32":{"enum":["lf32"]},"lf64":{"enum":["lf64"]},"i64":{"enum":["i64"]},"li64":{"enum":["li64"]},"u64":{"enum":["u64"]},"lu64":{"enum":["lu64"]}}')},function(e,t,n){"use strict";var r=n(193).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";var r,i=n(76),o=n(247),a=n(158),s=n(159),u=n(142);function l(e,t){return e.msg=u[t],t}function c(e){return(e<<1)-(e>4?9:0)}function f(e){for(var t=e.length;--t>=0;)e[t]=0}function h(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function d(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,h(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function y(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,l=e.window,c=e.w_mask,f=e.prev,h=e.strstart+258,d=l[o+a-1],p=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===p&&l[n+a-1]===d&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<h);if(r=258-(h-o),o=h-258,r>a){if(e.match_start=t,a=r,r>=s)break;d=l[o+a-1],p=l[o+a]}}}while((t=f[t&c])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead}function v(e){var t,n,r,o,u,l,c,f,h,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-262)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=p?r-p:0}while(--n);t=n=p;do{r=e.prev[--t],e.prev[t]=r>=p?r-p:0}while(--n);o+=p}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,f=e.strstart+e.lookahead,h=o,d=void 0,(d=l.avail_in)>h&&(d=h),n=0===d?0:(l.avail_in-=d,i.arraySet(c,l.input,l.next_in,d,f),1===l.state.wrap?l.adler=a(l.adler,c,d,f):2===l.state.wrap&&(l.adler=s(l.adler,c,d,f)),l.next_in+=d,l.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=3)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+3-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function g(e,t){for(var n,r;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=y(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function b(e,t){for(var n,r,i;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=y(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(d(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&d(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function w(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):l(e,-2)}function k(e){var t,n=x(e);return 0===n&&((t=e.state).window_size=2*t.w_size,f(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function O(e,t,n,r,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return l(e,-2);8===r&&(r=9);var u=new _;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,k(e)}r=[new w(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(v(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,d(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(d(e,!1),e.strm.avail_out),1)})),new w(4,4,8,4,g),new w(4,5,16,8,g),new w(4,6,32,32,g),new w(4,4,16,16,b),new w(8,16,32,32,b),new w(8,16,128,128,b),new w(8,32,128,256,b),new w(32,128,258,1024,b),new w(32,258,258,4096,b)],t.deflateInit=function(e,t){return O(e,t,8,15,8,0)},t.deflateInit2=O,t.deflateReset=k,t.deflateResetKeep=x,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,i,a,u;if(!e||!e.state||t>5||t<0)return e?l(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return l(e,0===e.avail_out?-5:-2);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var y=8+(i.w_bits-8<<4)<<8;y|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(y|=32),y+=31-y%31,i.status=113,m(i,y),0!==i.strstart&&(m(i,e.adler>>>16),m(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&h(e),i.pending+2<=i.pending_buf_size&&(p(i,255&e.adler),p(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(h(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(n)&&4!==t)return l(e,-5);if(666===i.status&&0!==e.avail_in)return l(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var g=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(v(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=258){if(v(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==g&&4!==g||(i.status=666),1===g||3===g)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===g&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(f(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),h(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&e.adler),p(i,e.adler>>8&255),p(i,e.adler>>16&255),p(i,e.adler>>24&255),p(i,255&e.total_in),p(i,e.total_in>>8&255),p(i,e.total_in>>16&255),p(i,e.total_in>>24&255)):(m(i,e.adler>>>16),m(i,65535&e.adler)),h(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?l(e,-2):(e.state=null,113===t?l(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,o,s,u,l,c,h,d=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(f(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,d-n.w_size,n.w_size,0),t=h,d=n.w_size),u=e.avail_in,l=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,v(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=u,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(76);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);i(l);var c=new Array(60);i(c);var f=new Array(512);i(f);var h=new Array(256);i(h);var d=new Array(29);i(d);var p,m,y,v=new Array(30);function g(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?f[e]:f[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function x(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function k(e,t,n){x(e,n[2*t],n[2*t+1])}function O(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function P(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=O(o[s]++,s))}}function S(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function E(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function j(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function C(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&j(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!j(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function A(e,t,n){var r,i,s,u,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?k(e,i,t):(k(e,(s=h[i])+256+1,t),0!==(u=o[s])&&x(e,i-=d[s],u),k(e,s=w(--r),n),0!==(u=a[s])&&x(e,r-=v[s],u))}while(l<e.last_lit);k(e,256,t)}function T(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)C(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,C(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,u=t.dyn_tree,l=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,m++),u[2*r+1]=o,r>l||(e.bl_count[o]++,a=0,r>=d&&(a=h[r-d]),s=u[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>l||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),P(o,l,e.bl_count)}function I(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))}function z(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<l)do{k(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(k(e,i,e.bl_tree),s--),k(e,16,e.bl_tree),x(e,s-3,2)):s<=10?(k(e,17,e.bl_tree),x(e,s-3,3)):(k(e,18,e.bl_tree),x(e,s-11,7));s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4)}}i(v);var D=!1;function R(e,t,n,i){x(e,0+(i?1:0),3),function(e,t,n,i){E(e),i&&(_(e,n),_(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){D||(!function(){var e,t,n,r,i,u=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,e=0;e<1<<o[r];e++)h[n++]=r;for(h[n-1]=r,i=0,r=0;r<16;r++)for(v[r]=i,e=0;e<1<<a[r];e++)f[i++]=r;for(i>>=7;r<30;r++)for(v[r]=i<<7,e=0;e<1<<a[r]-7;e++)f[256+i++]=r;for(t=0;t<=15;t++)u[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,u[8]++;for(;e<=255;)l[2*e+1]=9,e++,u[9]++;for(;e<=279;)l[2*e+1]=7,e++,u[7]++;for(;e<=287;)l[2*e+1]=8,e++,u[8]++;for(P(l,287,u),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=O(e,5);p=new g(l,o,257,286,15),m=new g(c,a,0,30,15),y=new g(new Array(0),s,0,19,7)}(),D=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,y),e.bi_buf=0,e.bi_valid=0,S(e)},t._tr_stored_block=R,t._tr_flush_block=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),T(e,e.l_desc),T(e,e.d_desc),a=function(e){var t;for(I(e,e.dyn_ltree,e.l_desc.max_code),I(e,e.dyn_dtree,e.d_desc.max_code),T(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*u[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?R(e,t,n,r):4===e.strategy||o===i?(x(e,2+(r?1:0),3),A(e,l,c)):(x(e,4+(r?1:0),3),function(e,t,n,r){var i;for(x(e,t-257,5),x(e,n-1,5),x(e,r-4,4),i=0;i<r;i++)x(e,e.bl_tree[2*u[i]+1],3);z(e,e.dyn_ltree,t-1),z(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),A(e,e.dyn_ltree,e.dyn_dtree)),S(e),r&&E(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(h[n]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){x(e,2,3),k(e,256,l),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(76),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,l=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)l[r++]=i;else if((o=a[i])>4)l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return u(l,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";var r=n(76),i=n(158),o=n(159),a=n(250),s=n(251);function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):-2}function h(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):-2}function d(e,t){var n,r;return e?(r=new l,e.state=r,r.window=null,0!==(n=h(e,t))&&(e.state=null),n):-2}var p,m,y=!0;function v(e){if(y){var t;for(p=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),y=!1}e.lencode=p,e.lenbits=9,e.distcode=m,e.distbits=5}function g(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=f,t.inflateReset2=h,t.inflateResetKeep=c,t.inflateInit=function(e){return d(e,15)},t.inflateInit2=d,t.inflate=function(e,t){var n,l,c,f,h,d,p,m,y,b,w,_,x,k,O,P,S,E,j,C,A,T,I,z,D=0,R=new r.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),h=e.next_out,c=e.output,p=e.avail_out,f=e.next_in,l=e.input,d=e.avail_in,m=n.hold,y=n.bits,b=d,w=p,T=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}if(2&n.wrap&&35615===m){n.check=0,R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0),m=0,y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(y-=4,A=8+(15&(m>>>=4)),0===n.wbits)n.wbits=A;else if(A>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<A,e.adler=n.check=1,n.mode=512&m?10:12,m=0,y=0;break;case 2:for(;y<16;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0)),m=0,y=0,n.mode=3;case 3:for(;y<32;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}n.head&&(n.head.time=m),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,R[2]=m>>>16&255,R[3]=m>>>24&255,n.check=o(n.check,R,4,0)),m=0,y=0,n.mode=4;case 4:for(;y<16;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0)),m=0,y=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0)),m=0,y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((_=n.length)>d&&(_=d),_&&(n.head&&(A=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,l,f,_,A)),512&n.flags&&(n.check=o(n.check,l,_,f)),d-=_,f+=_,n.length-=_),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break e;_=0;do{A=l[f+_++],n.head&&A&&n.length<65536&&(n.head.name+=String.fromCharCode(A))}while(A&&_<d);if(512&n.flags&&(n.check=o(n.check,l,_,f)),d-=_,f+=_,A)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break e;_=0;do{A=l[f+_++],n.head&&A&&n.length<65536&&(n.head.comment+=String.fromCharCode(A))}while(A&&_<d);if(512&n.flags&&(n.check=o(n.check,l,_,f)),d-=_,f+=_,A)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}e.adler=n.check=u(m),m=0,y=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=y,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}switch(n.last=1&m,y-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6===t){m>>>=2,y-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,y-=2;break;case 14:for(m>>>=7&y,y-=7&y;y<32;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,y=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(_=n.length){if(_>d&&(_=d),_>p&&(_=p),0===_)break e;r.arraySet(c,l,f,_,h),d-=_,f+=_,p-=_,h+=_,n.length-=_;break}n.mode=12;break;case 17:for(;y<14;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}if(n.nlen=257+(31&m),m>>>=5,y-=5,n.ndist=1+(31&m),m>>>=5,y-=5,n.ncode=4+(15&m),m>>>=4,y-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}n.lens[M[n.have++]]=7&m,m>>>=3,y-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},T=s(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,T){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;P=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,S=65535&D,!((O=D>>>24)<=y);){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}if(S<16)m>>>=O,y-=O,n.lens[n.have++]=S;else{if(16===S){for(z=O+2;y<z;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}if(m>>>=O,y-=O,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}A=n.lens[n.have-1],_=3+(3&m),m>>>=2,y-=2}else if(17===S){for(z=O+3;y<z;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}y-=O,A=0,_=3+(7&(m>>>=O)),m>>>=3,y-=3}else{for(z=O+7;y<z;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}y-=O,A=0,_=11+(127&(m>>>=O)),m>>>=7,y-=7}if(n.have+_>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;_--;)n.lens[n.have++]=A}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I={bits:n.lenbits},T=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,T){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},T=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,T){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(d>=6&&p>=258){e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=y,a(e,w),h=e.next_out,c=e.output,p=e.avail_out,f=e.next_in,l=e.input,d=e.avail_in,m=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;P=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,S=65535&D,!((O=D>>>24)<=y);){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}if(P&&0==(240&P)){for(E=O,j=P,C=S;P=(D=n.lencode[C+((m&(1<<E+j)-1)>>E)])>>>16&255,S=65535&D,!(E+(O=D>>>24)<=y);){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}m>>>=E,y-=E,n.back+=E}if(m>>>=O,y-=O,n.back+=O,n.length=S,0===P){n.mode=26;break}if(32&P){n.back=-1,n.mode=12;break}if(64&P){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&P,n.mode=22;case 22:if(n.extra){for(z=n.extra;y<z;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;P=(D=n.distcode[m&(1<<n.distbits)-1])>>>16&255,S=65535&D,!((O=D>>>24)<=y);){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}if(0==(240&P)){for(E=O,j=P,C=S;P=(D=n.distcode[C+((m&(1<<E+j)-1)>>E)])>>>16&255,S=65535&D,!(E+(O=D>>>24)<=y);){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}m>>>=E,y-=E,n.back+=E}if(m>>>=O,y-=O,n.back+=O,64&P){e.msg="invalid distance code",n.mode=30;break}n.offset=S,n.extra=15&P,n.mode=24;case 24:if(n.extra){for(z=n.extra;y<z;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break e;if(_=w-p,n.offset>_){if((_=n.offset-_)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}_>n.wnext?(_-=n.wnext,x=n.wsize-_):x=n.wnext-_,_>n.length&&(_=n.length),k=n.window}else k=c,x=h-n.offset,_=n.length;_>p&&(_=p),p-=_,n.length-=_;do{c[h++]=k[x++]}while(--_);0===n.length&&(n.mode=21);break;case 26:if(0===p)break e;c[h++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===d)break e;d--,m|=l[f++]<<y,y+=8}if(w-=p,e.total_out+=w,n.total+=w,w&&(e.adler=n.check=n.flags?o(n.check,c,w,h-w):i(n.check,c,w,h-w)),w=p,(n.flags?m:u(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=0,y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===d)break e;d--,m+=l[f++]<<y,y+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=0,y=0}n.mode=29;case 29:T=1;break e;case 30:T=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=y,(n.wsize||w!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&g(e,e.output,e.next_out,w-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?o(n.check,c,w,e.next_out-w):i(n.check,c,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===w||4===t)&&0===T&&(T=-5),T)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,t,r,0)!==n.check?-3:g(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,u,l,c,f,h,d,p,m,y,v,g,b,w,_,x,k,O,P,S;n=e.state,r=e.next_in,P=e.input,i=r+(e.avail_in-5),o=e.next_out,S=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,m=n.lencode,y=n.distcode,v=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;e:do{p<15&&(d+=P[r++]<<p,p+=8,d+=P[r++]<<p,p+=8),b=m[d&v];t:for(;;){if(d>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))S[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(d&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&b,(w&=15)&&(p<w&&(d+=P[r++]<<p,p+=8),_+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=P[r++]<<p,p+=8,d+=P[r++]<<p,p+=8),b=y[d&g];n:for(;;){if(d>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=y[(65535&b)+(d&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&b,p<(w&=15)&&(d+=P[r++]<<p,(p+=8)<w&&(d+=P[r++]<<p,p+=8)),(x+=d&(1<<w)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=w,p-=w,x>(w=o-a)){if((w=x-w)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,O=h,0===f){if(k+=l-w,w<_){_-=w;do{S[o++]=h[k++]}while(--w);k=o-x,O=S}}else if(f<w){if(k+=l+f-w,(w-=f)<_){_-=w;do{S[o++]=h[k++]}while(--w);if(k=0,f<_){_-=w=f;do{S[o++]=h[k++]}while(--w);k=o-x,O=S}}}else if(k+=f-w,w<_){_-=w;do{S[o++]=h[k++]}while(--w);k=o-x,O=S}for(;_>2;)S[o++]=O[k++],S[o++]=O[k++],S[o++]=O[k++],_-=3;_&&(S[o++]=O[k++],_>1&&(S[o++]=O[k++]))}else{k=o-x;do{S[o++]=S[k++],S[o++]=S[k++],S[o++]=S[k++],_-=3}while(_>2);_&&(S[o++]=S[k++],_>1&&(S[o++]=S[k++]))}break}}break}}while(r<i&&o<s);r-=_=p>>3,d&=(1<<(p-=_<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(e,t,n){"use strict";var r=n(76),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,l,c,f,h){var d,p,m,y,v,g,b,w,_,x=h.bits,k=0,O=0,P=0,S=0,E=0,j=0,C=0,A=0,T=0,I=0,z=null,D=0,R=new r.Buf16(16),M=new r.Buf16(16),B=null,L=0;for(k=0;k<=15;k++)R[k]=0;for(O=0;O<u;O++)R[t[n+O]]++;for(E=x,S=15;S>=1&&0===R[S];S--);if(E>S&&(E=S),0===S)return l[c++]=20971520,l[c++]=20971520,h.bits=1,0;for(P=1;P<S&&0===R[P];P++);for(E<P&&(E=P),A=1,k=1;k<=15;k++)if(A<<=1,(A-=R[k])<0)return-1;if(A>0&&(0===e||1!==S))return-1;for(M[1]=0,k=1;k<15;k++)M[k+1]=M[k]+R[k];for(O=0;O<u;O++)0!==t[n+O]&&(f[M[t[n+O]]++]=O);if(0===e?(z=B=f,g=19):1===e?(z=i,D-=257,B=o,L-=257,g=256):(z=a,B=s,g=-1),I=0,O=0,k=P,v=c,j=E,C=0,m=-1,y=(T=1<<E)-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){b=k-C,f[O]<g?(w=0,_=f[O]):f[O]>g?(w=B[L+f[O]],_=z[D+f[O]]):(w=96,_=0),d=1<<k-C,P=p=1<<j;do{l[v+(I>>C)+(p-=d)]=b<<24|w<<16|_|0}while(0!==p);for(d=1<<k-1;I&d;)d>>=1;if(0!==d?(I&=d-1,I+=d):I=0,O++,0==--R[k]){if(k===S)break;k=t[n+f[O]]}if(k>E&&(I&y)!==m){for(0===C&&(C=E),v+=P,A=1<<(j=k-C);j+C<S&&!((A-=R[j+C])<=0);)j++,A<<=1;if(T+=1<<j,1===e&&T>852||2===e&&T>592)return 1;l[m=I&y]=E<<24|j<<16|v-c|0}}return 0!==I&&(l[v+I]=k-C<<24|64<<16|0),h.bits=E,0}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=()=>{};function i(){let e,t=!1,n=r;return[new Promise(r=>{t?r(e):n=r}),r=>{t=!0,e=r,n()}]}},function(e,t,n){"use strict";var r=n(129);class i extends r.a{constructor(){super(e=>(this._observers.add(e),()=>this._observers.delete(e))),this._observers=new Set}next(e){for(const t of this._observers)t.next(e)}error(e){for(const t of this._observers)t.error(e)}complete(){for(const e of this._observers)e.complete()}}t.a=i},function(e,t,n){"use strict";var r={};(0,n(76).assign)(r,n(371),n(372),n(176)),e.exports=r},,function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return f}));var r=n(6),i=n(19),o=n(105),a=n(59),s=n(182),u=n(45),l=n(33);let c={};function f(e,t){const n=new i.f;n.thickness=0,n.horizontalAlignment=2,n.zIndex=10,window.innerHeight>230*r.f?n.height=230*r.f+"px":n.height="100%",n.width=310*r.f+"px",n.background="#11111166";const f=new i.j;f.fontFamily="Lato",f.fontSize=11*r.f,f.textVerticalAlignment=0,f.color="white",f.text="Multiplayer",f.top=r.f,n.addControl(f);const p=new i.e;p.height=17*r.f+"px",p.width=266*r.f+"px",p.top=18*r.f+"px",p.left=5*r.f+"px",p.fontSize=6*r.f,p.verticalAlignment=0,p.horizontalAlignment=0,p.thickness=0,p.background="#ffffffaa",p.focusedBackground="#ffffffff",p.color="#666666",p.placeholderText="Server address",n.addControl(p);const m=new i.f;m.height=17*r.f+"px",m.width=34*r.f+"px",m.top=18*r.f+"px",m.left=-5*r.f+"px",m.verticalAlignment=0,m.horizontalAlignment=1,m.thickness=0,m.background="#4d4d4daa",m.color="#666666",m.onPointerClickObservable.add(()=>{""!=p.text&&Object(a.a)(e,p.text)});const y=new o.a;y.text=[{text:"Connect",color:"white",font:"Lato"}],y.textHorizontalAlignment=2,y.fontSize=6*r.f,m.onPointerEnterObservable.add(e=>{y.text.forEach(e=>e.underline=!0),y._markAsDirty(),m.background="#5d5d5daa"}),m.onPointerOutObservable.add(e=>{y.text.forEach(e=>e.underline=!1),y._markAsDirty(),m.background="#4d4d4daa"}),m.addControl(y),n.addControl(m);const v=new i.f;v.width=290*r.f+"px",v.height="70%",v.verticalAlignment=0,v.top=40*r.f+"px",v.background="#ffffffbb",v.thickness=0;const g=h();g.main.verticalAlignment=0,g.main.fontFamily="Lato",g.main.background="#88888855",g.main.fontSize=7*r.f;const b=new i.j;b.text="Name",b.color="#222222",g.name.addControl(b);const w=new i.j;w.text="Motd",w.color="#222222",g.motd.addControl(w);const _=new i.j;_.text="Players",_.color="#222222",g.players.addControl(_);const x=new i.j;x.text="Software",x.color="#222222",g.software.addControl(x),v.addControl(g.main),n.addControl(v);const k=new i.g;k.height=150*r.f+"px",k.top=16*r.f+"px",k.thickness=0,k.verticalAlignment=0,k.barSize=0,v.addControl(k);const O=new i.i;function P(){O.children.forEach(e=>{e.dispose()}),O.clearControls(),fetch("http://"+l.f+"/api/servers").then(e=>e.json()).then(e=>{c=e;const t=Object.values(e);t.sort(d),t.forEach(e=>{const t=h();t.icon.source="./servericons/"+e.icon+".png";const n=new i.j;n.text=e.name,n.color="#222222",t.name.addControl(n);const r=new i.j;r.text=e.motd,r.color="#222222",t.motd.addControl(r);const o=new i.j;o.text=`${e.players.online}/${e.players.max}`,o.color="#222222",t.players.addControl(o);const a=new i.j;a.text=e.software,a.color="#222222",t.software.addControl(a),t.main.background=e.featured?"#DAA52022":"#ffffff00",t.main.onPointerEnterObservable.add(n=>{t.main.background=e.featured?"#DAA52067":"#ffffff67"}),t.main.onPointerOutObservable.add(n=>{t.main.background=e.featured?"#DAA52022":"#ffffff00"});let u=0;t.main.onPointerClickObservable.add(t=>{console.log(e.compabilityLayer),p.text="0.30c"==e.compabilityLayer?"c0.30|"+(e.useProxy?"*":"")+e.ip:e.ip,u+=1,u>1&&m.onPointerClickObservable.notifyObservers(new i.l(new s.Vector2(0,0),0)),setTimeout(()=>{u=0},1e3)}),O.addControl(t.main)})})}O.fontFamily="Lato",O.width="100%",O.fontSize=6*r.f,O.verticalAlignment=0,k.addControl(O);const S=new i.f;S.height=17*r.f+"px",S.width=17*r.f+"px",S.top=-5*r.f+"px",S.left=-5*r.f+"px",S.verticalAlignment=1,S.horizontalAlignment=1,S.thickness=0,S.background="#4d4d4daa",S.color="#666666",S.onPointerClickObservable.add(()=>{P()});const E=new o.a;E.text=[{text:"â†»",color:"white",font:"Lato"}],E.textHorizontalAlignment=2,E.fontSize=11*r.f,S.onPointerEnterObservable.add(e=>{S.background="#5d5d5daa"}),S.onPointerOutObservable.add(e=>{S.background="#4d4d4daa"}),S.addControl(E),v.addControl(S);const j=Object(u.d)();j.item.verticalAlignment=1,j.text.text=[{text:"Go back to menu",color:"white",font:"Lato"}],j.item.onPointerClickObservable.add(()=>{n.dispose(),t("main")}),n.addControl(j.item),P();const C=e=>{window.innerHeight>230*r.f?n.height=230*r.f+"px":n.height="100%",n.width=310*r.f+"px",f.fontSize=11*r.f,p.height=17*r.f+"px",p.width=266*r.f+"px",p.top=18*r.f+"px",p.left=5*r.f+"px",p.fontSize=6*r.f,m.height=17*r.f+"px",m.width=34*r.f+"px",m.top=18*r.f+"px",m.left=-5*r.f+"px",y.fontSize=6*r.f,v.width=290*r.f+"px",v.top=40*r.f+"px",k.top=16*r.f+"px",g.main.fontSize=7*r.f,O.fontSize=6*r.f,k.height=150*r.f+"px",j.item.width=100*r.f+"px",j.item.height=18*r.f+"px",j.text.fontSize=10*r.f};return r.b.on("scale-change",C),n.onDisposeObservable.add(()=>{r.b.off("scale-change",C)}),n}function h(){const e=new i.f;e.height=16*r.f+"px",e.thickness=0;const t=new i.d;t.width=16*r.f+"px",t.horizontalAlignment=0,e.addControl(t);const n=new i.f;n.width="18%",n.left="5%",n.horizontalAlignment=0,n.thickness=0,e.addControl(n);const o=new i.f;o.width="47%",o.horizontalAlignment=0,o.left="23%",o.thickness=0,e.addControl(o);const a=new i.f;a.width="10%",a.horizontalAlignment=0,a.left="70%",a.thickness=0,e.addControl(a);const s=new i.f;s.width="20%",s.horizontalAlignment=0,s.left="80%",s.thickness=0,e.addControl(s);const u=()=>{e.height=16*r.f+"px",t.width=16*r.f+"px"};return r.b.on("scale-change",u),e.onDisposeObservable.add(()=>{r.b.off("scale-change",u)}),{main:e,icon:t,name:n,motd:o,players:a,software:s}}function d(e,t){return e.featured==t.featured?e.type==t.type?e.players.online<t.players.online?1:e.players.online==t.players.online?0:-1:0==e.type?-1:1:0==e.featured?1:-1}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return f}));var r=n(30),i=n(99);const o={},a={};let s;function u(e){s=e,s.ents.createComponent({name:"model",state:{models:{}}})}async function l(e,t,n,r,a,u,l,f){const h=s.rendering.getScene();null==o[n]?fetch(Object(i.a)(n,"model")).then(e=>e.json()).then(async i=>{o[n]=i,o[n].animations=void i.animations,c(n,i,r,l,u,e,t,f,h,a)}):c(n,o[n],r,l,u,e,t,f,h,a)}async function c(e,t,n,u,l,c,h,d,p,m){const y=await async function(e,t,n){const o=s.rendering.getScene(),u={main:null,models:{}};null==a[e]&&function(e,t){const n=s.rendering.getScene(),i=[t.geometry.texturewidth,t.geometry.textureheight],o=new r.f("main",n),u=t.geometry.bones;for(var l=0;l<u.length;l++){const e=u[l],t=e.cubes,a=new Array(t.length),f=e.pivot;for(let o=0;o<t.length;o++){let u=0;null!=t[o].inflate&&(u=t[o].inflate);const l=new Array(6),f=t[o].size,h=t[o].origin,d=t[o].uv;l[0]=new r.m((d[0]+f[2])/i[0],(i[1]-f[1]-f[2]-d[1])/i[1],(f[2]+f[0]+d[0])/i[0],(i[1]-f[2]-d[1])/i[1]),l[1]=new r.m((d[0]+2*f[2]+f[0])/i[0],(i[1]-f[1]-f[2]-d[1])/i[1],(2*f[2]+2*f[0]+d[0])/i[0],(i[1]-f[2]-d[1])/i[1]),l[2]=new r.m(d[0]/i[0],(i[1]-f[1]-f[2]-d[1])/i[1],(d[0]+f[2])/i[0],(i[1]-f[2]-d[1])/i[1]),l[3]=new r.m((d[0]+f[2]+f[0])/i[0],(i[1]-f[1]-f[2]-d[1])/i[1],(f[2]+2*f[0]+d[0])/i[0],(i[1]-f[2]-d[1])/i[1]),l[4]=new r.m((f[0]+f[2]+d[0])/i[0],(i[1]-f[2]-d[1])/i[1],(d[0]+f[2])/i[0],(i[1]-d[1])/i[1]),l[5]=new r.m((2*f[0]+f[2]+d[0])/i[0],(i[1]-f[2]-d[1])/i[1],(d[0]+f[2]+f[0])/i[0],(i[1]-d[1])/i[1]),a[o]=r.g.CreateBox("part-"+e.name+"-"+o,{height:.06*(f[1]+u),width:.06*(f[0]+u),depth:.06*(f[2]+u),faceUV:l,wrap:!0},n),a[o].position=new r.l(.06*-(h[0]+(f[0]-u/2)/2),.06*(h[1]+(f[1]-u/2)/2),.06*(h[2]+(f[2]-u/2)/2));var c=s.rendering.makeStandardMaterial("modelmaterial-"+e.name+"-"+o);a[o].material=c,a[o].opaque=!1}const h=r.f.MergeMeshes(a,!0,!0,void 0,!0,!0);h.setParent(o),h.setPivotMatrix(r.e.Translation(.06*-f[0],.06*-f[1],.06*-f[2]))}a[e]=o}(e,t);const l=a[e].clone(e,null,!1,!1);return s.rendering.addMeshToScene(l),l.getChildMeshes().forEach(e=>{let t=e.name.substr(12);t=t.substr(0,t.length-9);const a=s.rendering.makeStandardMaterial("modelmaterial-"+t);e.material=a,a.diffuseTexture=new r.k(Object(i.a)(n,"texture"),o,!0,!0,r.k.NEAREST_SAMPLINGMODE),a.diffuseTexture.hasAlpha=!0,s.rendering.addMeshToScene(e),u.models[t]=e}),u.main=l,u}(e,t,n);y.nametag=f(y.main,u,s.ents.getPositionData(c).height,l),s.ents.addComponent(c,"model",y);const v=r.g.CreateBox("hitbox-"+h,{height:d[1],width:d[0],depth:d[2]},p);v.setParent(y.main),v.setPositionWithLocalVector(new r.l(0,d[1]/2,0)),v.material=s.rendering.makeStandardMaterial(),v.isVisible=!1,s.rendering.addMeshToScene(v,!1),s.entities.addComponent(c,s.entities.names.mesh,{mesh:y.main,offset:m,animations:o[e].animations})}function f(e,t,n,i){console.log(e,t,n,i);const o=s.rendering.getScene(),a="bold 96px 'lato'",u=new r.d("DynamicTexture",64,o,!1).getContext();u.font=a;const l=u.measureText(t).width+8,c=l*(.3/144),f=new r.d("DynamicTexture",{width:l,height:144},o,!1),h=s.rendering.makeStandardMaterial("nametag");h.diffuseTexture=f,h.emissiveTexture=h.diffuseTexture,h.diffuseTexture.hasAlpha=!0,h.opacityTexture=h.diffuseTexture,f.drawText(t,null,null,a,"#eeeeee","#00000066",!0);const d=r.g.CreatePlane("plane",{width:c,height:.3},o);return d.material=h,d.opaque=!1,d.rotation.x=0,d.rotation.y=0,d.isVisible=i,d.setParent(e),d.setPositionWithLocalVector(new r.l(0,n+.2,0)),s.rendering.addMeshToScene(d),d}},function(e,t,n){e.exports=n(475)},,,,,,,,,,,,function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";let r;function i(){return r||(r=function(){try{throw new Error}catch(e){const t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return(""+t[0]).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}return"/"}()),r}n.d(t,"b",(function(){return P})),n.d(t,"f",(function(){return S.a})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return j}));const o="undefined"!=typeof navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,a=e=>/^(file|https?:)?\/\//i.test(e);function s(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}let u;function l(){return u||(u=function(){if("undefined"==typeof Worker)return class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}};class e extends Worker{constructor(e,t){"string"==typeof e&&t&&t._baseURL?e=new URL(e,t._baseURL):"string"==typeof e&&!a(e)&&i().match(/^file:\/\//i)&&(e=new URL(e,i().replace(/\/[^\/]+$/,"/")),e=s(`importScripts(${JSON.stringify(e)});`)),"string"==typeof e&&a(e)&&(e=s(`importScripts(${JSON.stringify(e)});`)),super(e,t)}}class t extends e{constructor(e,t){super(window.URL.createObjectURL(e),t)}static fromText(e,n){const r=new window.Blob([e],{type:"text/javascript"});return new t(r,n)}}return{blob:t,default:e}}()),u}function c(){const e="undefined"!=typeof self&&"undefined"!=typeof Window&&self instanceof Window;return!("undefined"==typeof self||!self.postMessage||e)}var f,h=n(91),d=n.n(h),p=n(261),m=n(618),y=n(129);function v(e){return Promise.all(e.map(e=>{const t=e=>({status:"fulfilled",value:e}),n=e=>({status:"rejected",reason:e}),r=Promise.resolve(e);try{return r.then(t,n)}catch(e){return Promise.reject(e)}}))}!function(e){e.initialized="initialized",e.taskCanceled="taskCanceled",e.taskCompleted="taskCompleted",e.taskFailed="taskFailed",e.taskQueued="taskQueued",e.taskQueueDrained="taskQueueDrained",e.taskStart="taskStart",e.terminated="terminated"}(f||(f={}));var g=n(66);function b(e){throw Error(e)}const w={errors:e=>e[g.a]||b("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:e=>e[g.b]||b("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:e=>e[g.c]()};var _=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};let x=1;class k{constructor(e,t){this.eventSubject=new p.a,this.initErrors=[],this.isClosing=!1,this.nextTaskID=1,this.taskQueue=[];const n="number"==typeof t?{size:t}:t||{},{size:r=o}=n;this.debug=d()("threads:pool:"+(n.name||String(x++)).replace(/\W/g," ").trim().replace(/\s+/g,"-")),this.options=n,this.workers=function(e,t){return function(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}(t).map(()=>({init:e(),runningTasks:[]}))}(e,r),this.eventObservable=Object(m.a)(y.a.from(this.eventSubject)),Promise.all(this.workers.map(e=>e.init)).then(()=>this.eventSubject.next({type:f.initialized,size:this.workers.length}),e=>{this.debug("Error while initializing pool worker:",e),this.eventSubject.error(e),this.initErrors.push(e)})}findIdlingWorker(){const{concurrency:e=1}=this.options;return this.workers.find(t=>t.runningTasks.length<e)}runPoolTask(e,t){return _(this,void 0,void 0,(function*(){const n=this.workers.indexOf(e)+1;this.debug(`Running task #${t.id} on worker #${n}...`),this.eventSubject.next({type:f.taskStart,taskID:t.id,workerID:n});try{const r=yield t.run(yield e.init);this.debug(`Task #${t.id} completed successfully`),this.eventSubject.next({type:f.taskCompleted,returnValue:r,taskID:t.id,workerID:n})}catch(e){this.debug(`Task #${t.id} failed`),this.eventSubject.next({type:f.taskFailed,taskID:t.id,error:e,workerID:n})}}))}run(e,t){return _(this,void 0,void 0,(function*(){const n=(()=>_(this,void 0,void 0,(function*(){var r;yield(r=0,new Promise(e=>setTimeout(e,r)));try{yield this.runPoolTask(e,t)}finally{e.runningTasks=e.runningTasks.filter(e=>e!==n),this.isClosing||this.scheduleWork()}})))();e.runningTasks.push(n)}))}scheduleWork(){this.debug("Attempt de-queueing a task in order to run it...");const e=this.findIdlingWorker();if(!e)return;const t=this.taskQueue.shift();if(!t)return this.debug("Task queue is empty"),void this.eventSubject.next({type:f.taskQueueDrained});this.run(e,t)}taskCompletion(e){return new Promise((t,n)=>{const r=this.events().subscribe(i=>{i.type===f.taskCompleted&&i.taskID===e?(r.unsubscribe(),t(i.returnValue)):i.type===f.taskFailed&&i.taskID===e?(r.unsubscribe(),n(i.error)):i.type===f.terminated&&(r.unsubscribe(),n(Error("Pool has been terminated before task was run.")))})})}settled(e=!1){return _(this,void 0,void 0,(function*(){const t=()=>{return e=this.workers,t=e=>e.runningTasks,e.reduce((e,n)=>[...e,...t(n)],[]);var e,t},n=[],r=this.eventObservable.subscribe(e=>{e.type===f.taskFailed&&n.push(e.error)});return this.initErrors.length>0?Promise.reject(this.initErrors[0]):e&&0===this.taskQueue.length?(yield v(t()),n):(yield new Promise((e,t)=>{const n=this.eventObservable.subscribe({next(t){t.type===f.taskQueueDrained&&(n.unsubscribe(),e())},error:t})}),yield v(t()),r.unsubscribe(),n)}))}completed(e=!1){return _(this,void 0,void 0,(function*(){const t=this.settled(e),n=new Promise((e,n)=>{const r=this.eventObservable.subscribe({next(i){i.type===f.taskQueueDrained?(r.unsubscribe(),e(t)):i.type===f.taskFailed&&(r.unsubscribe(),n(i.error))},error:n})}),r=yield Promise.race([t,n]);if(r.length>0)throw r[0]}))}events(){return this.eventObservable}queue(e){const{maxQueuedJobs:t=1/0}=this.options;if(this.isClosing)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(this.initErrors.length>0)throw this.initErrors[0];const n=this.nextTaskID++,r=this.taskCompletion(n);r.catch(e=>{this.debug(`Task #${n} errored:`,e)});const i={id:n,run:e,cancel:()=>{-1!==this.taskQueue.indexOf(i)&&(this.taskQueue=this.taskQueue.filter(e=>e!==i),this.eventSubject.next({type:f.taskCanceled,taskID:i.id}))},then:r.then.bind(r)};if(this.taskQueue.length>=t)throw Error("Maximum number of pool tasks queued. Refusing to queue another one.\nThis usually happens for one of two reasons: We are either at peak workload right now or some tasks just won't finish, thus blocking the pool.");return this.debug(`Queueing task #${i.id}...`),this.taskQueue.push(i),this.eventSubject.next({type:f.taskQueued,taskID:i.id}),this.scheduleWork(),i}terminate(e){return _(this,void 0,void 0,(function*(){this.isClosing=!0,e||(yield this.completed(!0)),this.eventSubject.next({type:f.terminated,remainingQueue:[...this.taskQueue]}),this.eventSubject.complete(),yield Promise.all(this.workers.map(e=>_(this,void 0,void 0,(function*(){return w.terminate(yield e.init)}))))}))}}function O(e,t){return new k(e,t)}k.EventType=f,O.EventType=f;const P=O;var S=n(196);const E=l().blob,j=l().default},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),i=n(19),o=n(45),a=n(33);function s(e,t){const n=new i.f;n.thickness=0,n.horizontalAlignment=2,n.zIndex=10,window.innerHeight>230*r.f?n.height=230*r.f+"px":n.height="100%",n.width=220*r.f+"px",n.background="#11111166";const s=new i.j;s.fontFamily="Lato",s.fontSize=11*r.f,s.textVerticalAlignment=0,s.color="white",s.text="Settings",s.top=r.f,n.addControl(s);const u=new i.g;u.verticalAlignment=0,u.top=18*r.f+"px",u.width=210*r.f+"px",u.height="80%",u.thickness=0,u.barColor="#ffffff44",u.barBackground="#00000000",u.verticalBar.thickness=0,n.addControl(u);const l=new i.i;u.addControl(l);const c=Object(o.c)();c.name.text="Nickname",c.input.placeholderText="Write your nickname",c.input.text=a.c.nickname,c.input.promptMessage="Enter your nickname",l.addControl(c.main);const f=Object(o.e)();f.name.text="Mouse sensitivity: "+a.c.mouse,f.slider.value=a.c.mouse,f.slider.minimum=1,f.slider.maximum=80,f.slider.step=1,f.slider.onValueChangedObservable.add(e=>{f.name.text="Mouse sensitivity: "+e}),l.addControl(f.main);const h=Object(o.e)();h.name.text="GUI scale: "+a.c.scale,h.slider.value=a.c.scale,h.slider.minimum=2,h.slider.maximum=5,h.slider.step=1,h.slider.onValueChangedObservable.add(e=>{h.name.text="GUI scale: "+e}),l.addControl(h.main);const d=Object(o.b)();d.name.text="Enable gamepad: "+a.c.gamepad,d.isChecked=a.c.gamepad,d.main.onPointerClickObservable.add(()=>{d.isChecked=!d.isChecked,d.name.text="Enable gamepad: "+d.isChecked}),l.addControl(d.main);const p=Object(o.e)();p.name.text="FOV: "+a.c.fov,p.slider.value=a.c.fov,p.slider.minimum=20,p.slider.maximum=120,p.slider.step=1,p.slider.onValueChangedObservable.add(e=>{p.name.text="FOV: "+e}),l.addControl(p.main);const m=Object(o.e)();m.name.text="View Distance: "+a.c.viewDistance,m.slider.value=a.c.viewDistance,m.slider.minimum=2,m.slider.maximum=16,m.slider.step=1,m.slider.onValueChangedObservable.add(e=>{m.name.text="View Distance: "+e}),l.addControl(m.main);const y=Object(o.b)();y.name.text="Enable debug info: "+a.c.debugInfo,y.isChecked=a.c.debugInfo,y.main.onPointerClickObservable.add(()=>{y.isChecked=!y.isChecked,y.name.text="Enable debug info: "+y.isChecked}),l.addControl(y.main);const v=Object(o.d)();v.item.verticalAlignment=1,v.text.text=[{text:"Back",color:"white",font:"Lato"}],v.item.onPointerClickObservable.add(()=>{Object(a.l)({nickname:c.input.text,mouse:f.slider.value,scale:h.slider.value,gamepad:d.isChecked,viewDistance:m.slider.value,fov:p.slider.value,debugInfo:y.isChecked}),e.camera.sensitivityX=f.slider.value,e.camera.sensitivityY=f.slider.value,e.world.chunkAddDistance=m.slider.value,e.world.chunkRemoveDistance=m.slider.value+.5,e.rendering.getScene().cameras[0].fov=p.slider.value*Math.PI/180,n.dispose(),t("main")}),n.addControl(v.item);const g=e=>{window.innerHeight>230*r.f?n.height=230*r.f+"px":n.height="100%",n.width=220*r.f+"px",s.fontSize=11*r.f,u.top=18*r.f+"px",u.width=210*r.f+"px",v.item.width=100*r.f+"px",v.item.height=18*r.f+"px",v.text.fontSize=10*r.f};return r.b.on("scale-change",g),n.onDisposeObservable.add(()=>{r.b.off("scale-change",g)}),n}},function(e,t){e.exports=function(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(e,t,n){e.exports=function(e,t){var n=r(e[0],e[1],e[2]),a=r(t[0],t[1],t[2]);i(n,n),i(a,a);var s=o(n,a);return s>1?0:Math.acos(s)};var r=n(209),i=n(210),o=n(211)},function(e,t){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},function(e,t){e.exports=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}},function(e,t,n){e.exports=function(e,t){var n=e[0],i=e[1],o=e[2],a=t[0],s=t[1],u=t[2];return Math.abs(n-a)<=r*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r*Math.max(1,Math.abs(o),Math.abs(u))};var r=n(207)},function(e,t){e.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}},function(e,t,n){e.exports=n(212)},function(e,t,n){e.exports=n(213)},function(e,t,n){e.exports=n(214)},function(e,t){e.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}},function(e,t){e.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}},function(e,t){e.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}},function(e,t){e.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}},function(e,t){e.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}},function(e,t){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}},function(e,t,n){e.exports=n(215)},function(e,t,n){e.exports=n(216)},function(e,t,n){e.exports=n(217)},function(e,t,n){e.exports=n(218)},function(e,t){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}},function(e,t){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}},function(e,t){e.exports=function(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}},function(e,t){e.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,f=l*i+u*r-a*o,h=l*o+a*i-s*r,d=-a*r-s*i-u*o;return e[0]=c*l+d*-a+f*-u-h*-s,e[1]=f*l+d*-s+h*-a-c*-u,e[2]=h*l+d*-u+c*-s-f*-a,e}},function(e,t){e.exports=function(e,t,n,r){var i=n[1],o=n[2],a=t[1]-i,s=t[2]-o,u=Math.sin(r),l=Math.cos(r);return e[0]=t[0],e[1]=i+a*l-s*u,e[2]=o+a*u+s*l,e}},function(e,t){e.exports=function(e,t,n,r){var i=n[0],o=n[2],a=t[0]-i,s=t[2]-o,u=Math.sin(r),l=Math.cos(r);return e[0]=i+s*u+a*l,e[1]=t[1],e[2]=o+s*l-a*u,e}},function(e,t){e.exports=function(e,t,n,r){var i=n[0],o=n[1],a=t[0]-i,s=t[1]-o,u=Math.sin(r),l=Math.cos(r);return e[0]=i+a*l-s*u,e[1]=o+a*u+s*l,e[2]=t[2],e}},function(e,t,n){e.exports=function(e,t,n,i,o,a){var s,u;t||(t=3);n||(n=0);u=i?Math.min(i*t+n,e.length):e.length;for(s=n;s<u;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],o(r,r,a),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2];return e};var r=n(208)()},function(e,t,n){"use strict";e.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},,,,,,,function(e,t,n){e.exports=i;var r=n(77);function i(e,t){if(!(this instanceof i))return new i(e,t);var n=r.create();r.add(n,e,t),this.base=r.min(r.create(),e,n),this.vec=r.clone(t),this.max=r.max(r.create(),e,n),this.mag=r.length(this.vec)}var o=i.prototype;o.width=function(){return this.vec[0]},o.height=function(){return this.vec[1]},o.depth=function(){return this.vec[2]},o.x0=function(){return this.base[0]},o.y0=function(){return this.base[1]},o.z0=function(){return this.base[2]},o.x1=function(){return this.max[0]},o.y1=function(){return this.max[1]},o.z1=function(){return this.max[2]},o.translate=function(e){return r.add(this.max,this.max,e),r.add(this.base,this.base,e),this},o.setPosition=function(e){return r.add(this.max,e,this.vec),r.copy(this.base,e),this},o.expand=function(e){var t=r.create(),n=r.create();return r.max(t,e.max,this.max),r.min(n,e.base,this.base),r.subtract(t,t,n),new i(n,t)},o.intersects=function(e){return!(e.base[0]>this.max[0])&&(!(e.base[1]>this.max[1])&&(!(e.base[2]>this.max[2])&&(!(e.max[0]<this.base[0])&&(!(e.max[1]<this.base[1])&&!(e.max[2]<this.base[2])))))},o.touches=function(e){var t=this.union(e);return null!==t&&(0==t.width()||0==t.height()||0==t.depth())},o.union=function(e){if(!this.intersects(e))return null;var t=Math.max(e.base[0],this.base[0]),n=Math.max(e.base[1],this.base[1]),r=Math.max(e.base[2],this.base[2]);return new i([t,n,r],[Math.min(e.max[0],this.max[0])-t,Math.min(e.max[1],this.max[1])-n,Math.min(e.max[2],this.max[2])-r])}},function(e,t,n){"use strict";(function(e){var r=n(356),i=n(461),o=n(84).Buffer;e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s="undefined"!=typeof BigUint64Array,u="undefined"!=typeof BigInt64Array,l=e.__TYPEDARRAY_POOL;l.UINT8C||(l.UINT8C=i([32,0])),l.BIGUINT64||(l.BIGUINT64=i([32,0])),l.BIGINT64||(l.BIGINT64=i([32,0])),l.BUFFER||(l.BUFFER=i([32,0]));var c=l.DATA,f=l.BUFFER;function h(e){if(e){var t=e.length||e.byteLength,n=r.log2(t);c[n].push(e)}}function d(e){e=r.nextPow2(e);var t=r.log2(e),n=c[t];return n.length>0?n.pop():new ArrayBuffer(e)}function p(e){return new Uint8Array(d(e),0,e)}function m(e){return new Uint16Array(d(2*e),0,e)}function y(e){return new Uint32Array(d(4*e),0,e)}function v(e){return new Int8Array(d(e),0,e)}function g(e){return new Int16Array(d(2*e),0,e)}function b(e){return new Int32Array(d(4*e),0,e)}function w(e){return new Float32Array(d(4*e),0,e)}function _(e){return new Float64Array(d(8*e),0,e)}function x(e){return a?new Uint8ClampedArray(d(e),0,e):p(e)}function k(e){return s?new BigUint64Array(d(8*e),0,e):null}function O(e){return u?new BigInt64Array(d(8*e),0,e):null}function P(e){return new DataView(d(e),0,e)}function S(e){e=r.nextPow2(e);var t=r.log2(e),n=f[t];return n.length>0?n.pop():new o(e)}t.free=function(e){if(o.isBuffer(e))f[r.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|r.log2(t);c[n].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeBigUint64=t.freeInt8=t.freeInt16=t.freeInt32=t.freeBigInt64=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=function(e){h(e.buffer)},t.freeArrayBuffer=h,t.freeBuffer=function(e){f[r.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return d(e);switch(t){case"uint8":return p(e);case"uint16":return m(e);case"uint32":return y(e);case"int8":return v(e);case"int16":return g(e);case"int32":return b(e);case"float":case"float32":return w(e);case"double":case"float64":return _(e);case"uint8_clamped":return x(e);case"bigint64":return O(e);case"biguint64":return k(e);case"buffer":return S(e);case"data":case"dataview":return P(e);default:return null}return null},t.mallocArrayBuffer=d,t.mallocUint8=p,t.mallocUint16=m,t.mallocUint32=y,t.mallocInt8=v,t.mallocInt16=g,t.mallocInt32=b,t.mallocFloat32=t.mallocFloat=w,t.mallocFloat64=t.mallocDouble=_,t.mallocUint8Clamped=x,t.mallocBigUint64=k,t.mallocBigInt64=O,t.mallocDataView=P,t.mallocBuffer=S,t.clearCache=function(){for(var e=0;e<32;++e)l.UINT8[e].length=0,l.UINT16[e].length=0,l.UINT32[e].length=0,l.INT8[e].length=0,l.INT16[e].length=0,l.INT32[e].length=0,l.FLOAT[e].length=0,l.DOUBLE[e].length=0,l.BIGUINT64[e].length=0,l.BIGINT64[e].length=0,l.UINT8C[e].length=0,c[e].length=0,f[e].length=0}}).call(this,n(55))},function(e,t,n){"use strict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+d]=255&a,d+=p,a/=256,l-=8);e[n+d-p]|=128*m}},function(e,t,n){e.exports=function(e){function t(e){let n;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),a=i-(n||i);r.diff=a,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n}),t.formatArgs.call(r,e);(r.log||t.log).apply(r,e)}return o.namespace=e,o.enabled=t.enabled(e),o.useColors=t.useColors(),o.color=t.selectColor(e),o.destroy=r,o.extend=i,"function"==typeof t.init&&t.init(o),t.instances.push(o),o}function r(){const e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function i(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){const e=t.instances[n];e.enabled=t.enabled(e.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(360),Object.keys(e).forEach(n=>{t[n]=e[n]}),t.instances=[],t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return a(e,t,o,"day");if(t>=i)return a(e,t,i,"hour");if(t>=r)return a(e,t,r,"minute");if(t>=n)return a(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=n(482),i=n(362),o=n(189),a=n(408),s=n(484);function u(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return u.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof a)return p(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,s,c=l.call(this,t,n);return c&&(i=c.schema,t=c.root,s=c.baseId),i instanceof a?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=p(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function l(e,t){var n=r.parse(t),i=y(n),o=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var s=g(i),u=this._refs[s];if("string"==typeof u)return c.call(this,e,u,n);if(u instanceof a)u.validate||this._compile(u),e=u;else{if(!((u=this._schemas[s])instanceof a))return;if(u.validate||this._compile(u),s==g(t))return{schema:u,root:e,baseId:o};e=u}if(!e.schema)return;o=m(this._getId(e.schema))}return h.call(this,n,o,e.schema,e)}function c(e,t,n){var r=l.call(this,e,t);if(r){var i=r.schema,o=r.baseId;e=r.root;var a=this._getId(i);return a&&(o=b(o,a)),h.call(this,n,o,i,e)}}e.exports=u,u.normalizeId=g,u.fullPath=m,u.url=b,u.ids=function(e){var t=g(this._getId(e)),n={"":t},a={"":m(t,!1)},u={},l=this;return s(e,{allKeys:!0},(function(e,t,s,c,f,h,d){if(""!==t){var p=l._getId(e),m=n[c],y=a[c]+"/"+f;if(void 0!==d&&(y+="/"+("number"==typeof d?d:o.escapeFragment(d))),"string"==typeof p){p=m=g(m?r.resolve(m,p):p);var v=l._refs[p];if("string"==typeof v&&(v=l._refs[v]),v&&v.schema){if(!i(e,v.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=g(y))if("#"==p[0]){if(u[p]&&!i(e,u[p]))throw new Error('id "'+p+'" resolves to more than one schema');u[p]=e}else l._refs[p]=y}n[t]=m,a[t]=y}})),u},u.inlineRef=p,u.schema=l;var f=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(void 0===(n=n[s=o.unescapeFragment(s)]))break;var u;if(!f[s]&&((u=this._getId(n))&&(t=b(t,u)),n.$ref)){var c=b(t,n.$ref),h=l.call(this,r,c);h&&(n=h.schema,r=h.root,t=h.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var d=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var n;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(n=t[r])&&!e(n))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(n=t[i])&&!e(n))return!1}return!0}(e):t?function e(t){var n,r=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(n=t[i])&&(r+=e(n)),r==1/0)return 1/0}else for(var o in t){if("$ref"==o)return 1/0;if(d[o])r++;else if("object"==typeof(n=t[o])&&(r+=e(n)+1),r==1/0)return 1/0}return r}(e)<=t:void 0)}function m(e,t){return!1!==t&&(e=g(e)),y(r.parse(e))}function y(e){return r.serialize(e).split("#")[0]+"#"}var v=/#\/?$/;function g(e){return e?e.replace(v,""):""}function b(e,t){return t=g(t),r.resolve(e,t)}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";var r=n(361);function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e){e.exports=JSON.parse('{"array":{"title":"array","type":"array","items":[{"enum":["array"]},{"oneOf":[{"type":"object","properties":{"type":{"$ref":"dataType"},"countType":{"$ref":"dataType"}},"additionalProperties":false,"required":["type","countType"]},{"type":"object","properties":{"type":{"$ref":"dataType"},"count":{"$ref":"definitions#/definitions/dataTypeArgsCount"}},"additionalProperties":false,"required":["type","count"]}]}],"additionalItems":false},"count":{"title":"count","type":"array","items":[{"enum":["count"]},{"type":"object","properties":{"countFor":{"$ref":"definitions#/definitions/contextualizedFieldName"},"type":{"$ref":"dataType"}},"required":["countFor","type"],"additionalProperties":false}],"additionalItems":false},"container":{"title":"container","type":"array","items":[{"enum":["container"]},{"type":"array","items":{"type":"object","properties":{"anon":{"type":"boolean"},"name":{"$ref":"definitions#/definitions/fieldName"},"type":{"$ref":"dataType"}},"oneOf":[{"required":["anon"]},{"required":["name"]}],"required":["type"],"additionalProperties":false},"additionalItems":false}],"additionalItems":false}}')},function(e,t,n){(function(t){const r=n(522).Transform;e.exports={Serializer:class extends r{constructor(e,n){super({writableObjectMode:!0}),this.proto=e,this.mainType=n,this.queue=t.alloc(0)}createPacketBuffer(e){return this.proto.createPacketBuffer(this.mainType,e)}_transform(e,t,n){let r;try{r=this.createPacketBuffer(e)}catch(e){return n(e)}return this.push(r),n()}},Parser:class extends r{constructor(e,n){super({readableObjectMode:!0}),this.proto=e,this.mainType=n,this.queue=t.alloc(0)}parsePacketBuffer(e){return this.proto.parsePacketBuffer(this.mainType,e)}_transform(e,n,r){for(this.queue=t.concat([this.queue,e]);;){let e;try{e=this.parsePacketBuffer(this.queue)}catch(e){return e.partialReadError?r():(e.buffer=this.queue,this.queue=t.alloc(0),r(e))}this.push(e),this.queue=this.queue.slice(e.metadata.size)}}},FullPacketParser:class extends r{constructor(e,t,n=!1){super({readableObjectMode:!0}),this.proto=e,this.mainType=t,this.noErrorLogging=n}parsePacketBuffer(e){return this.proto.parsePacketBuffer(this.mainType,e)}_transform(e,t,n){let r;try{r=this.parsePacketBuffer(e),r.metadata.size===e.length||this.noErrorLogging||console.log("Chunk size is "+e.length+" but only "+r.metadata.size+" was read ; partial packet : "+JSON.stringify(r.data)+"; buffer :"+e.toString("hex"))}catch(e){return e.partialReadError?(this.noErrorLogging||console.log(e.stack),n()):n(e)}this.push(r),n()}}}}).call(this,n(84).Buffer)},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(55))},function(e,t,n){"use strict";var r=n(191).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||c()},l=t._writableState&&t._writableState.finished,c=function(){s=!1,l=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){a=!1,f=!0,s||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!l?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",c)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",c),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",h),t.on("finish",c),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",p)}}},function(e,t,n){"use strict";var r=n(246),i=n(76),o=n(248),a=n(142),s=n(175),u=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}l.prototype.push=function(e,t){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===u.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},function(e,t,n){"use strict";var r=n(249),i=n(76),o=n(248),a=n(176),s=n(142),u=n(175),l=n(373),c=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new l,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function h(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,u,l,f,h=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(h.output,h.next_out),l=h.next_out-u,f=o.buf2string(h.output,u),h.next_out=l,h.avail_out=d-l,l&&i.arraySet(h.output,h.output,u,l,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"updatePositionExtents",(function(){return i}));var r=n(77);function i(e){var t=e.width/2,n=e._localPosition,r=e._extents;r[0]=n[0]-t,r[1]=n[1],r[2]=n[2]-t,r[3]=n[0]+t,r[4]=n[1]+e.height,r[5]=n[2]+t}t.default=function(e){return{name:"position",order:60,state:{position:null,width:1,height:1,_localPosition:null,_renderPosition:null,_extents:null},onAdd:function(t,n){var o=[0,0,0];n.position&&r.copy(o,n.position),n.position=o,n._localPosition=r.create(),n._renderPosition=r.create(),n._extents=new Float32Array(6),e.globalToLocal(n.position,null,n._localPosition),r.copy(n._renderPosition,n._localPosition),i(n)},onRemove:null,system:function(t,n){var o=e.worldOriginOffset;n.forEach(e=>{r.add(e.position,e._localPosition,o),i(e)})}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"setPhysicsFromPosition",(function(){return o}));var r=n(77);t.default=function(e){return{name:"physics",order:40,state:{body:null},onAdd:function(t,n){n.body=e.physics.addBody(),o(n,e.ents.getPositionData(n.__id))},onRemove:function(t,n){if(e.ents.hasPosition(n.__id)){var r=e.ents.getPositionData(n.__id);a(n,r),s(n,r,0,!1)}e.physics.removeBody(n.body)},system:function(t,n){n.forEach(t=>{a(t,e.ents.getPositionData(t.__id))})},renderSystem:function(t,n){var r=e.positionInCurrentTick,i=1e3/e.container._shell.tickRate,o=(r*i-i)/1e3;n.forEach(t=>{var n=t.__id,r=e.ents.getPositionData(n),i=e.ents.cameraSmoothed(n);s(t,r,o,i)})}}};var i=r.create();function o(e,t){var n=e.body.aabb,i=t._extents;r.copy(n.base,i),r.set(n.vec,t.width,t.height,t.width),r.add(n.max,n.base,n.vec)}function a(e,t){var n=e.body.aabb.base,i=t.width/2;r.set(t._localPosition,n[0]+i,n[1],n[2]+i)}function s(e,t,n,o){var a=e.body.velocity;r.scaleAndAdd(i,t._localPosition,a,n),o&&r.lerp(i,t._renderPosition,i,.3),r.copy(t._renderPosition,i)}},function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",c="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",v="[object Object]",g="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",x="[object WeakMap]",k="[object ArrayBuffer]",O="[object DataView]",P="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",j="[object Int16Array]",C="[object Int32Array]",A="[object Uint8Array]",T="[object Uint16Array]",I="[object Uint32Array]",z=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,B=/[&<>"']/g,L=RegExp(M.source),F=RegExp(B.source),N=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,K=RegExp(H.source),J=/^\s+|\s+$/g,G=/^\s+/,Y=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,X=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",me="["+de+"]",ye="["+he+"]",ve="\\d+",ge="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",we="[^\\ud800-\\udfff"+de+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_e="\\ud83c[\\udffb-\\udfff]",xe="[^\\ud800-\\udfff]",ke="(?:\\ud83c[\\udde6-\\uddff]){2}",Oe="[\\ud800-\\udbff][\\udc00-\\udfff]",Pe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Se="(?:"+be+"|"+we+")",Ee="(?:"+Pe+"|"+we+")",je="(?:"+ye+"|"+_e+")"+"?",Ce="[\\ufe0e\\ufe0f]?"+je+("(?:\\u200d(?:"+[xe,ke,Oe].join("|")+")[\\ufe0e\\ufe0f]?"+je+")*"),Ae="(?:"+[ge,ke,Oe].join("|")+")"+Ce,Te="(?:"+[xe+ye+"?",ye,ke,Oe,pe].join("|")+")",Ie=RegExp("['â€™]","g"),ze=RegExp(ye,"g"),De=RegExp(_e+"(?="+_e+")|"+Te+Ce,"g"),Re=RegExp([Pe+"?"+be+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?(?="+[me,Pe,"$"].join("|")+")",Ee+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?(?="+[me,Pe+Se,"$"].join("|")+")",Pe+"?"+Se+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?",Pe+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Ae].join("|"),"g"),Me=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Be=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Le=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,Ne={};Ne[P]=Ne[S]=Ne[E]=Ne[j]=Ne[C]=Ne[A]=Ne["[object Uint8ClampedArray]"]=Ne[T]=Ne[I]=!0,Ne[u]=Ne[l]=Ne[k]=Ne[c]=Ne[O]=Ne[f]=Ne[h]=Ne[d]=Ne[m]=Ne[y]=Ne[v]=Ne[g]=Ne[b]=Ne[w]=Ne[x]=!1;var Ue={};Ue[u]=Ue[l]=Ue[k]=Ue[O]=Ue[c]=Ue[f]=Ue[P]=Ue[S]=Ue[E]=Ue[j]=Ue[C]=Ue[m]=Ue[y]=Ue[v]=Ue[g]=Ue[b]=Ue[w]=Ue[_]=Ue[A]=Ue["[object Uint8ClampedArray]"]=Ue[T]=Ue[I]=!0,Ue[h]=Ue[d]=Ue[x]=!1;var $e={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ve=parseFloat,qe=parseInt,We="object"==typeof e&&e&&e.Object===Object&&e,He="object"==typeof self&&self&&self.Object===Object&&self,Ke=We||He||Function("return this")(),Je=t&&!t.nodeType&&t,Ge=Je&&"object"==typeof r&&r&&!r.nodeType&&r,Ye=Ge&&Ge.exports===Je,Ze=Ye&&We.process,Qe=function(){try{var e=Ge&&Ge.require&&Ge.require("util").types;return e||Ze&&Ze.binding&&Ze.binding("util")}catch(e){}}(),Xe=Qe&&Qe.isArrayBuffer,et=Qe&&Qe.isDate,tt=Qe&&Qe.isMap,nt=Qe&&Qe.isRegExp,rt=Qe&&Qe.isSet,it=Qe&&Qe.isTypedArray;function ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function at(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ct(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function ft(e,t){return!!(null==e?0:e.length)&&_t(e,t,0)>-1}function ht(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function mt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function yt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var gt=Pt("length");function bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function wt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function _t(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):wt(e,kt,n)}function xt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function kt(e){return e!=e}function Ot(e,t){var n=null==e?0:e.length;return n?jt(e,t)/n:NaN}function Pt(e){return function(t){return null==t?void 0:t[e]}}function St(e){return function(t){return null==e?void 0:e[t]}}function Et(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function jt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ct(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function At(e){return function(t){return e(t)}}function Tt(e,t){return dt(t,(function(t){return e[t]}))}function It(e,t){return e.has(t)}function zt(e,t){for(var n=-1,r=e.length;++n<r&&_t(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length;n--&&_t(t,e[n],0)>-1;);return n}function Rt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Mt=St({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"}),Bt=St({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lt(e){return"\\"+$e[e]}function Ft(e){return Me.test(e)}function Nt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Ut(e,t){return function(n){return e(t(n))}}function $t(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function qt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Wt(e){return Ft(e)?function(e){var t=De.lastIndex=0;for(;De.test(e);)++t;return t}(e):gt(e)}function Ht(e){return Ft(e)?function(e){return e.match(De)||[]}(e):function(e){return e.split("")}(e)}var Kt=St({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Jt=function e(t){var n,r=(t=null==t?Ke:Jt.defaults(Ke.Object(),t,Jt.pick(Ke,Le))).Array,i=t.Date,he=t.Error,de=t.Function,pe=t.Math,me=t.Object,ye=t.RegExp,ve=t.String,ge=t.TypeError,be=r.prototype,we=de.prototype,_e=me.prototype,xe=t["__core-js_shared__"],ke=we.toString,Oe=_e.hasOwnProperty,Pe=0,Se=(n=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ee=_e.toString,je=ke.call(me),Ce=Ke._,Ae=ye("^"+ke.call(Oe).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=Ye?t.Buffer:void 0,De=t.Symbol,Me=t.Uint8Array,$e=Te?Te.allocUnsafe:void 0,We=Ut(me.getPrototypeOf,me),He=me.create,Je=_e.propertyIsEnumerable,Ge=be.splice,Ze=De?De.isConcatSpreadable:void 0,Qe=De?De.iterator:void 0,gt=De?De.toStringTag:void 0,St=function(){try{var e=Xi(me,"defineProperty");return e({},"",{}),e}catch(e){}}(),Gt=t.clearTimeout!==Ke.clearTimeout&&t.clearTimeout,Yt=i&&i.now!==Ke.Date.now&&i.now,Zt=t.setTimeout!==Ke.setTimeout&&t.setTimeout,Qt=pe.ceil,Xt=pe.floor,en=me.getOwnPropertySymbols,tn=Te?Te.isBuffer:void 0,nn=t.isFinite,rn=be.join,on=Ut(me.keys,me),an=pe.max,sn=pe.min,un=i.now,ln=t.parseInt,cn=pe.random,fn=be.reverse,hn=Xi(t,"DataView"),dn=Xi(t,"Map"),pn=Xi(t,"Promise"),mn=Xi(t,"Set"),yn=Xi(t,"WeakMap"),vn=Xi(me,"create"),gn=yn&&new yn,bn={},wn=Eo(hn),_n=Eo(dn),xn=Eo(pn),kn=Eo(mn),On=Eo(yn),Pn=De?De.prototype:void 0,Sn=Pn?Pn.valueOf:void 0,En=Pn?Pn.toString:void 0;function jn(e){if(qa(e)&&!za(e)&&!(e instanceof In)){if(e instanceof Tn)return e;if(Oe.call(e,"__wrapped__"))return jo(e)}return new Tn(e)}var Cn=function(){function e(){}return function(t){if(!Va(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function An(){}function Tn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function In(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Rn;++t<n;)this.add(e[t])}function Bn(e){var t=this.__data__=new Dn(e);this.size=t.size}function Ln(e,t){var n=za(e),r=!n&&Ia(e),i=!n&&!r&&Ba(e),o=!n&&!r&&!i&&Qa(e),a=n||r||i||o,s=a?Ct(e.length,ve):[],u=s.length;for(var l in e)!t&&!Oe.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ao(l,u))||s.push(l);return s}function Fn(e){var t=e.length;return t?e[Mr(0,t-1)]:void 0}function Nn(e,t){return Oo(vi(e),Gn(t,0,e.length))}function Un(e){return Oo(vi(e))}function $n(e,t,n){(void 0!==n&&!Ca(e[t],n)||void 0===n&&!(t in e))&&Kn(e,t,n)}function Vn(e,t,n){var r=e[t];Oe.call(e,t)&&Ca(r,n)&&(void 0!==n||t in e)||Kn(e,t,n)}function qn(e,t){for(var n=e.length;n--;)if(Ca(e[n][0],t))return n;return-1}function Wn(e,t,n,r){return er(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Hn(e,t){return e&&gi(t,ws(t),e)}function Kn(e,t,n){"__proto__"==t&&St?St(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Jn(e,t){for(var n=-1,i=t.length,o=r(i),a=null==e;++n<i;)o[n]=a?void 0:ms(e,t[n]);return o}function Gn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Yn(e,t,n,r,i,o){var a,s=1&t,l=2&t,h=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!Va(e))return e;var x=za(e);if(x){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Oe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return vi(e,a)}else{var z=no(e),D=z==d||z==p;if(Ba(e))return fi(e,s);if(z==v||z==u||D&&!i){if(a=l||D?{}:io(e),!s)return l?function(e,t){return gi(e,to(e),t)}(e,function(e,t){return e&&gi(t,_s(t),e)}(a,e)):function(e,t){return gi(e,eo(e),t)}(e,Hn(a,e))}else{if(!Ue[z])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case k:return hi(e);case c:case f:return new r(+e);case O:return function(e,t){var n=t?hi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case P:case S:case E:case j:case C:case A:case"[object Uint8ClampedArray]":case T:case I:return di(e,n);case m:return new r;case y:case w:return new r(e);case g:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new r;case _:return i=e,Sn?me(Sn.call(i)):{}}var i}(e,z,s)}}o||(o=new Bn);var R=o.get(e);if(R)return R;o.set(e,a),Ga(e)?e.forEach((function(r){a.add(Yn(r,t,n,r,e,o))})):Wa(e)&&e.forEach((function(r,i){a.set(i,Yn(r,t,n,i,e,o))}));var M=x?void 0:(h?l?Hi:Wi:l?_s:ws)(e);return st(M||e,(function(r,i){M&&(r=e[i=r]),Vn(a,i,Yn(r,t,n,i,e,o))})),a}function Zn(e,t,n){var r=n.length;if(null==e)return!r;for(e=me(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function Qn(e,t,n){if("function"!=typeof e)throw new ge(o);return wo((function(){e.apply(void 0,n)}),t)}function Xn(e,t,n,r){var i=-1,o=ft,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=dt(t,At(n))),r?(o=ht,a=!1):t.length>=200&&(o=It,a=!1,t=new Mn(t));e:for(;++i<s;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var h=l;h--;)if(t[h]===f)continue e;u.push(c)}else o(t,f,r)||u.push(c)}return u}jn.templateSettings={escape:N,evaluate:U,interpolate:$,variable:"",imports:{_:jn}},jn.prototype=An.prototype,jn.prototype.constructor=jn,Tn.prototype=Cn(An.prototype),Tn.prototype.constructor=Tn,In.prototype=Cn(An.prototype),In.prototype.constructor=In,zn.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zn.prototype.get=function(e){var t=this.__data__;if(vn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Oe.call(t,e)?t[e]:void 0},zn.prototype.has=function(e){var t=this.__data__;return vn?void 0!==t[e]:Oe.call(t,e)},zn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vn&&void 0===t?"__lodash_hash_undefined__":t,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(e){var t=this.__data__,n=qn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,!0)},Dn.prototype.get=function(e){var t=this.__data__,n=qn(t,e);return n<0?void 0:t[n][1]},Dn.prototype.has=function(e){return qn(this.__data__,e)>-1},Dn.prototype.set=function(e,t){var n=this.__data__,r=qn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(dn||Dn),string:new zn}},Rn.prototype.delete=function(e){var t=Zi(this,e).delete(e);return this.size-=t?1:0,t},Rn.prototype.get=function(e){return Zi(this,e).get(e)},Rn.prototype.has=function(e){return Zi(this,e).has(e)},Rn.prototype.set=function(e,t){var n=Zi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Mn.prototype.add=Mn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Mn.prototype.has=function(e){return this.__data__.has(e)},Bn.prototype.clear=function(){this.__data__=new Dn,this.size=0},Bn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Bn.prototype.get=function(e){return this.__data__.get(e)},Bn.prototype.has=function(e){return this.__data__.has(e)},Bn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Dn){var r=n.__data__;if(!dn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Rn(r)}return n.set(e,t),this.size=n.size,this};var er=_i(ur),tr=_i(lr,!0);function nr(e,t){var n=!0;return er(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function rr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!Za(a):n(a,s)))var s=a,u=o}return u}function ir(e,t){var n=[];return er(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function or(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=oo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?or(s,t-1,n,r,i):pt(i,s):r||(i[i.length]=s)}return i}var ar=xi(),sr=xi(!0);function ur(e,t){return e&&ar(e,t,ws)}function lr(e,t){return e&&sr(e,t,ws)}function cr(e,t){return ct(t,(function(t){return Na(e[t])}))}function fr(e,t){for(var n=0,r=(t=si(t,e)).length;null!=e&&n<r;)e=e[So(t[n++])];return n&&n==r?e:void 0}function hr(e,t,n){var r=t(e);return za(e)?r:pt(r,n(e))}function dr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":gt&&gt in me(e)?function(e){var t=Oe.call(e,gt),n=e[gt];try{e[gt]=void 0;var r=!0}catch(e){}var i=Ee.call(e);r&&(t?e[gt]=n:delete e[gt]);return i}(e):function(e){return Ee.call(e)}(e)}function pr(e,t){return e>t}function mr(e,t){return null!=e&&Oe.call(e,t)}function yr(e,t){return null!=e&&t in me(e)}function vr(e,t,n){for(var i=n?ht:ft,o=e[0].length,a=e.length,s=a,u=r(a),l=1/0,c=[];s--;){var f=e[s];s&&t&&(f=dt(f,At(t))),l=sn(f.length,l),u[s]=!n&&(t||o>=120&&f.length>=120)?new Mn(s&&f):void 0}f=e[0];var h=-1,d=u[0];e:for(;++h<o&&c.length<l;){var p=f[h],m=t?t(p):p;if(p=n||0!==p?p:0,!(d?It(d,m):i(c,m,n))){for(s=a;--s;){var y=u[s];if(!(y?It(y,m):i(e[s],m,n)))continue e}d&&d.push(m),c.push(p)}}return c}function gr(e,t,n){var r=null==(e=yo(e,t=si(t,e)))?e:e[So(Fo(t))];return null==r?void 0:ot(r,e,n)}function br(e){return qa(e)&&dr(e)==u}function wr(e,t,n,r,i){return e===t||(null==e||null==t||!qa(e)&&!qa(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=za(e),s=za(t),d=a?l:no(e),p=s?l:no(t),x=(d=d==u?v:d)==v,P=(p=p==u?v:p)==v,S=d==p;if(S&&Ba(e)){if(!Ba(t))return!1;a=!0,x=!1}if(S&&!x)return o||(o=new Bn),a||Qa(e)?Vi(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!o(new Me(e),new Me(t)));case c:case f:case y:return Ca(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case w:return e==t+"";case m:var s=Nt;case b:var u=1&r;if(s||(s=Vt),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var d=Vi(s(e),s(t),r,i,o,a);return a.delete(e),d;case _:if(Sn)return Sn.call(e)==Sn.call(t)}return!1}(e,t,d,n,r,i,o);if(!(1&n)){var E=x&&Oe.call(e,"__wrapped__"),j=P&&Oe.call(t,"__wrapped__");if(E||j){var C=E?e.value():e,A=j?t.value():t;return o||(o=new Bn),i(C,A,n,r,o)}}if(!S)return!1;return o||(o=new Bn),function(e,t,n,r,i,o){var a=1&n,s=Wi(e),u=s.length,l=Wi(t).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var f=s[c];if(!(a?f in t:Oe.call(t,f)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);var m=a;for(;++c<u;){f=s[c];var y=e[f],v=t[f];if(r)var g=a?r(v,y,f,t,e,o):r(y,v,f,e,t,o);if(!(void 0===g?y===v||i(y,v,n,r,o):g)){p=!1;break}m||(m="constructor"==f)}if(p&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o)}(e,t,n,r,wr,i))}function _r(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=me(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],l=e[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in e))return!1}else{var f=new Bn;if(r)var h=r(l,c,u,e,t,f);if(!(void 0===h?wr(c,l,3,r,f):h))return!1}}return!0}function xr(e){return!(!Va(e)||(t=e,Se&&Se in t))&&(Na(e)?Ae:ae).test(Eo(e));var t}function kr(e){return"function"==typeof e?e:null==e?Hs:"object"==typeof e?za(e)?Cr(e[0],e[1]):jr(e):tu(e)}function Or(e){if(!fo(e))return on(e);var t=[];for(var n in me(e))Oe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Pr(e){if(!Va(e))return function(e){var t=[];if(null!=e)for(var n in me(e))t.push(n);return t}(e);var t=fo(e),n=[];for(var r in e)("constructor"!=r||!t&&Oe.call(e,r))&&n.push(r);return n}function Sr(e,t){return e<t}function Er(e,t){var n=-1,i=Ra(e)?r(e.length):[];return er(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function jr(e){var t=Qi(e);return 1==t.length&&t[0][2]?po(t[0][0],t[0][1]):function(n){return n===e||_r(n,e,t)}}function Cr(e,t){return uo(e)&&ho(t)?po(So(e),t):function(n){var r=ms(n,e);return void 0===r&&r===t?ys(n,e):wr(t,r,3)}}function Ar(e,t,n,r,i){e!==t&&ar(t,(function(o,a){if(i||(i=new Bn),Va(o))!function(e,t,n,r,i,o,a){var s=go(e,n),u=go(t,n),l=a.get(u);if(l)return void $n(e,n,l);var c=o?o(s,u,n+"",e,t,a):void 0,f=void 0===c;if(f){var h=za(u),d=!h&&Ba(u),p=!h&&!d&&Qa(u);c=u,h||d||p?za(s)?c=s:Ma(s)?c=vi(s):d?(f=!1,c=fi(u,!0)):p?(f=!1,c=di(u,!0)):c=[]:Ka(u)||Ia(u)?(c=s,Ia(s)?c=as(s):Va(s)&&!Na(s)||(c=io(u))):f=!1}f&&(a.set(u,c),i(c,u,r,o,a),a.delete(u));$n(e,n,c)}(e,t,a,n,Ar,r,i);else{var s=r?r(go(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),$n(e,a,s)}}),_s)}function Tr(e,t){var n=e.length;if(n)return ao(t+=t<0?n:0,n)?e[t]:void 0}function Ir(e,t,n){t=t.length?dt(t,(function(e){return za(e)?function(t){return fr(t,1===e.length?e[0]:e)}:e})):[Hs];var r=-1;return t=dt(t,At(Yi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Er(e,(function(e,n,i){return{criteria:dt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=pi(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)}))}function zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=fr(e,a);n(s,a)&&Ur(o,si(a,e),s)}return o}function Dr(e,t,n,r){var i=r?xt:_t,o=-1,a=t.length,s=e;for(e===t&&(t=vi(t)),n&&(s=dt(e,At(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Ge.call(s,u,1),Ge.call(e,u,1);return e}function Rr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;ao(i)?Ge.call(e,i,1):Xr(e,i)}}return e}function Mr(e,t){return e+Xt(cn()*(t-e+1))}function Br(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Xt(t/2))&&(e+=e)}while(t);return n}function Lr(e,t){return _o(mo(e,t,Hs),e+"")}function Fr(e){return Fn(Cs(e))}function Nr(e,t){var n=Cs(e);return Oo(n,Gn(t,0,n.length))}function Ur(e,t,n,r){if(!Va(e))return e;for(var i=-1,o=(t=si(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=So(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=Va(c)?c:ao(t[i+1])?[]:{})}Vn(s,u,l),s=s[u]}return e}var $r=gn?function(e,t){return gn.set(e,t),e}:Hs,Vr=St?function(e,t){return St(e,"toString",{configurable:!0,enumerable:!1,value:Vs(t),writable:!0})}:Hs;function qr(e){return Oo(Cs(e))}function Wr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function Hr(e,t){var n;return er(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Kr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Za(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Jr(e,t,Hs,n)}function Jr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!=t,s=null===t,u=Za(t),l=void 0===t;i<o;){var c=Xt((i+o)/2),f=n(e[c]),h=void 0!==f,d=null===f,p=f==f,m=Za(f);if(a)var y=r||p;else y=l?p&&(r||h):s?p&&h&&(r||!d):u?p&&h&&!d&&(r||!m):!d&&!m&&(r?f<=t:f<t);y?i=c+1:o=c}return sn(o,4294967294)}function Gr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ca(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Yr(e){return"number"==typeof e?e:Za(e)?NaN:+e}function Zr(e){if("string"==typeof e)return e;if(za(e))return dt(e,Zr)+"";if(Za(e))return En?En.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qr(e,t,n){var r=-1,i=ft,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=ht;else if(o>=200){var l=t?null:Bi(e);if(l)return Vt(l);a=!1,i=It,u=new Mn}else u=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function Xr(e,t){return null==(e=yo(e,t=si(t,e)))||delete e[So(Fo(t))]}function ei(e,t,n,r){return Ur(e,t,n(fr(e,t)),r)}function ti(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Wr(e,r?0:o,r?o+1:i):Wr(e,r?o+1:0,r?i:o)}function ni(e,t){var n=e;return n instanceof In&&(n=n.value()),mt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function ri(e,t,n){var i=e.length;if(i<2)return i?Qr(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=Xn(a[o]||s,e[u],t,n));return Qr(or(a,1),t,n)}function ii(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}function oi(e){return Ma(e)?e:[]}function ai(e){return"function"==typeof e?e:Hs}function si(e,t){return za(e)?e:uo(e,t)?[e]:Po(ss(e))}var ui=Lr;function li(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Wr(e,t,n)}var ci=Gt||function(e){return Ke.clearTimeout(e)};function fi(e,t){if(t)return e.slice();var n=e.length,r=$e?$e(n):new e.constructor(n);return e.copy(r),r}function hi(e){var t=new e.constructor(e.byteLength);return new Me(t).set(new Me(e)),t}function di(e,t){var n=t?hi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function pi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Za(e),a=void 0!==t,s=null===t,u=t==t,l=Za(t);if(!s&&!l&&!o&&e>t||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function mi(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,l=t.length,c=an(a-s,0),f=r(l+c),h=!i;++u<l;)f[u]=t[u];for(;++o<s;)(h||o<a)&&(f[n[o]]=e[o]);for(;c--;)f[u++]=e[o++];return f}function yi(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,l=-1,c=t.length,f=an(a-u,0),h=r(f+c),d=!i;++o<f;)h[o]=e[o];for(var p=o;++l<c;)h[p+l]=t[l];for(;++s<u;)(d||o<a)&&(h[p+n[s]]=e[o++]);return h}function vi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function gi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Kn(n,s,u):Vn(n,s,u)}return n}function bi(e,t){return function(n,r){var i=za(n)?at:Wn,o=t?t():{};return i(n,e,Yi(r,2),o)}}function wi(e){return Lr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&so(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=me(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}function _i(e,t){return function(n,r){if(null==n)return n;if(!Ra(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=me(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function xi(e){return function(t,n,r){for(var i=-1,o=me(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function ki(e){return function(t){var n=Ft(t=ss(t))?Ht(t):void 0,r=n?n[0]:t.charAt(0),i=n?li(n,1).join(""):t.slice(1);return r[e]()+i}}function Oi(e){return function(t){return mt(Ns(Is(t).replace(Ie,"")),e,"")}}function Pi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Cn(e.prototype),r=e.apply(n,t);return Va(r)?r:n}}function Si(e){return function(t,n,r){var i=me(t);if(!Ra(t)){var o=Yi(n,3);t=ws(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}function Ei(e){return qi((function(t){var n=t.length,r=n,i=Tn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ge(o);if(i&&!s&&"wrapper"==Ji(a))var s=new Tn([],!0)}for(r=s?r:n;++r<n;){var u=Ji(a=t[r]),l="wrapper"==u?Ki(a):void 0;s=l&&lo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Ji(l[0])].apply(s,l[3]):1==a.length&&lo(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&za(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ji(e,t,n,i,o,a,s,u,l,c){var f=128&t,h=1&t,d=2&t,p=24&t,m=512&t,y=d?void 0:Pi(e);return function v(){for(var g=arguments.length,b=r(g),w=g;w--;)b[w]=arguments[w];if(p)var _=Gi(v),x=Rt(b,_);if(i&&(b=mi(b,i,o,p)),a&&(b=yi(b,a,s,p)),g-=x,p&&g<c){var k=$t(b,_);return Ri(e,t,ji,v.placeholder,n,b,k,u,l,c-g)}var O=h?n:this,P=d?O[e]:e;return g=b.length,u?b=vo(b,u):m&&g>1&&b.reverse(),f&&l<g&&(b.length=l),this&&this!==Ke&&this instanceof v&&(P=y||Pi(P)),P.apply(O,b)}}function Ci(e,t){return function(n,r){return function(e,t,n,r){return ur(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ai(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=Yr(n),r=Yr(r)),i=e(n,r)}return i}}function Ti(e){return qi((function(t){return t=dt(t,At(Yi())),Lr((function(n){var r=this;return e(t,(function(e){return ot(e,r,n)}))}))}))}function Ii(e,t){var n=(t=void 0===t?" ":Zr(t)).length;if(n<2)return n?Br(t,e):t;var r=Br(t,Qt(e/Wt(t)));return Ft(t)?li(Ht(r),0,e).join(""):r.slice(0,e)}function zi(e){return function(t,n,i){return i&&"number"!=typeof i&&so(t,n,i)&&(n=i=void 0),t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n,i){for(var o=-1,a=an(Qt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,i=void 0===i?t<n?1:-1:ns(i),e)}}function Di(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=os(t),n=os(n)),e(t,n)}}function Ri(e,t,n,r,i,o,a,s,u,l){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var f=[e,t,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l],h=n.apply(void 0,f);return lo(e)&&bo(h,f),h.placeholder=r,xo(h,e,t)}function Mi(e){var t=pe[e];return function(e,n){if(e=os(e),(n=null==n?0:sn(rs(n),292))&&nn(e)){var r=(ss(e)+"e").split("e");return+((r=(ss(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Bi=mn&&1/Vt(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Zs;function Li(e){return function(t){var n=no(t);return n==m?Nt(t):n==b?qt(t):function(e,t){return dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Fi(e,t,n,i,s,u,l,c){var f=2&t;if(!f&&"function"!=typeof e)throw new ge(o);var h=i?i.length:0;if(h||(t&=-97,i=s=void 0),l=void 0===l?l:an(rs(l),0),c=void 0===c?c:rs(c),h-=s?s.length:0,64&t){var d=i,p=s;i=s=void 0}var m=f?void 0:Ki(e),y=[e,t,n,i,s,d,p,u,l,c];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?mi(l,u,t[4]):u,e[4]=l?$t(e[3],a):t[4]}(u=t[5])&&(l=e[5],e[5]=l?yi(l,u,t[6]):u,e[6]=l?$t(e[5],a):t[6]);(u=t[7])&&(e[7]=u);128&r&&(e[8]=null==e[8]?t[8]:sn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(y,m),e=y[0],t=y[1],n=y[2],i=y[3],s=y[4],!(c=y[9]=void 0===y[9]?f?0:e.length:an(y[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var i=Pi(e);return function o(){for(var a=arguments.length,s=r(a),u=a,l=Gi(o);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:$t(s,l);if((a-=c.length)<n)return Ri(e,t,ji,o.placeholder,void 0,s,c,void 0,void 0,n-a);var f=this&&this!==Ke&&this instanceof o?i:e;return ot(f,this,s)}}(e,t,c):32!=t&&33!=t||s.length?ji.apply(void 0,y):function(e,t,n,i){var o=1&t,a=Pi(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,f=r(c+u),h=this&&this!==Ke&&this instanceof t?a:e;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++s];return ot(h,o?n:this,f)}}(e,t,n,i);else var v=function(e,t,n){var r=1&t,i=Pi(e);return function t(){var o=this&&this!==Ke&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return xo((m?$r:bo)(v,y),e,t)}function Ni(e,t,n,r){return void 0===e||Ca(e,_e[n])&&!Oe.call(r,n)?t:e}function Ui(e,t,n,r,i,o){return Va(e)&&Va(t)&&(o.set(t,e),Ar(e,t,void 0,Ui,o),o.delete(t)),e}function $i(e){return Ka(e)?void 0:e}function Vi(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var f=-1,h=!0,d=2&n?new Mn:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],m=t[f];if(r)var y=a?r(m,p,f,t,e,o):r(p,m,f,e,t,o);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!vt(t,(function(e,t){if(!It(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function qi(e){return _o(mo(e,void 0,Do),e+"")}function Wi(e){return hr(e,ws,eo)}function Hi(e){return hr(e,_s,to)}var Ki=gn?function(e){return gn.get(e)}:Zs;function Ji(e){for(var t=e.name+"",n=bn[t],r=Oe.call(bn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Gi(e){return(Oe.call(jn,"placeholder")?jn:e).placeholder}function Yi(){var e=jn.iteratee||Ks;return e=e===Ks?kr:e,arguments.length?e(arguments[0],arguments[1]):e}function Zi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Qi(e){for(var t=ws(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ho(i)]}return t}function Xi(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return xr(n)?n:void 0}var eo=en?function(e){return null==e?[]:(e=me(e),ct(en(e),(function(t){return Je.call(e,t)})))}:iu,to=en?function(e){for(var t=[];e;)pt(t,eo(e)),e=We(e);return t}:iu,no=dr;function ro(e,t,n){for(var r=-1,i=(t=si(t,e)).length,o=!1;++r<i;){var a=So(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&$a(i)&&ao(a,i)&&(za(e)||Ia(e))}function io(e){return"function"!=typeof e.constructor||fo(e)?{}:Cn(We(e))}function oo(e){return za(e)||Ia(e)||!!(Ze&&e&&e[Ze])}function ao(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ue.test(e))&&e>-1&&e%1==0&&e<t}function so(e,t,n){if(!Va(n))return!1;var r=typeof t;return!!("number"==r?Ra(n)&&ao(t,n.length):"string"==r&&t in n)&&Ca(n[t],e)}function uo(e,t){if(za(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Za(e))||(q.test(e)||!V.test(e)||null!=t&&e in me(t))}function lo(e){var t=Ji(e),n=jn[t];if("function"!=typeof n||!(t in In.prototype))return!1;if(e===n)return!0;var r=Ki(n);return!!r&&e===r[0]}(hn&&no(new hn(new ArrayBuffer(1)))!=O||dn&&no(new dn)!=m||pn&&"[object Promise]"!=no(pn.resolve())||mn&&no(new mn)!=b||yn&&no(new yn)!=x)&&(no=function(e){var t=dr(e),n=t==v?e.constructor:void 0,r=n?Eo(n):"";if(r)switch(r){case wn:return O;case _n:return m;case xn:return"[object Promise]";case kn:return b;case On:return x}return t});var co=xe?Na:ou;function fo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function ho(e){return e==e&&!Va(e)}function po(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in me(n)))}}function mo(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=an(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),ot(e,this,u)}}function yo(e,t){return t.length<2?e:fr(e,Wr(t,0,-1))}function vo(e,t){for(var n=e.length,r=sn(t.length,n),i=vi(e);r--;){var o=t[r];e[r]=ao(o,n)?i[o]:void 0}return e}function go(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var bo=ko($r),wo=Zt||function(e,t){return Ke.setTimeout(e,t)},_o=ko(Vr);function xo(e,t,n){var r=t+"";return _o(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Z,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!ft(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Q);return t?t[1].split(X):[]}(r),n)))}function ko(e){var t=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Oo(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Mr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var Po=function(e){var t=ka(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(W,(function(e,n,r,i){t.push(r?i.replace(te,"$1"):n||e)})),t}));function So(e){if("string"==typeof e||Za(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Eo(e){if(null!=e){try{return ke.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function jo(e){if(e instanceof In)return e.clone();var t=new Tn(e.__wrapped__,e.__chain__);return t.__actions__=vi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Co=Lr((function(e,t){return Ma(e)?Xn(e,or(t,1,Ma,!0)):[]})),Ao=Lr((function(e,t){var n=Fo(t);return Ma(n)&&(n=void 0),Ma(e)?Xn(e,or(t,1,Ma,!0),Yi(n,2)):[]})),To=Lr((function(e,t){var n=Fo(t);return Ma(n)&&(n=void 0),Ma(e)?Xn(e,or(t,1,Ma,!0),void 0,n):[]}));function Io(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),wt(e,Yi(t,3),i)}function zo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?an(r+i,0):sn(i,r-1)),wt(e,Yi(t,3),i,!0)}function Do(e){return(null==e?0:e.length)?or(e,1):[]}function Ro(e){return e&&e.length?e[0]:void 0}var Mo=Lr((function(e){var t=dt(e,oi);return t.length&&t[0]===e[0]?vr(t):[]})),Bo=Lr((function(e){var t=Fo(e),n=dt(e,oi);return t===Fo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?vr(n,Yi(t,2)):[]})),Lo=Lr((function(e){var t=Fo(e),n=dt(e,oi);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?vr(n,void 0,t):[]}));function Fo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var No=Lr(Uo);function Uo(e,t){return e&&e.length&&t&&t.length?Dr(e,t):e}var $o=qi((function(e,t){var n=null==e?0:e.length,r=Jn(e,t);return Rr(e,dt(t,(function(e){return ao(e,n)?+e:e})).sort(pi)),r}));function Vo(e){return null==e?e:fn.call(e)}var qo=Lr((function(e){return Qr(or(e,1,Ma,!0))})),Wo=Lr((function(e){var t=Fo(e);return Ma(t)&&(t=void 0),Qr(or(e,1,Ma,!0),Yi(t,2))})),Ho=Lr((function(e){var t=Fo(e);return t="function"==typeof t?t:void 0,Qr(or(e,1,Ma,!0),void 0,t)}));function Ko(e){if(!e||!e.length)return[];var t=0;return e=ct(e,(function(e){if(Ma(e))return t=an(e.length,t),!0})),Ct(t,(function(t){return dt(e,Pt(t))}))}function Jo(e,t){if(!e||!e.length)return[];var n=Ko(e);return null==t?n:dt(n,(function(e){return ot(t,void 0,e)}))}var Go=Lr((function(e,t){return Ma(e)?Xn(e,t):[]})),Yo=Lr((function(e){return ri(ct(e,Ma))})),Zo=Lr((function(e){var t=Fo(e);return Ma(t)&&(t=void 0),ri(ct(e,Ma),Yi(t,2))})),Qo=Lr((function(e){var t=Fo(e);return t="function"==typeof t?t:void 0,ri(ct(e,Ma),void 0,t)})),Xo=Lr(Ko);var ea=Lr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Jo(e,n)}));function ta(e){var t=jn(e);return t.__chain__=!0,t}function na(e,t){return t(e)}var ra=qi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Jn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof In&&ao(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new Tn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var ia=bi((function(e,t,n){Oe.call(e,n)?++e[n]:Kn(e,n,1)}));var oa=Si(Io),aa=Si(zo);function sa(e,t){return(za(e)?st:er)(e,Yi(t,3))}function ua(e,t){return(za(e)?ut:tr)(e,Yi(t,3))}var la=bi((function(e,t,n){Oe.call(e,n)?e[n].push(t):Kn(e,n,[t])}));var ca=Lr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ra(e)?r(e.length):[];return er(e,(function(e){a[++i]=o?ot(t,e,n):gr(e,t,n)})),a})),fa=bi((function(e,t,n){Kn(e,n,t)}));function ha(e,t){return(za(e)?dt:Er)(e,Yi(t,3))}var da=bi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var pa=Lr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&so(e,t[0],t[1])?t=[]:n>2&&so(t[0],t[1],t[2])&&(t=[t[0]]),Ir(e,or(t,1),[])})),ma=Yt||function(){return Ke.Date.now()};function ya(e,t,n){return t=n?void 0:t,Fi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function va(e,t){var n;if("function"!=typeof t)throw new ge(o);return e=rs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ga=Lr((function(e,t,n){var r=1;if(n.length){var i=$t(n,Gi(ga));r|=32}return Fi(e,r,t,n,i)})),ba=Lr((function(e,t,n){var r=3;if(n.length){var i=$t(n,Gi(ba));r|=32}return Fi(t,r,e,n,i)}));function wa(e,t,n){var r,i,a,s,u,l,c=0,f=!1,h=!1,d=!0;if("function"!=typeof e)throw new ge(o);function p(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function m(e){return c=e,u=wo(v,t),f?p(e):s}function y(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=a}function v(){var e=ma();if(y(e))return g(e);u=wo(v,function(e){var n=t-(e-l);return h?sn(n,a-(e-c)):n}(e))}function g(e){return u=void 0,d&&r?p(e):(r=i=void 0,s)}function b(){var e=ma(),n=y(e);if(r=arguments,i=this,l=e,n){if(void 0===u)return m(l);if(h)return ci(u),u=wo(v,t),p(l)}return void 0===u&&(u=wo(v,t)),s}return t=os(t)||0,Va(n)&&(f=!!n.leading,a=(h="maxWait"in n)?an(os(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&ci(u),c=0,r=l=i=u=void 0},b.flush=function(){return void 0===u?s:g(ma())},b}var _a=Lr((function(e,t){return Qn(e,1,t)})),xa=Lr((function(e,t,n){return Qn(e,os(t)||0,n)}));function ka(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ge(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ka.Cache||Rn),n}function Oa(e){if("function"!=typeof e)throw new ge(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ka.Cache=Rn;var Pa=ui((function(e,t){var n=(t=1==t.length&&za(t[0])?dt(t[0],At(Yi())):dt(or(t,1),At(Yi()))).length;return Lr((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return ot(e,this,r)}))})),Sa=Lr((function(e,t){return Fi(e,32,void 0,t,$t(t,Gi(Sa)))})),Ea=Lr((function(e,t){return Fi(e,64,void 0,t,$t(t,Gi(Ea)))})),ja=qi((function(e,t){return Fi(e,256,void 0,void 0,void 0,t)}));function Ca(e,t){return e===t||e!=e&&t!=t}var Aa=Di(pr),Ta=Di((function(e,t){return e>=t})),Ia=br(function(){return arguments}())?br:function(e){return qa(e)&&Oe.call(e,"callee")&&!Je.call(e,"callee")},za=r.isArray,Da=Xe?At(Xe):function(e){return qa(e)&&dr(e)==k};function Ra(e){return null!=e&&$a(e.length)&&!Na(e)}function Ma(e){return qa(e)&&Ra(e)}var Ba=tn||ou,La=et?At(et):function(e){return qa(e)&&dr(e)==f};function Fa(e){if(!qa(e))return!1;var t=dr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ka(e)}function Na(e){if(!Va(e))return!1;var t=dr(e);return t==d||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ua(e){return"number"==typeof e&&e==rs(e)}function $a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Va(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qa(e){return null!=e&&"object"==typeof e}var Wa=tt?At(tt):function(e){return qa(e)&&no(e)==m};function Ha(e){return"number"==typeof e||qa(e)&&dr(e)==y}function Ka(e){if(!qa(e)||dr(e)!=v)return!1;var t=We(e);if(null===t)return!0;var n=Oe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ke.call(n)==je}var Ja=nt?At(nt):function(e){return qa(e)&&dr(e)==g};var Ga=rt?At(rt):function(e){return qa(e)&&no(e)==b};function Ya(e){return"string"==typeof e||!za(e)&&qa(e)&&dr(e)==w}function Za(e){return"symbol"==typeof e||qa(e)&&dr(e)==_}var Qa=it?At(it):function(e){return qa(e)&&$a(e.length)&&!!Ne[dr(e)]};var Xa=Di(Sr),es=Di((function(e,t){return e<=t}));function ts(e){if(!e)return[];if(Ra(e))return Ya(e)?Ht(e):vi(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=no(e);return(t==m?Nt:t==b?Vt:Cs)(e)}function ns(e){return e?(e=os(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rs(e){var t=ns(e),n=t%1;return t==t?n?t-n:t:0}function is(e){return e?Gn(rs(e),0,4294967295):0}function os(e){if("number"==typeof e)return e;if(Za(e))return NaN;if(Va(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Va(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(J,"");var n=oe.test(e);return n||se.test(e)?qe(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function as(e){return gi(e,_s(e))}function ss(e){return null==e?"":Zr(e)}var us=wi((function(e,t){if(fo(t)||Ra(t))gi(t,ws(t),e);else for(var n in t)Oe.call(t,n)&&Vn(e,n,t[n])})),ls=wi((function(e,t){gi(t,_s(t),e)})),cs=wi((function(e,t,n,r){gi(t,_s(t),e,r)})),fs=wi((function(e,t,n,r){gi(t,ws(t),e,r)})),hs=qi(Jn);var ds=Lr((function(e,t){e=me(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&so(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=_s(o),s=-1,u=a.length;++s<u;){var l=a[s],c=e[l];(void 0===c||Ca(c,_e[l])&&!Oe.call(e,l))&&(e[l]=o[l])}return e})),ps=Lr((function(e){return e.push(void 0,Ui),ot(ks,void 0,e)}));function ms(e,t,n){var r=null==e?void 0:fr(e,t);return void 0===r?n:r}function ys(e,t){return null!=e&&ro(e,t,yr)}var vs=Ci((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),e[t]=n}),Vs(Hs)),gs=Ci((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),Oe.call(e,t)?e[t].push(n):e[t]=[n]}),Yi),bs=Lr(gr);function ws(e){return Ra(e)?Ln(e):Or(e)}function _s(e){return Ra(e)?Ln(e,!0):Pr(e)}var xs=wi((function(e,t,n){Ar(e,t,n)})),ks=wi((function(e,t,n,r){Ar(e,t,n,r)})),Os=qi((function(e,t){var n={};if(null==e)return n;var r=!1;t=dt(t,(function(t){return t=si(t,e),r||(r=t.length>1),t})),gi(e,Hi(e),n),r&&(n=Yn(n,7,$i));for(var i=t.length;i--;)Xr(n,t[i]);return n}));var Ps=qi((function(e,t){return null==e?{}:function(e,t){return zr(e,t,(function(t,n){return ys(e,n)}))}(e,t)}));function Ss(e,t){if(null==e)return{};var n=dt(Hi(e),(function(e){return[e]}));return t=Yi(t),zr(e,n,(function(e,n){return t(e,n[0])}))}var Es=Li(ws),js=Li(_s);function Cs(e){return null==e?[]:Tt(e,ws(e))}var As=Oi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ts(t):t)}));function Ts(e){return Fs(ss(e).toLowerCase())}function Is(e){return(e=ss(e))&&e.replace(le,Mt).replace(ze,"")}var zs=Oi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ds=Oi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Rs=ki("toLowerCase");var Ms=Oi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Bs=Oi((function(e,t,n){return e+(n?" ":"")+Fs(t)}));var Ls=Oi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Fs=ki("toUpperCase");function Ns(e,t,n){return e=ss(e),void 0===(t=n?void 0:t)?function(e){return Be.test(e)}(e)?function(e){return e.match(Re)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var Us=Lr((function(e,t){try{return ot(e,void 0,t)}catch(e){return Fa(e)?e:new he(e)}})),$s=qi((function(e,t){return st(t,(function(t){t=So(t),Kn(e,t,ga(e[t],e))})),e}));function Vs(e){return function(){return e}}var qs=Ei(),Ws=Ei(!0);function Hs(e){return e}function Ks(e){return kr("function"==typeof e?e:Yn(e,1))}var Js=Lr((function(e,t){return function(n){return gr(n,e,t)}})),Gs=Lr((function(e,t){return function(n){return gr(e,n,t)}}));function Ys(e,t,n){var r=ws(t),i=cr(t,r);null!=n||Va(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=cr(t,ws(t)));var o=!(Va(n)&&"chain"in n&&!n.chain),a=Na(e);return st(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=vi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,pt([this.value()],arguments))})})),e}function Zs(){}var Qs=Ti(dt),Xs=Ti(lt),eu=Ti(vt);function tu(e){return uo(e)?Pt(So(e)):function(e){return function(t){return fr(t,e)}}(e)}var nu=zi(),ru=zi(!0);function iu(){return[]}function ou(){return!1}var au=Ai((function(e,t){return e+t}),0),su=Mi("ceil"),uu=Ai((function(e,t){return e/t}),1),lu=Mi("floor");var cu,fu=Ai((function(e,t){return e*t}),1),hu=Mi("round"),du=Ai((function(e,t){return e-t}),0);return jn.after=function(e,t){if("function"!=typeof t)throw new ge(o);return e=rs(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=ya,jn.assign=us,jn.assignIn=ls,jn.assignInWith=cs,jn.assignWith=fs,jn.at=hs,jn.before=va,jn.bind=ga,jn.bindAll=$s,jn.bindKey=ba,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return za(e)?e:[e]},jn.chain=ta,jn.chunk=function(e,t,n){t=(n?so(e,t,n):void 0===t)?1:an(rs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=r(Qt(i/t));o<i;)s[a++]=Wr(e,o,o+=t);return s},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return pt(za(n)?vi(n):[n],or(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=Yi();return e=t?dt(e,(function(e){if("function"!=typeof e[1])throw new ge(o);return[n(e[0]),e[1]]})):[],Lr((function(n){for(var r=-1;++r<t;){var i=e[r];if(ot(i[0],this,n))return ot(i[1],this,n)}}))},jn.conforms=function(e){return function(e){var t=ws(e);return function(n){return Zn(n,e,t)}}(Yn(e,1))},jn.constant=Vs,jn.countBy=ia,jn.create=function(e,t){var n=Cn(e);return null==t?n:Hn(n,t)},jn.curry=function e(t,n,r){var i=Fi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},jn.curryRight=function e(t,n,r){var i=Fi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},jn.debounce=wa,jn.defaults=ds,jn.defaultsDeep=ps,jn.defer=_a,jn.delay=xa,jn.difference=Co,jn.differenceBy=Ao,jn.differenceWith=To,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=n||void 0===t?1:rs(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,0,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?ti(e,Yi(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?ti(e,Yi(t,3),!0):[]},jn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&so(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(za(e)?ct:ir)(e,Yi(t,3))},jn.flatMap=function(e,t){return or(ha(e,t),1)},jn.flatMapDeep=function(e,t){return or(ha(e,t),1/0)},jn.flatMapDepth=function(e,t,n){return n=void 0===n?1:rs(n),or(ha(e,t),n)},jn.flatten=Do,jn.flattenDeep=function(e){return(null==e?0:e.length)?or(e,1/0):[]},jn.flattenDepth=function(e,t){return(null==e?0:e.length)?or(e,t=void 0===t?1:rs(t)):[]},jn.flip=function(e){return Fi(e,512)},jn.flow=qs,jn.flowRight=Ws,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},jn.functions=function(e){return null==e?[]:cr(e,ws(e))},jn.functionsIn=function(e){return null==e?[]:cr(e,_s(e))},jn.groupBy=la,jn.initial=function(e){return(null==e?0:e.length)?Wr(e,0,-1):[]},jn.intersection=Mo,jn.intersectionBy=Bo,jn.intersectionWith=Lo,jn.invert=vs,jn.invertBy=gs,jn.invokeMap=ca,jn.iteratee=Ks,jn.keyBy=fa,jn.keys=ws,jn.keysIn=_s,jn.map=ha,jn.mapKeys=function(e,t){var n={};return t=Yi(t,3),ur(e,(function(e,r,i){Kn(n,t(e,r,i),e)})),n},jn.mapValues=function(e,t){var n={};return t=Yi(t,3),ur(e,(function(e,r,i){Kn(n,r,t(e,r,i))})),n},jn.matches=function(e){return jr(Yn(e,1))},jn.matchesProperty=function(e,t){return Cr(e,Yn(t,1))},jn.memoize=ka,jn.merge=xs,jn.mergeWith=ks,jn.method=Js,jn.methodOf=Gs,jn.mixin=Ys,jn.negate=Oa,jn.nthArg=function(e){return e=rs(e),Lr((function(t){return Tr(t,e)}))},jn.omit=Os,jn.omitBy=function(e,t){return Ss(e,Oa(Yi(t)))},jn.once=function(e){return va(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(za(t)||(t=null==t?[]:[t]),za(n=r?void 0:n)||(n=null==n?[]:[n]),Ir(e,t,n))},jn.over=Qs,jn.overArgs=Pa,jn.overEvery=Xs,jn.overSome=eu,jn.partial=Sa,jn.partialRight=Ea,jn.partition=da,jn.pick=Ps,jn.pickBy=Ss,jn.property=tu,jn.propertyOf=function(e){return function(t){return null==e?void 0:fr(e,t)}},jn.pull=No,jn.pullAll=Uo,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,Yi(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,void 0,n):e},jn.pullAt=$o,jn.range=nu,jn.rangeRight=ru,jn.rearg=ja,jn.reject=function(e,t){return(za(e)?ct:ir)(e,Oa(Yi(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Yi(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Rr(e,i),n},jn.rest=function(e,t){if("function"!=typeof e)throw new ge(o);return Lr(e,t=void 0===t?t:rs(t))},jn.reverse=Vo,jn.sampleSize=function(e,t,n){return t=(n?so(e,t,n):void 0===t)?1:rs(t),(za(e)?Nn:Nr)(e,t)},jn.set=function(e,t,n){return null==e?e:Ur(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Ur(e,t,n,r)},jn.shuffle=function(e){return(za(e)?Un:qr)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&so(e,t,n)?(t=0,n=r):(t=null==t?0:rs(t),n=void 0===n?r:rs(n)),Wr(e,t,n)):[]},jn.sortBy=pa,jn.sortedUniq=function(e){return e&&e.length?Gr(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?Gr(e,Yi(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&so(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ss(e))&&("string"==typeof t||null!=t&&!Ja(t))&&!(t=Zr(t))&&Ft(e)?li(Ht(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new ge(o);return t=null==t?0:an(rs(t),0),Lr((function(n){var r=n[t],i=li(n,0,t);return r&&pt(i,r),ot(e,this,i)}))},jn.tail=function(e){var t=null==e?0:e.length;return t?Wr(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?Wr(e,0,(t=n||void 0===t?1:rs(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?ti(e,Yi(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?ti(e,Yi(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ge(o);return Va(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),wa(e,t,{leading:r,maxWait:t,trailing:i})},jn.thru=na,jn.toArray=ts,jn.toPairs=Es,jn.toPairsIn=js,jn.toPath=function(e){return za(e)?dt(e,So):Za(e)?[e]:vi(Po(ss(e)))},jn.toPlainObject=as,jn.transform=function(e,t,n){var r=za(e),i=r||Ba(e)||Qa(e);if(t=Yi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Va(e)&&Na(o)?Cn(We(e)):{}}return(i?st:ur)(e,(function(e,r,i){return t(n,e,r,i)})),n},jn.unary=function(e){return ya(e,1)},jn.union=qo,jn.unionBy=Wo,jn.unionWith=Ho,jn.uniq=function(e){return e&&e.length?Qr(e):[]},jn.uniqBy=function(e,t){return e&&e.length?Qr(e,Yi(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qr(e,void 0,t):[]},jn.unset=function(e,t){return null==e||Xr(e,t)},jn.unzip=Ko,jn.unzipWith=Jo,jn.update=function(e,t,n){return null==e?e:ei(e,t,ai(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ei(e,t,ai(n),r)},jn.values=Cs,jn.valuesIn=function(e){return null==e?[]:Tt(e,_s(e))},jn.without=Go,jn.words=Ns,jn.wrap=function(e,t){return Sa(ai(t),e)},jn.xor=Yo,jn.xorBy=Zo,jn.xorWith=Qo,jn.zip=Xo,jn.zipObject=function(e,t){return ii(e||[],t||[],Vn)},jn.zipObjectDeep=function(e,t){return ii(e||[],t||[],Ur)},jn.zipWith=ea,jn.entries=Es,jn.entriesIn=js,jn.extend=ls,jn.extendWith=cs,Ys(jn,jn),jn.add=au,jn.attempt=Us,jn.camelCase=As,jn.capitalize=Ts,jn.ceil=su,jn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==t&&(t=(t=os(t))==t?t:0),Gn(os(e),t,n)},jn.clone=function(e){return Yn(e,4)},jn.cloneDeep=function(e){return Yn(e,5)},jn.cloneDeepWith=function(e,t){return Yn(e,5,t="function"==typeof t?t:void 0)},jn.cloneWith=function(e,t){return Yn(e,4,t="function"==typeof t?t:void 0)},jn.conformsTo=function(e,t){return null==t||Zn(e,t,ws(t))},jn.deburr=Is,jn.defaultTo=function(e,t){return null==e||e!=e?t:e},jn.divide=uu,jn.endsWith=function(e,t,n){e=ss(e),t=Zr(t);var r=e.length,i=n=void 0===n?r:Gn(rs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},jn.eq=Ca,jn.escape=function(e){return(e=ss(e))&&F.test(e)?e.replace(B,Bt):e},jn.escapeRegExp=function(e){return(e=ss(e))&&K.test(e)?e.replace(H,"\\$&"):e},jn.every=function(e,t,n){var r=za(e)?lt:nr;return n&&so(e,t,n)&&(t=void 0),r(e,Yi(t,3))},jn.find=oa,jn.findIndex=Io,jn.findKey=function(e,t){return bt(e,Yi(t,3),ur)},jn.findLast=aa,jn.findLastIndex=zo,jn.findLastKey=function(e,t){return bt(e,Yi(t,3),lr)},jn.floor=lu,jn.forEach=sa,jn.forEachRight=ua,jn.forIn=function(e,t){return null==e?e:ar(e,Yi(t,3),_s)},jn.forInRight=function(e,t){return null==e?e:sr(e,Yi(t,3),_s)},jn.forOwn=function(e,t){return e&&ur(e,Yi(t,3))},jn.forOwnRight=function(e,t){return e&&lr(e,Yi(t,3))},jn.get=ms,jn.gt=Aa,jn.gte=Ta,jn.has=function(e,t){return null!=e&&ro(e,t,mr)},jn.hasIn=ys,jn.head=Ro,jn.identity=Hs,jn.includes=function(e,t,n,r){e=Ra(e)?e:Cs(e),n=n&&!r?rs(n):0;var i=e.length;return n<0&&(n=an(i+n,0)),Ya(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&_t(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),_t(e,t,i)},jn.inRange=function(e,t,n){return t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n){return e>=sn(t,n)&&e<an(t,n)}(e=os(e),t,n)},jn.invoke=bs,jn.isArguments=Ia,jn.isArray=za,jn.isArrayBuffer=Da,jn.isArrayLike=Ra,jn.isArrayLikeObject=Ma,jn.isBoolean=function(e){return!0===e||!1===e||qa(e)&&dr(e)==c},jn.isBuffer=Ba,jn.isDate=La,jn.isElement=function(e){return qa(e)&&1===e.nodeType&&!Ka(e)},jn.isEmpty=function(e){if(null==e)return!0;if(Ra(e)&&(za(e)||"string"==typeof e||"function"==typeof e.splice||Ba(e)||Qa(e)||Ia(e)))return!e.length;var t=no(e);if(t==m||t==b)return!e.size;if(fo(e))return!Or(e).length;for(var n in e)if(Oe.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return wr(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?wr(e,t,void 0,n):!!r},jn.isError=Fa,jn.isFinite=function(e){return"number"==typeof e&&nn(e)},jn.isFunction=Na,jn.isInteger=Ua,jn.isLength=$a,jn.isMap=Wa,jn.isMatch=function(e,t){return e===t||_r(e,t,Qi(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,_r(e,t,Qi(t),n)},jn.isNaN=function(e){return Ha(e)&&e!=+e},jn.isNative=function(e){if(co(e))throw new he("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=Ha,jn.isObject=Va,jn.isObjectLike=qa,jn.isPlainObject=Ka,jn.isRegExp=Ja,jn.isSafeInteger=function(e){return Ua(e)&&e>=-9007199254740991&&e<=9007199254740991},jn.isSet=Ga,jn.isString=Ya,jn.isSymbol=Za,jn.isTypedArray=Qa,jn.isUndefined=function(e){return void 0===e},jn.isWeakMap=function(e){return qa(e)&&no(e)==x},jn.isWeakSet=function(e){return qa(e)&&"[object WeakSet]"==dr(e)},jn.join=function(e,t){return null==e?"":rn.call(e,t)},jn.kebabCase=zs,jn.last=Fo,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?an(r+i,0):sn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):wt(e,kt,i,!0)},jn.lowerCase=Ds,jn.lowerFirst=Rs,jn.lt=Xa,jn.lte=es,jn.max=function(e){return e&&e.length?rr(e,Hs,pr):void 0},jn.maxBy=function(e,t){return e&&e.length?rr(e,Yi(t,2),pr):void 0},jn.mean=function(e){return Ot(e,Hs)},jn.meanBy=function(e,t){return Ot(e,Yi(t,2))},jn.min=function(e){return e&&e.length?rr(e,Hs,Sr):void 0},jn.minBy=function(e,t){return e&&e.length?rr(e,Yi(t,2),Sr):void 0},jn.stubArray=iu,jn.stubFalse=ou,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=fu,jn.nth=function(e,t){return e&&e.length?Tr(e,rs(t)):void 0},jn.noConflict=function(){return Ke._===this&&(Ke._=Ce),this},jn.noop=Zs,jn.now=ma,jn.pad=function(e,t,n){e=ss(e);var r=(t=rs(t))?Wt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ii(Xt(i),n)+e+Ii(Qt(i),n)},jn.padEnd=function(e,t,n){e=ss(e);var r=(t=rs(t))?Wt(e):0;return t&&r<t?e+Ii(t-r,n):e},jn.padStart=function(e,t,n){e=ss(e);var r=(t=rs(t))?Wt(e):0;return t&&r<t?Ii(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(ss(e).replace(G,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&so(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=cn();return sn(e+i*(t-e+Ve("1e-"+((i+"").length-1))),t)}return Mr(e,t)},jn.reduce=function(e,t,n){var r=za(e)?mt:Et,i=arguments.length<3;return r(e,Yi(t,4),n,i,er)},jn.reduceRight=function(e,t,n){var r=za(e)?yt:Et,i=arguments.length<3;return r(e,Yi(t,4),n,i,tr)},jn.repeat=function(e,t,n){return t=(n?so(e,t,n):void 0===t)?1:rs(t),Br(ss(e),t)},jn.replace=function(){var e=arguments,t=ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,i=(t=si(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[So(t[r])];void 0===o&&(r=i,o=n),e=Na(o)?o.call(e):o}return e},jn.round=hu,jn.runInContext=e,jn.sample=function(e){return(za(e)?Fn:Fr)(e)},jn.size=function(e){if(null==e)return 0;if(Ra(e))return Ya(e)?Wt(e):e.length;var t=no(e);return t==m||t==b?e.size:Or(e).length},jn.snakeCase=Ms,jn.some=function(e,t,n){var r=za(e)?vt:Hr;return n&&so(e,t,n)&&(t=void 0),r(e,Yi(t,3))},jn.sortedIndex=function(e,t){return Kr(e,t)},jn.sortedIndexBy=function(e,t,n){return Jr(e,t,Yi(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Kr(e,t);if(r<n&&Ca(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return Kr(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return Jr(e,t,Yi(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Kr(e,t,!0)-1;if(Ca(e[n],t))return n}return-1},jn.startCase=Bs,jn.startsWith=function(e,t,n){return e=ss(e),n=null==n?0:Gn(rs(n),0,e.length),t=Zr(t),e.slice(n,n+t.length)==t},jn.subtract=du,jn.sum=function(e){return e&&e.length?jt(e,Hs):0},jn.sumBy=function(e,t){return e&&e.length?jt(e,Yi(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&so(e,t,n)&&(t=void 0),e=ss(e),t=cs({},t,r,Ni);var i,o,a=cs({},t.imports,r.imports,Ni),s=ws(a),u=Tt(a,s),l=0,c=t.interpolate||ce,f="__p += '",h=ye((t.escape||ce).source+"|"+c.source+"|"+(c===$?ne:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),d="//# sourceURL="+(Oe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(h,(function(t,n,r,a,s,u){return r||(r=a),f+=e.slice(l,u).replace(fe,Lt),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),f+="';\n";var p=Oe.call(t,"variable")&&t.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(z,""):f).replace(D,"$1").replace(R,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Us((function(){return de(s,d+"return "+f).apply(void 0,u)}));if(m.source=f,Fa(m))throw m;return m},jn.times=function(e,t){if((e=rs(e))<1||e>9007199254740991)return[];var n=4294967295,r=sn(e,4294967295);e-=4294967295;for(var i=Ct(r,t=Yi(t));++n<e;)t(n);return i},jn.toFinite=ns,jn.toInteger=rs,jn.toLength=is,jn.toLower=function(e){return ss(e).toLowerCase()},jn.toNumber=os,jn.toSafeInteger=function(e){return e?Gn(rs(e),-9007199254740991,9007199254740991):0===e?e:0},jn.toString=ss,jn.toUpper=function(e){return ss(e).toUpperCase()},jn.trim=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(J,"");if(!e||!(t=Zr(t)))return e;var r=Ht(e),i=Ht(t);return li(r,zt(r,i),Dt(r,i)+1).join("")},jn.trimEnd=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(Y,"");if(!e||!(t=Zr(t)))return e;var r=Ht(e);return li(r,0,Dt(r,Ht(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(G,"");if(!e||!(t=Zr(t)))return e;var r=Ht(e);return li(r,zt(r,Ht(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(Va(t)){var i="separator"in t?t.separator:i;n="length"in t?rs(t.length):n,r="omission"in t?Zr(t.omission):r}var o=(e=ss(e)).length;if(Ft(e)){var a=Ht(e);o=a.length}if(n>=o)return e;var s=n-Wt(r);if(s<1)return r;var u=a?li(a,0,s).join(""):e.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Ja(i)){if(e.slice(s).search(i)){var l,c=u;for(i.global||(i=ye(i.source,ss(re.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var f=l.index;u=u.slice(0,void 0===f?s:f)}}else if(e.indexOf(Zr(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},jn.unescape=function(e){return(e=ss(e))&&L.test(e)?e.replace(M,Kt):e},jn.uniqueId=function(e){var t=++Pe;return ss(e)+t},jn.upperCase=Ls,jn.upperFirst=Fs,jn.each=sa,jn.eachRight=ua,jn.first=Ro,Ys(jn,(cu={},ur(jn,(function(e,t){Oe.call(jn.prototype,t)||(cu[t]=e)})),cu),{chain:!1}),jn.VERSION="4.17.20",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jn[e].placeholder=jn})),st(["drop","take"],(function(e,t){In.prototype[e]=function(n){n=void 0===n?1:an(rs(n),0);var r=this.__filtered__&&!t?new In(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},In.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;In.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Yi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");In.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");In.prototype[e]=function(){return this.__filtered__?new In(this):this[n](1)}})),In.prototype.compact=function(){return this.filter(Hs)},In.prototype.find=function(e){return this.filter(e).head()},In.prototype.findLast=function(e){return this.reverse().find(e)},In.prototype.invokeMap=Lr((function(e,t){return"function"==typeof e?new In(this):this.map((function(n){return gr(n,e,t)}))})),In.prototype.reject=function(e){return this.filter(Oa(Yi(e)))},In.prototype.slice=function(e,t){e=rs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new In(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=rs(t))<0?n.dropRight(-t):n.take(t-e)),n)},In.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},In.prototype.toArray=function(){return this.take(4294967295)},ur(In.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=jn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(jn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof In,u=a[0],l=s||za(t),c=function(e){var t=i.apply(jn,pt([e],a));return r&&f?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var f=this.__chain__,h=!!this.__actions__.length,d=o&&!f,p=s&&!h;if(!o&&l){t=p?t:new In(this);var m=e.apply(t,a);return m.__actions__.push({func:na,args:[c],thisArg:void 0}),new Tn(m,f)}return d&&p?e.apply(this,a):(m=this.thru(c),d?r?m.value()[0]:m.value():m)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=be[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(za(i)?i:[],e)}return this[n]((function(n){return t.apply(za(n)?n:[],e)}))}})),ur(In.prototype,(function(e,t){var n=jn[t];if(n){var r=n.name+"";Oe.call(bn,r)||(bn[r]=[]),bn[r].push({name:t,func:n})}})),bn[ji(void 0,2).name]=[{name:"wrapper",func:void 0}],In.prototype.clone=function(){var e=new In(this.__wrapped__);return e.__actions__=vi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vi(this.__views__),e},In.prototype.reverse=function(){if(this.__filtered__){var e=new In(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},In.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=za(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=sn(t,e+a);break;case"takeRight":e=an(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=sn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ni(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var m=-1,y=e[l+=t];++m<f;){var v=c[m],g=v.iteratee,b=v.type,w=g(y);if(2==b)y=w;else if(!w){if(1==b)continue e;break e}}p[h++]=y}return p},jn.prototype.at=ra,jn.prototype.chain=function(){return ta(this)},jn.prototype.commit=function(){return new Tn(this.value(),this.__chain__)},jn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof An;){var r=jo(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof In){var t=e;return this.__actions__.length&&(t=new In(this)),(t=t.reverse()).__actions__.push({func:na,args:[Vo],thisArg:void 0}),new Tn(t,this.__chain__)}return this.thru(Vo)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Qe&&(jn.prototype[Qe]=function(){return this}),jn}();Ke._=Jt,void 0===(i=function(){return Jt}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(55),n(243)(e))},,,,,,,,,function(e,t,n){"use strict";var r=[],i=[],o=[],a=[],s=[],u=[],l=[],c=[],f=[],h=[],d=[],p=[];e.exports=function(e,t,n,m,y,v){for(var g=l,b=f,w=h,_=p,x=0;x<3;x++)g[x]=+n[x],w[x]=+t.max[x],b[x]=+t.base[x];v||(v=1e-10);var k=function(e,t,n,l,f,h){var p=r,m=i,y=o,v=a,g=s,b=u,w=c,_=Math.floor,x=0,k=0,O=0,P=0,S=0;if(E(),0===O)return 0;for(P=A();k<=O;){if(j(P))if(C())return x;P=A()}for(x+=O,S=0;S<3;S++)l[S]+=n[S],f[S]+=n[S];return x;function E(){if(k=0,0!==(O=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2])))for(var e=0;e<3;e++){var t=n[e]>=0;v[e]=t?1:-1;var r=t?f[e]:l[e];p[e]=t?l[e]:f[e],m[e]=T(r,v[e]),y[e]=I(p[e],v[e]),w[e]=n[e]/O,g[e]=Math.abs(1/w[e]);var i=t?m[e]+1-r:r-m[e];b[e]=g[e]<1/0?g[e]*i:1/0}}function j(t){for(var n=v[0],r=0===t?m[0]:y[0],i=m[0]+n,o=v[1],a=1===t?m[1]:y[1],s=m[1]+o,u=v[2],l=2===t?m[2]:y[2],c=m[2]+u,f=r;f!=i;f+=n)for(var h=a;h!=s;h+=o)for(var d=l;d!=c;d+=u)if(e(f,h,d))return!0;return!1}function C(){x+=k;var e=v[P],r=k/O,i=d;for(S=0;S<3;S++){var o=n[S]*r;l[S]+=o,f[S]+=o,i[S]=n[S]-o}if(e>0?f[P]=Math.round(f[P]):l[P]=Math.round(l[P]),t(x,P,e,i))return!0;for(S=0;S<3;S++)n[S]=i[S];return E(),0===O}function A(){var e=b[0]<b[1]?b[0]<b[2]?0:2:b[1]<b[2]?1:2,t=b[e]-k;for(k=b[e],m[e]+=v[e],b[e]+=g[e],S=0;S<3;S++)p[S]+=t*w[S],y[S]=I(p[S],v[S]);return e}function T(e,t){return _(e-t*h)}function I(e,t){return _(e+t*h)}}(e,m,g,b,w,v);if(!y){for(x=0;x<3;x++)_[x]=n[x]>0?w[x]-t.max[x]:b[x]-t.base[x];t.translate(_)}return k}},function(e,t,n){"use strict";e.exports={init:function(e){var t=i.nextPow2(e);a.length<t&&(r.free(a),a=r.mallocInt32(t));s.length<t&&(r.free(s),s=r.mallocInt32(t));u.length<t&&(r.free(u),u=r.mallocInt32(t));l.length<t&&(r.free(l),l=r.mallocInt32(t));c.length<t&&(r.free(c),c=r.mallocInt32(t));f.length<t&&(r.free(f),f=r.mallocInt32(t));var n=8*t;h.length<n&&(r.free(h),h=r.mallocDouble(n))},sweepBipartite:function(e,t,n,r,i,c,f,m,y,v){for(var g=0,b=2*e,w=e-1,_=b-1,x=n;x<r;++x){var k=c[x],O=b*x;h[g++]=i[O+w],h[g++]=-(k+1),h[g++]=i[O+_],h[g++]=k}for(x=f;x<m;++x){k=v[x]+(1<<28);var P=b*x;h[g++]=y[P+w],h[g++]=-k,h[g++]=y[P+_],h[g++]=k}var S=g>>>1;o(h,S);var E=0,j=0;for(x=0;x<S;++x){var C=0|h[2*x+1];if(C>=1<<28)d(u,l,j--,C=C-(1<<28)|0);else if(C>=0)d(a,s,E--,C);else if(C<=-(1<<28)){C=-C-(1<<28)|0;for(var A=0;A<E;++A){if(void 0!==(T=t(a[A],C)))return T}p(u,l,j++,C)}else{C=-C-1|0;for(A=0;A<j;++A){var T;if(void 0!==(T=t(C,u[A])))return T}p(a,s,E++,C)}}},sweepComplete:function(e,t,n,r,i,m,y,v,g,b){for(var w=0,_=2*e,x=e-1,k=_-1,O=n;O<r;++O){var P=m[O]+1<<1,S=_*O;h[w++]=i[S+x],h[w++]=-P,h[w++]=i[S+k],h[w++]=P}for(O=y;O<v;++O){P=b[O]+1<<1;var E=_*O;h[w++]=g[E+x],h[w++]=1|-P,h[w++]=g[E+k],h[w++]=1|P}var j=w>>>1;o(h,j);var C=0,A=0,T=0;for(O=0;O<j;++O){var I=0|h[2*O+1],z=1&I;if(O<j-1&&I>>1==h[2*O+3]>>1&&(z=2,O+=1),I<0){for(var D=-(I>>1)-1,R=0;R<T;++R){if(void 0!==(M=t(c[R],D)))return M}if(0!==z)for(R=0;R<C;++R){if(void 0!==(M=t(a[R],D)))return M}if(1!==z)for(R=0;R<A;++R){var M;if(void 0!==(M=t(u[R],D)))return M}0===z?p(a,s,C++,D):1===z?p(u,l,A++,D):2===z&&p(c,f,T++,D)}else{D=(I>>1)-1;0===z?d(a,s,C--,D):1===z?d(u,l,A--,D):2===z&&d(c,f,T--,D)}}},scanBipartite:function(e,t,n,r,i,u,l,c,f,m,y,v){var g=0,b=2*e,w=t,_=t+e,x=1,k=1;r?k=1<<28:x=1<<28;for(var O=i;O<u;++O){var P=O+x,S=b*O;h[g++]=l[S+w],h[g++]=-P,h[g++]=l[S+_],h[g++]=P}for(O=f;O<m;++O){P=O+k;var E=b*O;h[g++]=y[E+w],h[g++]=-P}var j=g>>>1;o(h,j);var C=0;for(O=0;O<j;++O){var A=0|h[2*O+1];if(A<0){var T=!1;if((P=-A)>=1<<28?(T=!r,P-=1<<28):(T=!!r,P-=1),T)p(a,s,C++,P);else{var I=v[P],z=b*P,D=y[z+t+1],R=y[z+t+1+e];e:for(var M=0;M<C;++M){var B=a[M],L=b*B;if(!(R<l[L+t+1]||l[L+t+1+e]<D)){for(var F=t+2;F<e;++F)if(y[z+F+e]<l[L+F]||l[L+F+e]<y[z+F])continue e;var N,U=c[B];if(void 0!==(N=r?n(I,U):n(U,I)))return N}}}}else d(a,s,C--,A-x)}},scanComplete:function(e,t,n,r,i,s,u,l,c,f,d){for(var p=0,m=2*e,y=t,v=t+e,g=r;g<i;++g){var b=g+(1<<28),w=m*g;h[p++]=s[w+y],h[p++]=-b,h[p++]=s[w+v],h[p++]=b}for(g=l;g<c;++g){b=g+1;var _=m*g;h[p++]=f[_+y],h[p++]=-b}var x=p>>>1;o(h,x);var k=0;for(g=0;g<x;++g){var O=0|h[2*g+1];if(O<0){if((b=-O)>=1<<28)a[k++]=b-(1<<28);else{var P=d[b-=1],S=m*b,E=f[S+t+1],j=f[S+t+1+e];e:for(var C=0;C<k;++C){var A=a[C],T=u[A];if(T===P)break;var I=m*A;if(!(j<s[I+t+1]||s[I+t+1+e]<E)){for(var z=t+2;z<e;++z)if(f[S+z+e]<s[I+z]||s[I+z+e]<f[S+z])continue e;var D=n(T,P);if(void 0!==D)return D}}}}else{for(b=O-(1<<28),C=k-1;C>=0;--C)if(a[C]===b){for(z=C+1;z<k;++z)a[z-1]=a[z];break}--k}}}};var r=n(355),i=n(356),o=n(462),a=r.mallocInt32(1024),s=r.mallocInt32(1024),u=r.mallocInt32(1024),l=r.mallocInt32(1024),c=r.mallocInt32(1024),f=r.mallocInt32(1024),h=r.mallocDouble(8192);function d(e,t,n,r){var i=t[r],o=e[n-1];e[i]=o,t[o]=i}function p(e,t,n,r){e[n]=r,t[r]=n}},function(e,t,n){"use strict";e.exports=function(e,t){var n="abcdef".split("").concat(t),r=[];e.indexOf("lo")>=0&&r.push("lo=e[k+n]");e.indexOf("hi")>=0&&r.push("hi=e[k+o]");return n.push("for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m".replace("_",r.join()).replace("$",e)),Function.apply(void 0,n)}},,function(e,t,n){"use strict";var r=n(189);e.exports=function(e){r.copy(e,this)}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<u.length;n++){var l=u[n],c=e(t[l]);c&&(a&&(a+=","),a+=JSON.stringify(l)+":"+c)}return o.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var u="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){var l=e.level,c=e.dataLevel,f=e.schema["false schema"],h=e.schemaPath+e.util.getProperty("false schema"),d=e.errSchemaPath+"/false schema",p=!e.opts.allErrors,m="data"+(c||""),y="valid"+l;if(!1===e.schema){e.isTop?p=!0:r+=" var "+y+" = false; ",(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var v=r;r=Z.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+y+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var g=e.isTop;l=e.level=0,c=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{l=e.level,m="data"+((c=e.dataLevel)||"");if(a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+l+" = errors;"}y="valid"+l,p=!e.opts.allErrors;var w="",_="",x=e.schema.type,k=Array.isArray(x);if(x&&e.opts.nullable&&!0===e.schema.nullable&&(k?-1==x.indexOf("null")&&(x=x.concat("null")):"null"!=x&&(x=[x,"null"],k=!0)),k&&1==x.length&&(x=x[0],k=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var O=e.util.coerceToTypes(e.opts.coerceTypes,x);var P=e.RULES.types[x];if(O||k||!0===P||P&&!Q(P)){h=e.schemaPath+".type",d=e.errSchemaPath+"/type",h=e.schemaPath+".type",d=e.errSchemaPath+"/type";var S=k?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[S](x,m,!0)+") { ",O){var E="dataType"+l,j="coerced"+l;r+=" var "+E+" = typeof "+m+"; ","array"==e.opts.coerceTypes&&(r+=" if ("+E+" == 'object' && Array.isArray("+m+")) "+E+" = 'array'; "),r+=" var "+j+" = undefined; ";var C="",A=O;if(A)for(var T,I=-1,z=A.length-1;I<z;)T=A[I+=1],I&&(r+=" if ("+j+" === undefined) { ",C+="}"),"array"==e.opts.coerceTypes&&"array"!=T&&(r+=" if ("+E+" == 'array' && "+m+".length == 1) { "+j+" = "+m+" = "+m+"[0]; "+E+" = typeof "+m+";  } "),"string"==T?r+=" if ("+E+" == 'number' || "+E+" == 'boolean') "+j+" = '' + "+m+"; else if ("+m+" === null) "+j+" = ''; ":"number"==T||"integer"==T?(r+=" if ("+E+" == 'boolean' || "+m+" === null || ("+E+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==T&&(r+=" && !("+m+" % 1)"),r+=")) "+j+" = +"+m+"; "):"boolean"==T?r+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+j+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+j+" = true; ":"null"==T?r+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+j+" = null; ":"array"==e.opts.coerceTypes&&"array"==T&&(r+=" if ("+E+" == 'string' || "+E+" == 'number' || "+E+" == 'boolean' || "+m+" == null) "+j+" = ["+m+"]; ");r+=" "+C+" if ("+j+" === undefined) {   ",(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=k?""+x.join(","):""+x,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+x.join(","):""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";v=r;r=Z.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  ";var D=c?"data"+(c-1||""):"parentData";r+=" "+m+" = "+j+"; ",c||(r+="if ("+D+" !== undefined)"),r+=" "+D+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+j+"; } "}else{(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=k?""+x.join(","):""+x,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+x.join(","):""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";v=r;r=Z.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(r+=" } if (errors === ",r+=g?"0":"errs_"+l,r+=") { ",_+="}");else{var R=e.RULES;if(R)for(var M=-1,B=R.length-1;M<B;)if(Q(P=R[M+=1])){if(P.type&&(r+=" if ("+e.util.checkDataType(P.type,m)+") { "),e.opts.useDefaults)if("object"==P.type&&e.schema.properties){f=e.schema.properties;var L=Object.keys(f);if(L)for(var F,N=-1,U=L.length-1;N<U;){if(void 0!==(q=f[F=L[N+=1]]).default){var $=m+e.util.getProperty(F);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+$;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+$+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+$+" === null || "+$+" === '' "),r+=" ) "+$+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(q.default)+" ":r+=" "+JSON.stringify(q.default)+" ",r+="; "}}}else if("array"==P.type&&Array.isArray(e.schema.items)){var V=e.schema.items;if(V){I=-1;for(var q,W=V.length-1;I<W;)if(void 0!==(q=V[I+=1]).default){$=m+"["+I+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+$;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+$+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+$+" === null || "+$+" === '' "),r+=" ) "+$+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(q.default)+" ":r+=" "+JSON.stringify(q.default)+" ",r+="; "}}}var H=P.rules;if(H)for(var K,J=-1,G=H.length-1;J<G;)if(X(K=H[J+=1])){var Y=K.code(e,K.keyword,P.type);Y&&(r+=" "+Y+" ",p&&(w+="}"))}if(p&&(r+=" "+w+" ",w=""),P.type&&(r+=" } ",x&&x===P.type&&!O)){r+=" else { ";var Z;h=e.schemaPath+".type",d=e.errSchemaPath+"/type";(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",r+=k?""+x.join(","):""+x,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+x.join(","):""+x,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";v=r;r=Z.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}p&&(r+=" if (errors === ",r+=g?"0":"errs_"+l,r+=") { ",_+="}")}}function Q(e){for(var t=e.rules,n=0;n<t.length;n++)if(X(t[n]))return!0}function X(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}(t)}return p&&(r+=" "+_+" "),g?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+y+" = errors === errs_"+l+";",r=e.util.cleanUpCode(r),g&&(r=e.util.finalCleanUpCode(r,i)),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var d="maximum"==t,p=d?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],y=e.opts.$data&&m&&m.$data,v=d?"<":">",g=d?">":"<",b=void 0;if(y){var w=e.util.getData(m.$data,a,e.dataPathArr),_="exclusive"+o,x="exclType"+o,k="exclIsNumber"+o,O="' + "+(E="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+w+"; ",i+=" var "+_+"; var "+x+" = typeof "+(w="schemaExcl"+o)+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";var P;b=p;(P=P||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var S=i;i=P.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+x+" == 'number' ? ( ("+_+" = "+r+" === undefined || "+w+" "+v+"= "+r+") ? "+f+" "+g+"= "+w+" : "+f+" "+g+" "+r+" ) : ( ("+_+" = "+w+" === true) ? "+f+" "+g+"= "+r+" : "+f+" "+g+" "+r+" ) || "+f+" !== "+f+") { var op"+o+" = "+_+" ? '"+v+"' : '"+v+"='; ",void 0===s&&(b=p,l=e.errSchemaPath+"/"+p,r=w,h=y)}else{O=v;if((k="number"==typeof m)&&h){var E="'"+O+"'";i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+v+"= "+r+" ? "+f+" "+g+"= "+m+" : "+f+" "+g+" "+r+" ) || "+f+" !== "+f+") { "}else{k&&void 0===s?(_=!0,b=p,l=e.errSchemaPath+"/"+p,r=m,g+="="):(k&&(r=Math[d?"min":"max"](m,s)),m===(!k||r)?(_=!0,b=p,l=e.errSchemaPath+"/"+p,g+="="):(_=!1,O+="="));E="'"+O+"'";i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+f+" "+g+" "+r+" || "+f+" !== "+f+") { "}}b=b||t,(P=P||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+E+", limit: "+r+", exclusive: "+_+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+O+" ",i+=h?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";S=i;return i=P.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+f+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var d=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var d="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+f+".length ":i+=" ucs2length("+f+") ",i+=" "+d+" "+r+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+f+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var d=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+r+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(e,t,n){const{PartialReadError:r}=n(156);const i={i8:["readInt8","writeInt8",1],u8:["readUInt8","writeUInt8",1],i16:["readInt16BE","writeInt16BE",2],u16:["readUInt16BE","writeUInt16BE",2],i32:["readInt32BE","writeInt32BE",4],u32:["readUInt32BE","writeUInt32BE",4],f32:["readFloatBE","writeFloatBE",4],f64:["readDoubleBE","writeDoubleBE",8],li8:["readInt8","writeInt8",1],lu8:["readUInt8","writeUInt8",1],li16:["readInt16LE","writeInt16LE",2],lu16:["readUInt16LE","writeUInt16LE",2],li32:["readInt32LE","writeInt32LE",4],lu32:["readUInt32LE","writeUInt32LE",4],lf32:["readFloatLE","writeFloatLE",4],lf64:["readDoubleLE","writeDoubleLE",8]},o=Object.keys(i).reduce((e,t)=>{var o,a,s,u;return e[t]=(o=i[t][0],a=i[t][1],s=i[t][2],u=n(244)[t],[(e,t)=>{if(t+s>e.length)throw new r;return{value:e[o](t),size:s}},(e,t,n)=>(t[a](e,n),n+s),s,u]),e},{});o.i64=[function(e,t){if(t+8>e.length)throw new r;return{value:[e.readInt32BE(t),e.readInt32BE(t+4)],size:8}},function(e,t,n){return t.writeInt32BE(e[0],n),t.writeInt32BE(e[1],n+4),n+8},8,n(244).i64],o.li64=[function(e,t){if(t+8>e.length)throw new r;return{value:[e.readInt32LE(t+4),e.readInt32LE(t)],size:8}},function(e,t,n){return t.writeInt32LE(e[0],n+4),t.writeInt32LE(e[1],n),n+8},8,n(244).li64],o.u64=[function(e,t){if(t+8>e.length)throw new r;return{value:[e.readUInt32BE(t),e.readUInt32BE(t+4)],size:8}},function(e,t,n){return t.writeUInt32BE(e[0],n),t.writeUInt32BE(e[1],n+4),n+8},8,n(244).u64],o.lu64=[function(e,t){if(t+8>e.length)throw new r;return{value:[e.readUInt32LE(t+4),e.readUInt32LE(t)],size:8}},function(e,t,n){return t.writeUInt32LE(e[0],n+4),t.writeUInt32LE(e[1],n),n+8},8,n(244).lu64],e.exports=o},function(e,t,n){(function(t){const r=n(190),{getCount:i,sendCount:o,calcCount:a,PartialReadError:s}=n(156);function u(e,t){return e===t||parseInt(e)===parseInt(t)}function l(e){return(1<<e)-1}e.exports={varint:[function(e,t){let n=0,i=0,o=t;for(;;){if(o+1>e.length)throw new s;const a=e.readUInt8(o);if(n|=(127&a)<<i,o++,!(128&a))return{value:n,size:o-t};i+=7,r.ok(i<64,"varint is too big")}},function(e,t,n){let r=0;for(;-128&e;)t.writeUInt8(255&e|128,n+r),r++,e>>>=7;return t.writeUInt8(e,n+r),n+r+1},function(e){let t=0;for(;-128&e;)e>>>=7,t++;return t+1},n(157).varint],bool:[function(e,t){if(t+1>e.length)throw new s;return{value:!!e.readInt8(t),size:1}},function(e,t,n){return t.writeInt8(+e,n),n+1},1,n(157).bool],pstring:[function(e,t,n,r){const{size:o,count:a}=i.call(this,e,t,n,r),u=t+o,l=u+a;if(l>e.length)throw new s("Missing characters in string, found size is "+e.length+" expected size was "+l);return{value:e.toString("utf8",u,l),size:l-t}},function(e,n,r,i,a){const s=t.byteLength(e,"utf8");return r=o.call(this,s,n,r,i,a),n.write(e,r,s,"utf8"),r+s},function(e,n,r){const i=t.byteLength(e,"utf8");return a.call(this,i,n,r)+i},n(157).pstring],buffer:[function(e,t,n,r){const{size:o,count:a}=i.call(this,e,t,n,r);if((t+=o)+a>e.length)throw new s;return{value:e.slice(t,t+a),size:o+a}},function(e,t,n,r,i){return n=o.call(this,e.length,t,n,r,i),e.copy(t,n),n+e.length},function(e,t,n){return a.call(this,e.length,t,n)+e.length},n(157).buffer],void:[function(){return{value:void 0,size:0}},function(e,t,n){return n},0,n(157).void],bitfield:[function(e,t,n){const r=t;let i=null,o=0;const a={};return a.value=n.reduce((n,{size:r,signed:a,name:u})=>{let c=r,f=0;for(;c>0;){if(0===o){if(e.length<t+1)throw new s;i=e[t++],o=8}const n=Math.min(c,o);f=f<<n|(i&l(o))>>o-n,o-=n,c-=n}return a&&f>=1<<r-1&&(f-=1<<r),n[u]=f,n},{}),a.size=t-r,a},function(e,t,n,r){let i=0,o=0;r.forEach(({size:r,signed:a,name:s})=>{const u=e[s];if(!a&&u<0||a&&u<-(1<<r-1))throw new Error(e+" < "+a?-(1<<r-1):0);if(!a&&u>=1<<r||a&&u>=(1<<r-1)-1)throw new Error(e+" >= "+a?1<<r:(1<<r-1)-1);for(;r>0;){const e=Math.min(8-o,r);i=i<<e|u>>r-e&l(e),r-=e,o+=e,8===o&&(t[n++]=i,o=0,i=0)}}),0!==o&&(t[n++]=i<<8-o);return n},function(e,t){return Math.ceil(t.reduce((e,{size:t})=>e+t,0)/8)},n(157).bitfield],cstring:[function(e,t){let n=0;for(;t+n<e.length&&0!==e[t+n];)n++;if(e.length<t+n+1)throw new s;return{value:e.toString("utf8",t,t+n),size:n+1}},function(e,n,r){const i=t.byteLength(e,"utf8");return n.write(e,r,i,"utf8"),r+=i,n.writeInt8(0,r),r+1},function(e){return t.byteLength(e,"utf8")+1},n(157).cstring],mapper:[function(e,t,{type:n,mappings:r},i){const{size:o,value:a}=this.read(e,t,n,i);let s=null;const l=Object.keys(r);for(let e=0;e<l.length;e++)if(u(l[e],a)){s=r[l[e]];break}if(null==s)throw new Error(a+" is not in the mappings value");return{size:o,value:s}},function(e,t,n,{type:r,mappings:i},o){const a=Object.keys(i);let s=null;for(let t=0;t<a.length;t++)if(u(i[a[t]],e)){s=a[t];break}if(null==s)throw new Error(e+" is not in the mappings value");return this.write(s,t,n,r,o)},function(e,{type:t,mappings:n},r){const i=Object.keys(n);let o=null;for(let t=0;t<i.length;t++)if(u(n[i[t]],e)){o=i[t];break}if(null==o)throw new Error(e+" is not in the mappings value");return this.sizeOf(o,t,r)},n(157).mapper]}}).call(this,n(84).Buffer)},function(e){e.exports=JSON.parse('{"switch":{"title":"switch","type":"array","items":[{"enum":["switch"]},{"type":"object","properties":{"compareTo":{"$ref":"definitions#/definitions/contextualizedFieldName"},"compareToValue":{"type":"string"},"fields":{"type":"object","patternProperties":{"^[-a-zA-Z0-9 _:]+$":{"$ref":"dataType"}},"additionalProperties":false},"default":{"$ref":"dataType"}},"oneOf":[{"required":["compareTo","fields"]},{"required":["compareToValue","fields"]}],"additionalProperties":false}],"additionalItems":false},"option":{"title":"option","type":"array","items":[{"enum":["option"]},{"$ref":"dataType"}],"additionalItems":false}}')},function(e,t,n){"use strict";(function(t,r){var i;e.exports=P,P.ReadableState=O;n(61).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n(420),s=n(84).Buffer,u=t.Uint8Array||function(){};var l,c=n(523);l=c&&c.debuglog?c.debuglog("stream"):function(){};var f,h,d,p=n(524),m=n(421),y=n(422).getHighWaterMark,v=n(191).codes,g=v.ERR_INVALID_ARG_TYPE,b=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(116)(P,a);var x=m.errorOrDestroy,k=["error","close","destroy","pause","resume"];function O(e,t,r){i=i||n(192),e=e||{},"boolean"!=typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(245).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function P(e){if(i=i||n(192),!(this instanceof P))return new P(e);var t=this instanceof i;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function S(e,t,n,r,i){l("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,a);else if(i||(o=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new g("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(a,t)),o)x(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)a.endEmitted?x(e,new _):E(e,a,t,!0);else if(a.ended)x(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?E(e,a,t,!1):T(e,a)):E(e,a,t,!1)}else r||(a.reading=!1,T(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),T(e,t)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),P.prototype.destroy=m.destroy,P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(e,t){t(e)},P.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),S(this,e,t,!1,n)},P.prototype.unshift=function(e){return S(this,e,null,!0,!1)},P.prototype.isPaused=function(){return!1===this._readableState.flowing},P.prototype.setEncoding=function(e){f||(f=n(245).StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function j(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(A,e))}function A(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function T(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function z(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function D(e){l("readable nexttick read 0"),e.read(0)}function R(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function L(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(F,t,e))}function F(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function N(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}P.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):C(this),null;if(0===(e=j(e,t))&&t.ended)return 0===t.length&&L(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=j(n,t))),null===(r=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&L(this)),null!==r&&this.emit("data",r),r},P.prototype._read=function(e){x(this,new w("_read()"))},P.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:y;function s(t,r){l("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",y),n.removeListener("data",h),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function u(){l("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",s);var c=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",c);var f=!1;function h(t){l("ondata");var r=e.write(t);l("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==N(i.pipes,e))&&!f&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function d(t){l("onerror",t),y(),e.removeListener("error",d),0===o(e,"error")&&x(e,t)}function p(){e.removeListener("finish",m),y()}function m(){l("onfinish"),e.removeListener("close",p),y()}function y(){l("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",p),e.once("finish",m),e.emit("pipe",n),i.flowing||(l("pipe resume"),n.resume()),e},P.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},P.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?C(this):i.reading||r.nextTick(D,this))),n},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(z,this),n},P.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(z,this),t},P.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(R,e,t))}(this,e)),e.paused=!1,this},P.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<k.length;o++)e.on(k[o],this.emit.bind(this,k[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(P.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=n(526)),h(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),P._fromList=B,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(P.from=function(e,t){return void 0===d&&(d=n(527)),d(P,e,t)})}).call(this,n(55),n(56))},function(e,t,n){e.exports=n(61).EventEmitter},function(e,t,n){"use strict";(function(t){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(r,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n(56))},function(e,t,n){"use strict";var r=n(191).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=P,P.WritableState=O;var a={deprecate:n(369)},s=n(420),u=n(84).Buffer,l=t.Uint8Array||function(){};var c,f=n(421),h=n(422).getHighWaterMark,d=n(191).codes,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,g=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,x=f.errorOrDestroy;function k(){}function O(e,t,a){o=o||n(192),e=e||{},"boolean"!=typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(T,e,t),e._writableState.errorEmitted=!0,x(e,i)):(o(i),e._writableState.errorEmitted=!0,x(e,i),T(e,t))}(e,n,i,t,o);else{var a=C(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||j(e,n),i?r.nextTick(E,e,n,a,o):E(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function P(e){var t=this instanceof(o=o||n(192));if(!t&&!c.call(P,this))return new P(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function S(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),T(e,t)}function j(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,S(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback;if(S(e,t,!1,t.objectMode?1:l.length,l,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(n){t.pendingcb--,n&&x(e,n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n=C(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(116)(P,s),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===P&&(e&&e._writableState instanceof O)}})):c=function(e){return e instanceof this},P.prototype.pipe=function(){x(this,new v)},P.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof l);return s&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=k),o.ending?function(e,t){var n=new w;x(e,n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o;return null===n?o=new b:"string"==typeof n||t.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(x(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,s,r,i,o);return l}(this,o,s,e,t,n)),a},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||j(this,e))},P.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(e,t,n){n(new m("_write()"))},P.prototype._writev=null,P.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),P.prototype.destroy=f.destroy,P.prototype._undestroy=f.undestroy,P.prototype._destroy=function(e,t){t(e)}}).call(this,n(55),n(56))},function(e,t,n){"use strict";e.exports=c;var r=n(191).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(192);function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(116)(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new i("_transform()"))},c.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(61),i=n(183),o=n(136),a=n(448),s=n(96),u=n(262),l=n(206),c=n(40),f=n(126),h=n(59);const d={1:"blue",2:"green",3:"cyan",4:"red",5:"purple",6:"orange",7:"lightgray",8:"gray",9:"indigo",a:"lime",b:"lightblue",c:"lightred",d:"magenta",e:"yellow",f:"white"};function p(){const e={};let t=0;return Object.values(l.b).forEach(n=>{e[t]={id:n.id,count:1,data:{}},t+=1}),e}function m(e){let t=Math.floor(e/6.29*255)+0;return t<0&&(t+=255),(t>255||t<0)&&(t=0),t}function y(e){let t=Math.floor(e/6.29*255)+64;return t>255&&(t-=255),(t>255||t<0)&&(t=0),t}const v={airJumps:0,airMoveMult:.5,crouch:!1,crouchMoveMult:.8,jumpForce:6,jumpImpulse:8.5,jumpTime:500,jumping:!1,maxSpeed:6,moveForce:30,responsiveness:15,running:!1,runningFriction:0,sprint:!1,sprintMoveMult:1.2,standingFriction:2};t.a=function(t,n){const g=new r.EventEmitter,b=new r.EventEmitter;n=n.replace("*","");const w=new WebSocket("ws://"+t);w.binaryType="arraybuffer";const _=new a.a;console.log(t,n);const x=new i.b(g,b,n);return console.log("Using classic protocol"),w.onmessage=async e=>{const t=o.parseToObject("proxy-server",new Uint8Array(e.data));null!=t&&"Data"==t.type&&_.deserializer.write(t.data.message)},w.onclose=async()=>{console.log(1),g.emit("PlayerKick",{reason:"Connection closed!"})},w.onopen=()=>{console.log("Connected to server!"),setTimeout(()=>{g.emit("LoginRequest",{})},1400)},g.on("close",()=>{w.close()}),b.on("close",()=>{g.removeAllListeners(),b.removeAllListeners(),w.close()}),_.on("error",e=>{g.emit("PlayerKick",{reason:""+e})}),_.on("send",e=>{w.send(o.parseToMessage("proxy-client","Data",{message:_.serializer.createPacketBuffer(e)}))}),b.on("LoginResponse",t=>{const r=o.parseToMessage("proxy-client","AuthRequest",{username:t.username,protoco:t.protocol,client:t.client,uuid:t.uuid,secret:t.secret,serverId:n.replace("c0.30|","")});w.send(r),_.send("player_identification",{protocol_version:7,username:t.username,verification_key:"",unused:0});let i=null,a=null,x=!1,k=[];const O={};let P={x:0,y:0,z:0,rotation:0,pitch:0},S={items:p(),size:49,tempslot:{},selected:0};function E(){let e=[];Object.values(O).forEach(t=>{e.push({text:t.name+"\n",color:"white"})}),e.push({text:t.username,color:"white"}),g.emit("UpdateTextBoard",{message:e,time:Date.now(),type:f.UpdateTextBoard.Type.TAB})}b.on("ActionMessage",e=>{_.send("message",{message:e.message})}),b.on("ActionBlockBreak",e=>{let t=1;null!=S.items[S.selected]&&(t=l.a[S.items[S.selected].id].rawid),_.send("set_block",{x:e.z,y:e.y,z:e.x,mode:0,block_type:t})}),b.on("ActionBlockPlace",e=>{if(null==S.items[S.selected])return;const t=l.a[S.items[S.selected].id];null!=t&&_.send("set_block",{x:e.z,y:e.y,z:e.x,block_type:t.rawid,mode:1})}),b.on("ActionInventoryClick",e=>{if(e.type==c.ActionInventoryClick.Type.SELECT)S.selected=e.slot;else{let t=S.tempslot,n=S.items[e.slot];S.items[e.slot]=t,S.tempslot=n,g.emit("PlayerSlotUpdate",{slot:-1,data:JSON.stringify(S.tempslot),type:"temp"}),g.emit("PlayerSlotUpdate",{slot:e.slot,data:JSON.stringify(S.items[e.slot]),type:"main"})}}),b.on("ActionMove",async e=>{x&&(P={...P,...e},_.send("position",{x:32*e.z,y:32*e.y+51,z:32*e.x,yaw:y(P.rotation),pitch:m(P.pitch)}))}),b.on("ActionMoveLook",async e=>{x&&(P={...P,...e},_.send("position",{x:32*e.z,y:32*e.y+51,z:32*e.x,yaw:y(e.rotation),pitch:m(e.pitch)}))}),b.on("ActionLook",async e=>{x&&(P={...P,...e},_.send("position",{x:32*P.z,y:32*P.y+51,z:32*P.x,yaw:y(e.rotation),pitch:m(e.pitch)}))}),b.on("ActionClick",e=>{}),b.on("ActionClickEntity",e=>{}),_.on("message",e=>{const t=e.message.split(/(&[0-9a-fA-F])/),n=[{text:"",color:"white"}];let r=0;for(r=0;r<t.length;r++)null!=t[r]&&("&"==t[r][0]&&/([kmobnr])/.test(t[r][1])||("&"==t[r][0]&&/([0-9a-fA-F])/.test(t[r][1])?n.push({text:"",color:d[t[r][1]]}):n[n.length-1].text=n[n.length-1].text+t[r]));g.emit("ChatMessage",{message:n})}),_.on("spawn_player",e=>{if(255==e.player_id||-1==e.player_id){g.emit("LoginSuccess",{xPos:e.z/32,yPos:e.y/32,zPos:e.x/32,inventory:JSON.stringify(S),blocksDef:JSON.stringify(l.a),itemsDef:JSON.stringify(l.b),armor:JSON.stringify({items:{},selected:0,size:0}),allowCheats:!1,allowCustomSkins:!0,movement:JSON.stringify(v)}),g.emit("PlayerEntity",{uuid:"player"+e.player_id.toString()});const t={x:e.z/32,y:e.y/32,z:e.x/32};g.emit("PlayerTeleport",t),k.forEach(e=>g.emit("WorldChunkLoad",e)),setTimeout(()=>{x=!0},100)}else setTimeout(()=>{g.emit("EntityCreate",{uuid:"player"+e.player_id.toString(),data:JSON.stringify({position:[0,0,0],model:"player",texture:"entity/steve",type:"player",name:e.player_name,nametag:!0,maxHealth:20,health:20,rotation:1,pitch:1,hitbox:[.55,1.9,.55],armor:{items:{0:{},1:{},2:{},3:{}},size:4,selected:0}})})},50),O[e.player_id]={id:"player"+e.player_id.toString(),x:e.x,y:e.y,z:e.z,name:e.player_name};E()}),_.on("despawn_player",e=>{null!=O[e.player_id]&&delete O[e.player_id],g.emit("EntityRemove",{uuid:"player"+e.player_id.toString()}),E()}),_.on("position_update",e=>{O[e.player_id].x=O[e.player_id].x+e.change_in_x,O[e.player_id].y=O[e.player_id].y+e.change_in_y,O[e.player_id].z=O[e.player_id].z+e.change_in_z,g.emit("EntityMove",{uuid:O[e.player_id].id,x:O[e.player_id].z/32,y:(O[e.player_id].y-51)/32,z:O[e.player_id].x/32,rotation:(O[e.player_id].rotation-64)/255*6.28,yaw:O[e.player_id].yaw/255*6.28})}),_.on("position_and_orientation_update",e=>{O[e.player_id].x=O[e.player_id].x+e.change_in_x,O[e.player_id].y=O[e.player_id].y+e.change_in_y,O[e.player_id].z=O[e.player_id].z+e.change_in_z,O[e.player_id].rotation=e.yaw,O[e.player_id].yaw=e.pitch,g.emit("EntityMove",{uuid:O[e.player_id].id,x:O[e.player_id].z/32,y:(O[e.player_id].y-51)/32,z:O[e.player_id].x/32,rotation:(O[e.player_id].rotation-64)/255*6.28,yaw:O[e.player_id].yaw/255*6.28})}),_.on("orientation_update",e=>{O[e.player_id].rotation=e.yaw,O[e.player_id].yaw=e.pitch,g.emit("EntityMove",{uuid:O[e.player_id].id,x:O[e.player_id].z/32,y:(O[e.player_id].y-51)/32,z:O[e.player_id].x/32,rotation:(O[e.player_id].rotation-64)/255*6.28,yaw:O[e.player_id].yaw/255*6.28})}),_.on("player_teleport",e=>{255==e.player_id||-1==e.player_id?g.emit("PlayerTeleport",{x:e.z/32,y:e.y/32,z:e.x/32}):(O[e.player_id].x=e.x,O[e.player_id].y=e.y,O[e.player_id].z=e.z,g.emit("EntityMove",{uuid:O[e.player_id].id,x:O[e.player_id].z/32,y:(O[e.player_id].y-51)/32,z:O[e.player_id].x/32,rotation:(O[e.player_id].rotation-64)/255*6.28,yaw:O[e.player_id].yaw/3.14}))}),_.on("disconnect",()=>{h.d.close()}),_.on("set_block",e=>{g.emit("WorldBlockUpdate",{x:e.z,y:e.y,z:e.x,id:e.block_type})}),_.on("disconnect_player",e=>{g.emit("PlayerKick",{reason:e.disconnect_reason}),h.d.close()}),_.on("level_initialize",t=>{a=e.alloc(0),i=null,k=[],g.emit("LoginStatus",{message:"Loading world... 0%",time:Date.now()})}),_.on("level_data_chunk",t=>{a=e.concat([a,t.chunk_data]),g.emit("LoginStatus",{message:"Loading world... "+t.percent_complete+"%",time:Date.now()})}),_.on("level_finalize",t=>{let n,r,o;g.emit("LoginStatus",{message:"Loading world... 100%",time:Date.now()}),i=u.ungzip(a);let l=Math.ceil(t.x_size/32),c=Math.ceil(t.y_size/32),f=Math.ceil(t.z_size/32);for(n=0;n<l;n++)for(r=0;r<c;r++)for(o=0;o<f;o++){const a=new s(new Uint16Array(32768),[32,32,32]);let u,l,c;for(u=0;u<32;u++)for(l=0;l<32;l++)for(c=0;c<32;c++){const e=4+u+32*n+t.z_size*(c+32*o+t.x_size*(l+32*r));e<i.length&&a.set(c,l,u,i[e])}const f={x:o,y:r,z:n,data:e.from(a.data.buffer,a.data.byteOffset),compressed:!1,height:1};k.push(f)}_.send("message",{message:"This user connected to this server with VoxelSrv"})})}),x}}).call(this,n(84).Buffer)},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"string",(function(){return i})),n.d(t,"byte_array",(function(){return o}));const r=n(266).utils.PartialReadError;const i=[function(e,t){if(t+64>e.length)throw new r;var n=e.toString("ascii",t,t+64);return{value:n=n.trim(),size:64}},function(e,t,n){for(var r=e.length-1;r<64;r++)e+=" ";return t.write(e,n,64,"ascii"),n+64},64],o=[function(e,t){var n=this.read(e,t,"i16");if((t+=2)+1024>e.length)throw new r;return{value:e.slice(t,t+n.value),size:1026}},function(t,n,r){r=this.write(t.length,n,r,"i16"),r+=t.copy(n,r);var i=e.alloc(1024-t.length);return i.fill(0),r+=i.copy(n,r)},function(){return 1026}]}.call(this,n(84).Buffer)},function(e){e.exports=JSON.parse('{"types":{"u8":"native","string":"native","i8":"native","i16":"native","byte_array":"native"},"toServer":{"types":{"packet_player_identification":["container",[{"name":"protocol_version","type":"u8"},{"name":"username","type":"string"},{"name":"verification_key","type":"string"},{"name":"unused","type":"i8"}]],"packet_set_block":["container",[{"name":"x","type":"i16"},{"name":"y","type":"i16"},{"name":"z","type":"i16"},{"name":"mode","type":"u8"},{"name":"block_type","type":"u8"}]],"packet_position":["container",[{"name":"player_id","type":"u8"},{"name":"x","type":"i16"},{"name":"y","type":"i16"},{"name":"z","type":"i16"},{"name":"yaw","type":"u8"},{"name":"pitch","type":"u8"}]],"packet_message":["container",[{"name":"unused","type":"u8"},{"name":"message","type":"string"}]],"packet":["container",[{"name":"name","type":["mapper",{"type":"u8","mappings":{"0x00":"player_identification","0x05":"set_block","0x08":"position","0x0d":"message"}}]},{"name":"params","type":["switch",{"compareTo":"name","fields":{"player_identification":"packet_player_identification","set_block":"packet_set_block","position":"packet_position","message":"packet_message"}}]}]]}},"toClient":{"types":{"packet_server_identification":["container",[{"name":"protocol_version","type":"u8"},{"name":"server_name","type":"string"},{"name":"server_motd","type":"string"},{"name":"user_type","type":"i8"}]],"packet_ping":["container",[]],"packet_level_initialize":["container",[]],"packet_level_data_chunk":["container",[{"name":"chunk_data","type":"byte_array"},{"name":"percent_complete","type":"u8"}]],"packet_level_finalize":["container",[{"name":"x_size","type":"i16"},{"name":"y_size","type":"i16"},{"name":"z_size","type":"i16"}]],"packet_set_block":["container",[{"name":"x","type":"i16"},{"name":"y","type":"i16"},{"name":"z","type":"i16"},{"name":"block_type","type":"u8"}]],"packet_spawn_player":["container",[{"name":"player_id","type":"i8"},{"name":"player_name","type":"string"},{"name":"x","type":"i16"},{"name":"y","type":"i16"},{"name":"z","type":"i16"},{"name":"yaw","type":"u8"},{"name":"pitch","type":"u8"}]],"packet_player_teleport":["container",[{"name":"player_id","type":"i8"},{"name":"x","type":"i16"},{"name":"y","type":"i16"},{"name":"z","type":"i16"},{"name":"yaw","type":"u8"},{"name":"pitch","type":"u8"}]],"packet_position_and_orientation_update":["container",[{"name":"player_id","type":"i8"},{"name":"change_in_x","type":"i8"},{"name":"change_in_y","type":"i8"},{"name":"change_in_z","type":"i8"},{"name":"yaw","type":"i8"},{"name":"pitch","type":"i8"}]],"packet_position_update":["container",[{"name":"player_id","type":"i8"},{"name":"change_in_x","type":"i8"},{"name":"change_in_y","type":"i8"},{"name":"change_in_z","type":"i8"}]],"packet_orientation_update":["container",[{"name":"player_id","type":"i8"},{"name":"yaw","type":"u8"},{"name":"pitch","type":"u8"}]],"packet_despawn_player":["container",[{"name":"player_id","type":"i8"}]],"packet_message":["container",[{"name":"player_id","type":"i8"},{"name":"message","type":"string"}]],"packet_disconnect_player":["container",[{"name":"disconnect_reason","type":"string"}]],"packet_update_user_type":["container",[{"name":"user_type","type":"u8"}]],"packet":["container",[{"name":"name","type":["mapper",{"type":"u8","mappings":{"0x00":"server_identification","0x01":"ping","0x02":"level_initialize","0x03":"level_data_chunk","0x04":"level_finalize","0x06":"set_block","0x07":"spawn_player","0x08":"player_teleport","0x09":"position_and_orientation_update","0x0a":"position_update","0x0b":"orientation_update","0x0c":"despawn_player","0x0d":"message","0x0e":"disconnect_player","0x0f":"update_user_type"}}]},{"name":"params","type":["switch",{"compareTo":"name","fields":{"server_identification":"packet_server_identification","ping":"packet_ping","level_initialize":"packet_level_initialize","level_data_chunk":"packet_level_data_chunk","level_finalize":"packet_level_finalize","set_block":"packet_set_block","spawn_player":"packet_spawn_player","player_teleport":"packet_player_teleport","position_and_orientation_update":"packet_position_and_orientation_update","position_update":"packet_position_update","orientation_update":"packet_orientation_update","despawn_player":"packet_despawn_player","message":"packet_message","disconnect_player":"packet_disconnect_player","update_user_type":"packet_update_user_type"}}]}]]}}}')},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(61),i=n(266),o=n(395),a=n(444),s=n(445);function u(e,t){var n=new i.ProtoDef;return n.addTypes(a),function e(t,n,r){void 0!==n&&(n.types&&t.addTypes(n.types),e(t,Object(o.get)(n,r.shift()),r))}(n,Object(o.merge)(s,e),[t]),n}class l extends r.EventEmitter{constructor(){super(),this.isServer=!1,this.customPackets={},this.serializer=function(e=!1,t){return new i.Serializer(u(t,e?"toClient":"toServer"),"packet")}(!1,this.customPackets),this.deserializer=function(e=!1,t){return new i.Parser(u(t,e?"toServer":"toClient"),"packet")}(!1,this.customPackets),this.serializer.on("error",e=>{var t=e.field?e.field.split("."):[];t.shift();var n=this.isServer?"toClient":"toServer";e.field=[n].concat(t).join("."),e.message=`Serialization error for ${e.field} : ${e.message}`,this.emit("error",e)}),this.deserializer.on("error",e=>{var t=e.field?e.field.split("."):[];t.shift();var n=this.isServer?"toServer":"toClient";e.field=[n].concat(t).join("."),e.message=`Deserialization error for ${e.field} : ${e.message}`,this.emit("error",e)}),this.deserializer.on("data",e=>{e.metadata.name=e.data.name,e.data=e.data.params,this.emit("packet",e.data,e.metadata),this.emit(e.metadata.name,e.data,e.metadata),this.emit("raw."+e.metadata.name,e.buffer,e.metadata),this.emit("raw",e.buffer,e.metadata)})}send(e,t){this.emit("send",{name:e,params:t})}}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o){var a=+t[0],s=+t[1],u=+t[2],l=+n[0],c=+n[1],f=+n[2],h=Math.sqrt(l*l+c*c+f*f);if(0===h)throw new Error("Can't raycast along a zero vector");return function(e,t,n,r,i,o,a,s,u,l){for(var c=0,f=Math.floor,h=0|f(t),d=0|f(n),p=0|f(r),m=i>0?1:-1,y=o>0?1:-1,v=a>0?1:-1,g=Math.abs(1/i),b=Math.abs(1/o),w=Math.abs(1/a),_=g<1/0?g*(m>0?h+1-t:t-h):1/0,x=b<1/0?b*(y>0?d+1-n:n-d):1/0,k=w<1/0?w*(v>0?p+1-r:r-p):1/0,O=-1;c<=s;){var P=e(h,d,p);if(P)return u&&(u[0]=t+c*i,u[1]=n+c*o,u[2]=r+c*a),l&&(l[0]=l[1]=l[2]=0,0===O&&(l[0]=-m),1===O&&(l[1]=-y),2===O&&(l[2]=-v)),P;_<x?_<k?(h+=m,c=_,_+=g,O=0):(p+=v,c=k,k+=w,O=2):x<k?(d+=y,c=x,x+=b,O=1):(p+=v,c=k,k+=w,O=2)}return u&&(u[0]=t+c*i,u[1]=n+c*o,u[2]=r+c*a),l&&(l[0]=l[1]=l[2]=0),0}(e,a,s,u,l/=h,c/=h,f/=h,r=void 0===r?64:+r,i,o)}},function(e,t,n){"use strict";n.r(t),n.d(t,"MicroGameShell",(function(){return i}));var r=performance||Date;class i{constructor(e,t=10){this.stickyPointerLock=!1,this.stickyFullscreen=!1,this.tickRate=30,this.maxRenderRate=0,this.pointerLock=!1,this.fullscreen=!1,this.onTick=function(e){},this.onRender=function(){},this.onInit=function(){},this.onResize=function(){},this.onPointerLockChanged=function(e){},this.onFullscreenChanged=function(e){},o(()=>{!function(e,t){var n=0,i=0,o=0,a=()=>{requestAnimationFrame(a);var t=r.now(),s=t-o;if(o=t,e.maxRenderRate>0){i+=s;var u=1e3/e.maxRenderRate;if(i<u)return;i=Math.min(i-u,u)}var l=1e3/e.tickRate,c=(t-n)/l;e.onRender(s,c,l)};setInterval(()=>{var t=r.now(),i=1e3/e.tickRate,o=n+i;t<o||(n=Math.max(t-i,o),e.onTick(i))},t||10),requestAnimationFrame(a)}(this,t),function(e,t){if(!t)return;var n=!1,r=!1;document.addEventListener("pointerlockchange",r=>{n=document.pointerLockElement===t,e.onPointerLockChanged(n)}),document.addEventListener("fullscreenchange",n=>{r=document.fullscreenElement===t,e.onFullscreenChanged(r)}),Object.defineProperty(e,"pointerLock",{get:()=>n,set:e=>{e&&!n?t.requestPointerLock():n&&!e&&document.exitPointerLock()}}),Object.defineProperty(e,"fullscreen",{get:()=>r,set:e=>{e&&!r?t.requestFullscreen():r&&!e&&document.exitFullscreen()}}),t.addEventListener("click",i=>{e.stickyPointerLock&&!n&&t.requestPointerLock(),e.stickyFullscreen&&!r&&t.requestFullscreen()});var i=()=>e.onResize();if(window.ResizeObserver){new ResizeObserver(i).observe(t)}else window.addEventListener("resize",i)}(this,e),this.onInit()})}}var o=e=>{if("loading"===document.readyState){var t=()=>{document.removeEventListener("readystatechange",t),e()};document.addEventListener("readystatechange",t)}else setTimeout(e,1)}},function(e,t,n){var r=n(452),i=n(61).EventEmitter,o=n(453);function a(e,t){this.element=e||document,t=t||{},this.preventDefaults=!!t.preventDefaults,this.stopPropagation=!!t.stopPropagation,this.allowContextMenu=!!t.allowContextMenu,this.disabled=!!t.disabled,this.down=new i,this.up=new i,this.state={dx:0,dy:0,scrollx:0,scrolly:0,scrollz:0},this._keybindmap={},this._keyStates={},this._bindPressCounts={},this._ignoreMousemoveOnce=!1,this.initEvents()}function s(e,t,n){v(n.keyCode,r[n.keyCode],t,e,n)}function u(e,t,n){return v(-1-n.button,"<mouse "+(n.button+1)+">",t,e,n),!1}function l(e){if(!e.allowContextMenu)return!1}function c(e,t){if(e._ignoreMousemoveOnce)e._ignoreMousemoveOnce=!1;else{var n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;if(t.touches&&0==(n|r)){var i=function(e){for(var t,n=e.changedTouches,r=0;r<n.length;++r)n[r].identifier==d&&(t=n[r]);if(!t)return[0,0];var i=[t.clientX-f,t.clientY-h];return f=t.clientX,h=t.clientY,i}(t);n=i[0],r=i[1]}e.state.dx+=n,e.state.dy+=r}}e.exports=function(e,t){return new a(e,t)},a.prototype.initEvents=function(){window.addEventListener("keydown",s.bind(void 0,this,!0),!1),window.addEventListener("keyup",s.bind(void 0,this,!1),!1),this.element.addEventListener("mousedown",u.bind(void 0,this,!0),!1),this.element.addEventListener("mouseup",u.bind(void 0,this,!1),!1),this.element.oncontextmenu=l.bind(void 0,this),this.element.addEventListener("dragstart",u.bind(void 0,this,!1),!1),this.element.addEventListener("mousemove",c.bind(void 0,this),!1),this.element.addEventListener("touchmove",c.bind(void 0,this),!1),this.element.addEventListener("touchstart",p.bind(void 0,this),!1),o(this.element,m.bind(void 0,this),!1),document.addEventListener("pointerlockchange",y.bind(void 0,this),!1),document.addEventListener("mozpointerlockchange",y.bind(void 0,this),!1)},a.prototype.bind=function(e){for(var t=1;t<arguments.length;++t){var n=arguments[t],r=this._keybindmap[n]||[];-1==r.indexOf(e)&&r.push(e),this._keybindmap[n]=r}this.state[e]=!!this.state[e]},a.prototype.unbind=function(e){for(var t in this._keybindmap){var n=this._keybindmap[t],r=n.indexOf(e);r>-1&&n.splice(r,1)}},a.prototype.tick=function(){this.state.dx=this.state.dy=0,this.state.scrollx=this.state.scrolly=this.state.scrollz=0},a.prototype.getBoundKeys=function(){var e=[];for(var t in this._keybindmap)e.push(t);return e};var f=0,h=0,d=null;function p(e,t){var n=t.changedTouches[0];f=n.clientX,h=n.clientY,d=n.identifier}function m(e,t){var n=1;switch(t.deltaMode){case 0:n=1;break;case 1:n=12;break;case 2:n=e.element.clientHeight||window.innerHeight}return e.state.scrollx+=t.deltaX*n,e.state.scrolly+=t.deltaY*n,e.state.scrollz+=t.deltaZ*n||0,!1}function y(e,t){(document.pointerLockElement||document.mozPointerLockElement||null)&&(e._ignoreMousemoveOnce=!0)}function v(e,t,n,r,i){var o=r._keybindmap[t];if(o){if(r.preventDefaults&&i.preventDefault(),r.stopPropagation&&i.stopPropagation(),b(r._keyStates[e],n))for(var a=0;a<o.length;++a)g(o[a],n,r,i);r._keyStates[e]=n}}function g(e,t,n,r){var i=n._bindPressCounts[e]||0;if((i+=t?1:-1)<0&&(i=0),n._bindPressCounts[e]=i,b(n.state[e],i)){var o=t?n.down:n.up;n.disabled||o.emit(e,r)}n.state[e]=!!i}function b(e,t){return e?!t:t}},function(e,t,n){"use strict";var r,i="undefined"!=typeof window?window.navigator.userAgent:"",o=/OS X/.test(i),a=/Opera/.test(i),s=!/like Gecko/.test(i)&&!a,u=e.exports={0:o?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:o?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num--\x3e",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:o&&s?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:a?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(r=58;r<65;++r)u[r]=String.fromCharCode(r);for(r=48;r<58;++r)u[r]=r-48+"";for(r=65;r<91;++r)u[r]=String.fromCharCode(r);for(r=96;r<106;++r)u[r]="<num-"+(r-96)+">";for(r=112;r<136;++r)u[r]="F"+(r-111)},function(e,t){var n,r,i="";function o(e,t,o,a){e[n](i+t,"wheel"==r?o:function(e){!e&&(e=window.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==r?(t.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=-1/40*e.wheelDeltaX)):t.deltaY=e.detail,o(t)},a||!1)}window.addEventListener?n="addEventListener":(n="attachEvent",i="on"),r="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.exports=function(e,t,n){o(e,r,t,n),"DOMMouseScroll"==r&&o(e,"MozMousePixelScroll",t,n)}},function(e,t,n){"use strict";var r=n(354),i=n(77),o=n(404),a=n(455);e.exports=function(e,t,n){return new u(e,t,n)};var s={gravity:[0,-10,0],minBounceImpulse:.5,airDrag:.1,fluidDrag:.4,fluidDensity:2};function u(e,t,n){e=Object.assign({},s,e),this.gravity=e.gravity,this.airDrag=e.airDrag,this.fluidDensity=e.fluidDensity,this.fluidDrag=e.fluidDrag,this.minBounceImpulse=e.minBounceImpulse,this.bodies=[],this.testSolid=t,this.testFluid=n}u.prototype.addBody=function(e,t,n,i,o,s){e=e||new r([0,0,0],[1,1,1]),void 0===t&&(t=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=1);var u=new a(e,t,n,i,o,s);return this.bodies.push(u),u},u.prototype.removeBody=function(e){var t=this.bodies.indexOf(e);t<0||(this.bodies.splice(t,1),e.aabb=e.onCollide=null)};var l=i.create(),c=i.create(),f=i.create(),h=i.create(),d=i.create();u.prototype.tick=function(e){e/=1e3;var t=O(0,i.squaredLength(this.gravity));this.bodies.forEach(n=>function(e,t,n,r){if(i.copy(d,t.resting),t.mass<=0)return i.set(t.velocity,0,0,0),i.set(t._forces,0,0,0),void i.set(t._impulses,0,0,0);var a=r||0===t.gravityMultiplier;if(function(e,t,n,r){if(t._sleepFrameCount>0)return!1;if(r)return!0;var a=!1,s=.5*n*n*t.gravityMultiplier;return i.scale(k,e.gravity,s),o(e.testSolid,t.aabb,k,(function(){return a=!0,!0}),!0),a}(e,t,n,a))return;t._sleepFrameCount--,function(e,t){var n=t.aabb,r=Math.floor(n.base[0]),o=Math.floor(n.base[2]),a=Math.floor(n.base[1]),s=Math.floor(n.max[1]);if(!e.testFluid(r,a,o))return t.inFluid=!1,void(t.ratioInFluid=0);var u=1,l=a+1;for(;l<=s&&e.testFluid(r,l,o);)u++,l++;var c=(a+u-n.base[1])/n.vec[1];c>1&&(c=1);var f=n.vec[0]*n.vec[1]*n.vec[2]*c,h=p;i.scale(h,e.gravity,-e.fluidDensity*f),t.applyForce(h),t.inFluid=!0,t.ratioInFluid=c}(e,t),S(t._forces),S(t._impulses),S(t.velocity),S(t.resting),i.scale(l,t._forces,1/t.mass),i.scaleAndAdd(l,l,e.gravity,t.gravityMultiplier),i.scale(c,t._impulses,1/t.mass),i.scaleAndAdd(c,c,l,n),i.add(t.velocity,t.velocity,c),t.friction&&(m(0,t,c),m(1,t,c),m(2,t,c));var s=t.airDrag>=0?t.airDrag:e.airDrag;t.inFluid&&(s=t.fluidDrag>=0?t.fluidDrag:e.fluidDrag,s*=1-(1-t.ratioInFluid)**2);var u=Math.max(1-s*n/t.mass,0);i.scale(t.velocity,t.velocity,u),i.scale(f,t.velocity,n),i.set(t._forces,0,0,0),i.set(t._impulses,0,0,0),t.autoStep&&P(g,t.aabb);v(e,t.aabb,f,t.resting),t.autoStep&&function(e,t,n,r){if(t.resting[1]>=0&&!t.inFluid)return;var a=0!==t.resting[0],s=0!==t.resting[2];if(!a&&!s)return;var u=Math.abs(r[0]/r[2]);if(!a&&u>4)return;if(!s&&u<1/4)return;i.add(w,n.base,r);var l=e.testSolid;o(l,n,r,(function(e,t,n,r){if(1!==t)return!0;r[t]=0}));var c=t.aabb.base[1],f=Math.floor(c+1.001)-c;i.set(_,0,f,0);var h=!1;if(o(l,n,_,(function(e,t,n,r){return h=!0,!0})),h)return;if(i.subtract(x,w,n.base),x[1]=0,v(e,n,x,b),a&&!O(n.base[0],w[0]))return;if(s&&!O(n.base[2],w[2]))return;P(t.aabb,n),t.resting[0]=b[0],t.resting[2]=b[2],t.onStep&&t.onStep()}(e,t,g,f);for(var y=0;y<3;++y)h[y]=0,t.resting[y]&&(d[y]||(h[y]=-t.velocity[y]),t.velocity[y]=0);var E=i.length(h);E>.001&&(i.scale(h,h,t.mass),t.onCollide&&t.onCollide(h),t.restitution>0&&E>e.minBounceImpulse&&(i.scale(h,h,t.restitution),t.applyImpulse(h)));i.squaredLength(t.velocity)>1e-5&&t._markActive()}(this,n,e,t))};var p=i.create();function m(e,t,n){var r=t.resting[e],o=n[e];if(0!==r&&!(r*o<=0)){i.copy(y,t.velocity),y[e]=0;var a=i.length(y);if(!O(a,0)){var s=Math.abs(t.friction*o),u=a>s?(a-s)/a:0;t.velocity[(e+1)%3]*=u,t.velocity[(e+2)%3]*=u}}}var y=i.create();function v(e,t,n,r){return i.set(r,0,0,0),o(e.testSolid,t,n,(function(e,t,n,i){r[t]=n,i[t]=0}))}var g=new r([],[]),b=i.create(),w=i.create(),_=i.create(),x=i.create();var k=i.create();function O(e,t){return Math.abs(e-t)<1e-5}function P(e,t){for(var n=0;n<3;n++)e.base[n]=t.base[n],e.max[n]=t.max[n],e.vec[n]=t.vec[n]}var S=function(){}},function(e,t,n){"use strict";var r=n(354),i=n(77);function o(e,t,n,o,a,s,u){this.aabb=new r(e.base,e.vec),this.mass=t,this.friction=n,this.restitution=o,this.gravityMultiplier=a,this.onCollide=s,this.autoStep=!!u,this.airDrag=-1,this.fluidDrag=-1,this.onStep=null,this.velocity=i.create(),this.resting=[0,0,0],this.inFluid=!1,this._ratioInFluid=0,this._forces=i.create(),this._impulses=i.create(),this._sleepFrameCount=10}e.exports=o,o.prototype.setPosition=function(e){a(e),i.subtract(e,e,this.aabb.base),this.aabb.translate(e),this._markActive()},o.prototype.getPosition=function(){return i.clone(this.aabb.base)},o.prototype.applyForce=function(e){a(e),i.add(this._forces,this._forces,e),this._markActive()},o.prototype.applyImpulse=function(e){a(e),i.add(this._impulses,this._impulses,e),this._markActive()},o.prototype._markActive=function(){this._sleepFrameCount=10},o.prototype.atRestX=function(){return this.resting[0]},o.prototype.atRestY=function(){return this.resting[1]},o.prototype.atRestZ=function(){return this.resting[2]};var a=function(){}},function(e,t,n){"use strict";e.exports=
/*!
 * ent-comp: a light, *fast* Entity Component System in JS
 * @url      github.com/andyhall/ent-comp
 * @author   Andy Hall <andy@fenomas.com>
 * @license  MIT
*/
function e(){var t=this;this.components={},this.comps=this.components;var n=this.components,i=1,o={},a=[],s=[],u=[],l=[],c=[];function f(e){Object.keys(o).forEach(t=>{o[t].hash[e]&&h(e,t)})}function h(e,t){var i=n[t],a=o[t];a&&a.hash[e]&&(i.onRemove&&(i.multi?a.hash[e].forEach(t=>{i.onRemove(e,t)}):i.onRemove(e,a.hash[e])),i.multi&&(a.hash[e].length=0),r.remove(a,e))}function d(e,t,r){var i=n[t],a=o[t].hash[e];if(a){var s=a.indexOf(r);s<0||(i.onRemove&&i.onRemove(e,r),a.splice(s,1),0===a.length&&h(e,t))}}function p(){m||(m=!0,setTimeout((function(){m=!1,y()}),1))}this._storage=o,this._systems=a,this._renderSystems=s,this.createEntity=function(e){var n=i++;return e&&e.length&&e.forEach(e=>t.addComponent(n,e)),n},this.deleteEntity=function(e,n){return n?f(e):(u.push(e),p()),t},this.createComponent=function(e){if(!e)throw"Missing component definition";var t=e.name;if(!t)throw"Component definition must have a name property.";if("string"!=typeof t)throw"Component name must be a string.";if(""===t)throw"Component name must be a non-empty string.";if(o[t])throw`Component ${t} already exists.`;var i={};return i.name=t,i.order=isNaN(e.order)?99:e.order,i.state=e.state||{},i.onAdd=e.onAdd||null,i.onRemove=e.onRemove||null,i.system=e.system||null,i.renderSystem=e.renderSystem||null,i.multi=!!e.multi,n[t]=i,o[t]=r.create(),i.system&&(a.push(t),a.sort((e,t)=>n[e].order-n[t].order)),i.renderSystem&&(s.push(t),s.sort((e,t)=>n[e].order-n[t].order)),t},this.deleteComponent=function(e){var r=o[e];if(!r)throw"Unknown component: "+e;r.list.forEach(n=>{var r=n.__id||n[0].__id;t.removeComponent(r,e,!0)});var i=a.indexOf(e),u=s.indexOf(e);return i>-1&&a.splice(i,1),u>-1&&s.splice(u,1),delete n[e],delete o[e],t},this.addComponent=function(e,t,i){var a=n[t],s=o[t];if(!s)throw`Unknown component: ${t}.`;var u=!1;if(l.forEach(n=>{n.id===e&&n.compName===t&&(u=!0)}),u&&v(),s.hash[e]&&!a.multi)throw`Entity ${e} already has component: ${t}.`;var c=Object.assign({},{__id:e},a.state,i);if(c.__id=e,a.multi){var f=s.hash[e];f||(f=[],r.add(s,e,f)),f.push(c)}else r.add(s,e,c);return a.onAdd&&a.onAdd(e,c),this},this.hasComponent=function(e,t){var n=o[t];if(!n)throw`Unknown component: ${t}.`;return void 0!==n.hash[e]},this.removeComponent=function(e,r,i){var a=n[r],s=o[r];if(!s)throw`Unknown component: ${r}.`;if(!s.hash[e]){if(a.multi)return t;throw`Entity ${e} does not have component: ${r} to remove.`}return i?h(e,r):(l.push({id:e,compName:r}),p()),t},this.getState=function(e,t){var n=o[t];if(!n)throw`Unknown component: ${t}.`;return n.hash[e]},e.prototype.getStatesList=function(e){var t=o[e];if(!t)throw`Unknown component: ${e}.`;return t.list},this.getStateAccessor=function(e){if(!o[e])throw`Unknown component: ${e}.`;var t=o[e].hash;return function(e){return t[e]}},this.getComponentAccessor=function(e){if(!o[e])throw`Unknown component: ${e}.`;var t=o[e].hash;return function(e){return void 0!==t[e]}},this.tick=function(e){return y(),a.forEach(t=>{var r=o[t].list;n[t].system(e,r)}),y(),t},this.render=function(e){return y(),s.forEach(t=>{var r=o[t].list;n[t].renderSystem(e,r)}),y(),t},this.removeMultiComponent=function(e,r,i,a){var s=n[r],u=o[r];if(!u)throw`Unknown component: ${r}.`;if(!s.multi)throw"removeMultiComponent called on non-multi component";var l=u.hash[e];if(!l||!l[i])throw`Multicomponent ${r} instance not found at index ${i}`;var f=l[i];return a?d(e,r,f):c.push({id:e,compName:r,state:f}),t};var m=!1;function y(){v(),function(e){for(;c.length;){var t=c.pop();d(t.id,t.compName,t.state),t.state=null}}(),function(){for(;u.length;){f(u.pop())}}()}function v(){for(;l.length;){var e=l.pop();h(e.id,e.compName)}}};var r=n(457)},function(e,t,n){"use strict";e.exports={create:function(){return{list:[],hash:{},_map:{}}},add:function(e,t,n){e.list.push(n),e.hash[t]=n,e._map[t]=e.list.length-1},remove:function(e,t){var n=e._map[t];if(n===e.list.length-1)e.list.pop();else{var r=e.list.pop();e.list[n]=r;var i=r.__id||r[0].__id;e._map[i]=n}delete e.hash[t],delete e._map[t]}}},function(e,t,n){var r={"./collideEntities.js":459,"./collideTerrain.js":466,"./fadeOnZoom.js":467,"./followsEntity.js":468,"./mesh.js":469,"./movement.js":470,"./physics.js":394,"./position.js":393,"./receivesInputs.js":471,"./shadow.js":472,"./smoothCamera.js":473};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=458},function(e,t,n){"use strict";n.r(t);var r=n(460);t.default=function(e){var t=[];return{name:"collideEntities",order:70,state:{cylinder:!1,collideBits:1,collideMask:1,callback:null},onAdd:null,onRemove:null,system:function(i,o){for(var a=e.ents,s=0;s<o.length;s++){var u=o[s].__id,l=a.getPositionData(u);t[s]=l._extents}t.length=o.length,r(t,(function(r,i){var a=o[r],s=o[i];(function(e,t,r,i){if(e.cylinder)return t.cylinder?function(e,t){var n=(e[3]-e[0])/2,r=(t[3]-t[0])/2,i=e[0]+n-(t[0]+r),o=e[2]+n-(t[2]+r),a=n+r;return i*i+o*o<=a*a}(r,i):n(r,i);if(t.cylinder)return n(i,r);return!0})(a,s,t[r],t[i])&&function(e,t,n){var r=t.__id,i=n.__id;t.collideMask&n.collideBits&&t.callback&&t.callback(i);n.collideMask&t.collideBits&&n.callback&&n.callback(r);e.ents.onPairwiseEntityCollision(r,i)}(e,a,s)}))}};function n(e,t){var n=(e[3]-e[0])/2,r=e[0]+n,o=e[2]+n,a=i(r,t[0],t[3])-r,s=i(o,t[2],t[5])-o;return a*a+s*s<=n*n}function i(e,t,n){return e<t?t:e>n?n:e}}},function(e,t,n){"use strict";e.exports=function(e,t,n){switch(arguments.length){case 1:return f(e);case 2:return"function"==typeof t?l(e,e,t,!0):h(e,t);case 3:return l(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}};var r,i=n(355),o=n(405),a=n(463);function s(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function u(e,t,n,r){for(var i=0,o=0,a=0,u=e.length;a<u;++a){var l=e[a];if(!s(t,l)){for(var c=0;c<2*t;++c)n[i++]=l[c];r[o++]=a}}return o}function l(e,t,n,r){var s=e.length,l=t.length;if(!(s<=0||l<=0)){var c=e[0].length>>>1;if(!(c<=0)){var f,h=i.mallocDouble(2*c*s),d=i.mallocInt32(s);if((s=u(e,c,h,d))>0){if(1===c&&r)o.init(s),f=o.sweepComplete(c,n,0,s,h,d,0,s,h,d);else{var p=i.mallocDouble(2*c*l),m=i.mallocInt32(l);(l=u(t,c,p,m))>0&&(o.init(s+l),f=1===c?o.sweepBipartite(c,n,0,s,h,d,0,l,p,m):a(c,n,r,s,h,d,l,p,m),i.free(p),i.free(m))}i.free(h),i.free(d)}return f}}}function c(e,t){r.push([e,t])}function f(e){return r=[],l(e,e,c,!0),r}function h(e,t){return r=[],l(e,t,c,!1),r}},function(e,t,n){"use strict";e.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,n,r){var i=0|t[r];if(i<=0)return[];var o,a=new Array(i);if(r===t.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=e(t,n,r+1);return a}(e,t,0)}return[]}},function(e,t,n){"use strict";e.exports=function(e,t){t<=128?r(0,t-1,e):function e(t,n,c){var f=(n-t+1)/6|0,h=t+f,d=n-f,p=t+n>>1,m=p-f,y=p+f,v=h,g=m,b=p,w=y,_=d,x=t+1,k=n-1,O=0;u(v,g,c)&&(O=v,v=g,g=O);u(w,_,c)&&(O=w,w=_,_=O);u(v,b,c)&&(O=v,v=b,b=O);u(g,b,c)&&(O=g,g=b,b=O);u(v,w,c)&&(O=v,v=w,w=O);u(b,w,c)&&(O=b,b=w,w=O);u(g,_,c)&&(O=g,g=_,_=O);u(g,b,c)&&(O=g,g=b,b=O);u(w,_,c)&&(O=w,w=_,_=O);for(var P=c[2*g],S=c[2*g+1],E=c[2*w],j=c[2*w+1],C=2*v,A=2*b,T=2*_,I=2*h,z=2*p,D=2*d,R=0;R<2;++R){var M=c[C+R],B=c[A+R],L=c[T+R];c[I+R]=M,c[z+R]=B,c[D+R]=L}o(m,t,c),o(y,n,c);for(var F=x;F<=k;++F)if(l(F,P,S,c))F!==x&&i(F,x,c),++x;else if(!l(F,E,j,c))for(;;){if(l(k,E,j,c)){l(k,P,S,c)?(a(F,x,k,c),++x,--k):(i(F,k,c),--k);break}if(--k<F)break}s(t,x-1,P,S,c),s(n,k+1,E,j,c),x-2-t<=32?r(t,x-2,c):e(t,x-2,c);n-(k+2)<=32?r(k+2,n,c):e(k+2,n,c);k-x<=32?r(x,k,c):e(x,k,c)}(0,t-1,e)};function r(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var o=n[r++],a=n[r++],s=i,u=r-2;s-- >e;){var l=n[u-2],c=n[u-1];if(l<o)break;if(l===o&&c<a)break;n[u]=l,n[u+1]=c,u-=2}n[u]=o,n[u+1]=a}}function i(e,t,n){t*=2;var r=n[e*=2],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function o(e,t,n){t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]}function a(e,t,n,r){t*=2,n*=2;var i=r[e*=2],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=o}function s(e,t,n,r,i){t*=2,i[e*=2]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function u(e,t,n){t*=2;var r=n[e*=2],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function l(e,t,n,r){var i=r[e*=2];return i<t||i===t&&r[e+1]<n}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,c,x,k,O,P){!function(e,t){var n=8*i.log2(t+1)*(e+1)|0,o=i.nextPow2(6*n);v.length<o&&(r.free(v),v=r.mallocInt32(o));var a=i.nextPow2(2*n);g.length<a&&(r.free(g),g=r.mallocDouble(a))}(e,o+k);var S,E=0,j=2*e;b(E++,0,0,o,0,k,n?16:0,-1/0,1/0),n||b(E++,0,0,k,0,o,1,-1/0,1/0);for(;E>0;){var C=6*(E-=1),A=v[C],T=v[C+1],I=v[C+2],z=v[C+3],D=v[C+4],R=v[C+5],M=2*E,B=g[M],L=g[M+1],F=1&R,N=!!(16&R),U=c,$=x,V=O,q=P;if(F&&(U=O,$=P,V=c,q=x),!(2&R&&(I=d(e,A,T,I,U,$,L),T>=I)||4&R&&(T=p(e,A,T,I,U,$,B))>=I)){var W=I-T,H=D-z;if(N){if(e*W*(W+H)<1<<22){if(void 0!==(S=u.scanComplete(e,A,t,T,I,U,$,z,D,V,q)))return S;continue}}else{if(e*Math.min(W,H)<128){if(void 0!==(S=a(e,A,t,F,T,I,U,$,z,D,V,q)))return S;continue}if(e*W*H<1<<22){if(void 0!==(S=u.scanBipartite(e,A,t,F,T,I,U,$,z,D,V,q)))return S;continue}}var K=f(e,A,T,I,U,$,B,L);if(T<K)if(e*(K-T)<128){if(void 0!==(S=s(e,A+1,t,T,K,U,$,z,D,V,q)))return S}else if(A===e-2){if(void 0!==(S=F?u.sweepBipartite(e,t,z,D,V,q,T,K,U,$):u.sweepBipartite(e,t,T,K,U,$,z,D,V,q)))return S}else b(E++,A+1,T,K,z,D,F,-1/0,1/0),b(E++,A+1,z,D,T,K,1^F,-1/0,1/0);if(K<I){var J=l(e,A,z,D,V,q),G=V[j*J+A],Y=h(e,A,J,D,V,q,G);if(Y<D&&b(E++,A,K,I,Y,D,(4|F)+(N?16:0),G,L),z<J&&b(E++,A,K,I,z,J,(2|F)+(N?16:0),B,G),J+1===Y){if(void 0!==(S=N?_(e,A,t,K,I,U,$,J,V,q[J]):w(e,A,t,F,K,I,U,$,J,V,q[J])))return S}else if(J<Y){var Z;if(N){if(Z=m(e,A,K,I,U,$,G),K<Z){var Q=h(e,A,K,Z,U,$,G);if(A===e-2){if(K<Q&&void 0!==(S=u.sweepComplete(e,t,K,Q,U,$,J,Y,V,q)))return S;if(Q<Z&&void 0!==(S=u.sweepBipartite(e,t,Q,Z,U,$,J,Y,V,q)))return S}else K<Q&&b(E++,A+1,K,Q,J,Y,16,-1/0,1/0),Q<Z&&(b(E++,A+1,Q,Z,J,Y,0,-1/0,1/0),b(E++,A+1,J,Y,Q,Z,1,-1/0,1/0))}}else Z=F?y(e,A,K,I,U,$,G):m(e,A,K,I,U,$,G),K<Z&&(A===e-2?S=F?u.sweepBipartite(e,t,J,Y,V,q,K,Z,U,$):u.sweepBipartite(e,t,K,Z,U,$,J,Y,V,q):(b(E++,A+1,K,Z,J,Y,F,-1/0,1/0),b(E++,A+1,J,Y,K,Z,1^F,-1/0,1/0)))}}}}};var r=n(355),i=n(356),o=n(464),a=o.partial,s=o.full,u=n(405),l=n(465),c=n(406),f=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),h=c("lo===p0",["p0"]),d=c("lo<p0",["p0"]),p=c("hi<=p0",["p0"]),m=c("lo<=p0&&p0<=hi",["p0"]),y=c("lo<p0&&p0<=hi",["p0"]),v=r.mallocInt32(1024),g=r.mallocDouble(1024);function b(e,t,n,r,i,o,a,s,u){var l=6*e;v[l]=t,v[l+1]=n,v[l+2]=r,v[l+3]=i,v[l+4]=o,v[l+5]=a;var c=2*e;g[c]=s,g[c+1]=u}function w(e,t,n,r,i,o,a,s,u,l,c){var f=2*e,h=u*f,d=l[h+t];e:for(var p=i,m=i*f;p<o;++p,m+=f){var y=a[m+t],v=a[m+t+e];if(!(d<y||v<d)&&(!r||d!==y)){for(var g,b=s[p],w=t+1;w<e;++w){y=a[m+w],v=a[m+w+e];var _=l[h+w],x=l[h+w+e];if(v<_||x<y)continue e}if(void 0!==(g=r?n(c,b):n(b,c)))return g}}}function _(e,t,n,r,i,o,a,s,u,l){var c=2*e,f=s*c,h=u[f+t];e:for(var d=r,p=r*c;d<i;++d,p+=c){var m=a[d];if(m!==l){var y=o[p+t],v=o[p+t+e];if(!(h<y||v<h)){for(var g=t+1;g<e;++g){y=o[p+g],v=o[p+g+e];var b=u[f+g],w=u[f+g+e];if(v<b||w<y)continue e}var _=n(m,l);if(void 0!==_)return _}}}}},function(e,t,n){"use strict";var r=["d","ax","vv","rs","re","rb","ri","bs","be","bb","bi"];function i(e){var t="bruteForce"+(e?"Full":"Partial"),n=[],i=r.slice();e||i.splice(3,0,"fp");var o=["function "+t+"("+i.join()+"){"];function a(t,i){var a=function(e,t,n){var i="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),o=["function ",i,"(",r.join(),"){","var ","es","=2*","d",";"],a="for(var i=rs,rp=es*rs;i<re;++i,rp+=es){var x0=rb[ax+rp],x1=rb[ax+rp+d],xi=ri[i];",s="for(var j=bs,bp=es*bs;j<be;++j,bp+=es){var y0=bb[ax+bp],"+(n?"y1=bb[ax+bp+d],":"")+"yi=bi[j];";return e?o.push(a,"Q",":",s):o.push(s,"Q",":",a),n?o.push("if(y1<x0||x1<y0)continue;"):t?o.push("if(y0<=x0||x1<y0)continue;"):o.push("if(y0<x0||x1<y0)continue;"),o.push("for(var k=ax+1;k<d;++k){var r0=rb[k+rp],r1=rb[k+d+rp],b0=bb[k+bp],b1=bb[k+d+bp];if(r1<b0||b1<r0)continue Q;}var rv=vv("),t?o.push("yi,xi"):o.push("xi,yi"),o.push(");if(rv!==void 0)return rv;}}}"),{name:i,code:o.join("")}}(t,i,e);n.push(a.code),o.push("return "+a.name+"("+r.join()+");")}o.push("if(re-rs>be-bs){"),e?(a(!0,!1),o.push("}else{"),a(!1,!1)):(o.push("if(fp){"),a(!0,!0),o.push("}else{"),a(!0,!1),o.push("}}else{if(fp){"),a(!1,!0),o.push("}else{"),a(!1,!1),o.push("}")),o.push("}}return "+t);var s=n.join("")+o.join("");return new Function(s)()}t.partial=i(!1),t.full=i(!0)},function(e,t,n){"use strict";e.exports=function(e,t,n,o,a,s){if(o<=n+1)return n;var u=n,l=o,c=o+n>>>1,f=2*e,h=c,d=a[f*c+t];for(;u<l;){if(l-u<8){i(e,t,u,l,a,s),d=a[f*c+t];break}var p=l-u,m=Math.random()*p+u|0,y=a[f*m+t],v=Math.random()*p+u|0,g=a[f*v+t],b=Math.random()*p+u|0,w=a[f*b+t];y<=g?w>=g?(h=v,d=g):y>=w?(h=m,d=y):(h=b,d=w):g>=w?(h=v,d=g):w>=y?(h=m,d=y):(h=b,d=w);for(var _=f*(l-1),x=f*h,k=0;k<f;++k,++_,++x){var O=a[_];a[_]=a[x],a[x]=O}var P=s[l-1];s[l-1]=s[h],s[h]=P,h=r(e,t,u,l-1,a,s,d);for(_=f*(l-1),x=f*h,k=0;k<f;++k,++_,++x){O=a[_];a[_]=a[x],a[x]=O}P=s[l-1];if(s[l-1]=s[h],s[h]=P,c<h){for(l=h-1;u<l&&a[f*(l-1)+t]===d;)l-=1;l+=1}else{if(!(h<c))break;for(u=h+1;u<l&&a[f*u+t]===d;)u+=1}}return r(e,t,n,c,a,s,a[f*c+t])};var r=n(406)("lo<p0",["p0"]);function i(e,t,n,r,i,o){for(var a=2*e,s=a*(n+1)+t,u=n+1;u<r;++u,s+=a)for(var l=i[s],c=u,f=a*(u-1);c>n&&i[f+t]>l;--c,f-=a){for(var h=f,d=f+a,p=0;p<a;++p,++h,++d){var m=i[h];i[h]=i[d],i[d]=m}var y=o[c];o[c]=o[c-1],o[c-1]=y}}},function(e,t,n){"use strict";n.r(t),t.default=function(e){return{name:"collideTerrain",order:0,state:{callback:null},onAdd:function(t,n){var r=e.entities;r.hasPhysics(t)&&(r.getPhysicsBody(t).onCollide=function(n){var r=e.ents.getCollideTerrain(t).callback;r&&r(n,t)})},onRemove:function(t,n){var r=e.entities;r.hasPhysics(t)&&(r.getPhysicsBody(t).onCollide=null)}}}},function(e,t,n){"use strict";n.r(t),t.default=function(e){return{name:"fadeOnZoom",order:99,state:{cutoff:1.5,_showing:!0},onAdd:null,onRemove:null,system:function(t,n){var r=e.camera.currentZoom,i=e.entities;n.forEach(e=>{!function(e,t,n,r){if(!r.hasMesh(t))return;if(e._showing&&n<e.cutoff||!e._showing&&n>e.cutoff){r.getMeshData(t).mesh.visibility=e._showing=n>e.cutoff}}(e,e.__id,r,i)})}}}},function(e,t,n){"use strict";n.r(t);var r=n(77);t.default=function(e){return{name:"followsEntity",order:50,state:{entity:0,offset:null,onTargetMissing:null},onAdd:function(e,i){var o=r.create();i.offset=i.offset?r.copy(o,i.offset):o,t(i),n(i)},onRemove:null,system:function(e,n){n.forEach(e=>t(e))},renderSystem:function(e,t){t.forEach(e=>n(e))}};function t(t){var n=t.__id,i=e.ents.getPositionData(n),o=e.ents.getPositionData(t.entity);o?r.add(i._localPosition,o._localPosition,t.offset):(t.onTargetMissing&&t.onTargetMissing(n),e.ents.removeComponent(n,e.ents.names.followsEntity))}function n(t){var n=t.__id,i=e.ents.getPositionData(n),o=e.ents.getPositionData(t.entity);o&&r.add(i._renderPosition,o._renderPosition,t.offset)}}},function(e,t,n){"use strict";n.r(t);var r=n(77);t.default=function(e){return{name:"mesh",order:100,state:{mesh:null,offset:null},onAdd:function(t,n){var i=e.ents.getPositionData(t);if(!n.mesh)throw new Error("Mesh component added without a mesh - probably a bug!");e.rendering.addMeshToScene(n.mesh,!1,i.position),n.offset||(n.offset=new r.create);var o=i._renderPosition;n.mesh.position.copyFromFloats(o[0]+n.offset[0],o[1]+n.offset[1],o[2]+n.offset[2])},onRemove:function(e,t){t.mesh.dispose()},renderSystem:function(t,n){n.forEach(t=>{var n=t.__id,r=e.ents.getPositionData(n)._renderPosition;t.mesh.position.copyFromFloats(r[0]+t.offset[0],r[1]+t.offset[1],r[2]+t.offset[2])})}}}},function(e,t,n){"use strict";n.r(t);var r=n(77);t.default=function(e){return{name:"movement",order:30,state:{heading:0,running:!1,jumping:!1,maxSpeed:10,moveForce:30,responsiveness:15,runningFriction:0,standingFriction:2,airMoveMult:.5,jumpImpulse:10,jumpForce:12,jumpTime:500,airJumps:1,_jumpCount:0,_isJumping:0,_currjumptime:0},onAdd:null,onRemove:null,system:function(t,n){var s=e.entities;n.forEach(e=>{var n=s.getPhysicsBody(e.__id);!function(e,t,n){var s=n.atRestY()<0,u=s||t._jumpCount<t.airJumps;s&&(t._isJumping=!1,t._jumpCount=0);if(t.jumping)if(t._isJumping){if(t._currjumptime>0){var l=t.jumpForce;t._currjumptime<e&&(l*=t._currjumptime/e),n.applyForce([0,l,0]),t._currjumptime-=e}}else u&&(t._isJumping=!0,s||t._jumpCount++,t._currjumptime=t.jumpTime,n.applyImpulse([0,t.jumpImpulse,0]),!s&&n.velocity[1]<0&&(n.velocity[1]=0));else t._isJumping=!1;var c=i,f=o;if(t.running){var h=t.maxSpeed;r.set(c,0,0,h),r.rotateY(c,c,a,t.heading),r.subtract(f,c,n.velocity),f[1]=0;var d=r.length(f);if(r.normalize(f,f),d>0){var p=t.moveForce;s||(p*=t.airMoveMult);var m=t.responsiveness*d;p>m&&(p=m),r.scale(f,f,p),n.applyForce(f)}n.friction=t.runningFriction}else n.friction=t.standingFriction}(t,e,n)})}}};var i=r.create(),o=r.create(),a=r.create()},function(e,t,n){"use strict";n.r(t),t.default=function(e){return{name:"receivesInputs",order:20,state:{ignore:!1,x:1,y:1},onAdd:null,onRemove:null,system:function(t,n){var r=e.entities,i=e.inputs.state,o=e.camera.heading;n.forEach(e=>{!function(e,t,n,r,i,o){e.jumping=!r&&!!t.jump;e.xMulp=i,e.yMulp=o;var a=t.forward?t.backward?0:1:t.backward?-1:0,s=t.right?t.left?0:1:t.left?-1:0;0==(a|s)||r?e.running=!1:(e.running=!0,a?(-1==a&&(n+=Math.PI),s&&(n+=Math.PI/4*a*s)):n+=s*Math.PI/2,e.heading=n)}(r.getMovement(e.__id),i,o,e.ignore,e.x,e.y)})}}}},function(e,t,n){"use strict";n.r(t);var r=n(7),i=n(8),o=(n(178),n(259),n(77));t.default=function(e,t){var n=t,u=e.rendering.getScene(),l=i.a.CreateDisc("shadow",.75,30,u);return l.rotation.x=Math.PI/2,l.material=e.rendering.makeStandardMaterial("shadowMat"),l.material.diffuseColor=r.a.Black(),l.material.ambientColor=r.a.Black(),l.material.alpha=.5,l.setEnabled(!1),u.removeMesh(l),{name:"shadow",order:80,state:{size:.5,_mesh:null},onAdd:function(t,n){var r=l.createInstance("shadow_instance");e.rendering.addMeshToScene(r),r.setEnabled(!1),n._mesh=r},onRemove:function(e,t){t._mesh.dispose()},system:function(t,r){var i=e.camera._localGetPosition(),u=n;r.forEach(t=>{var n=e.ents.getPositionData(t.__id),r=e.ents.getPhysics(t.__id);!function(e,t,n,r,i,u,l){var c;if(n&&n.body.resting[1]<0)c=t._localPosition[1];else{var f=e._localPick(t._localPosition,s,u);if(!f)return void r.setEnabled(!1);c=f.position[1]-e.worldOriginOffset[1]}c=Math.round(c),o.copy(a,t._localPosition),a[1]=c;var h=.01+o.squaredDistance(l,a)/1600*.1;h>.1&&(h=.1);r.position.y=c+h;var d=t._localPosition[1]-c,p=.7*i*(1-d/u);r.scaling.copyFromFloats(p,p,p),r.setEnabled(!0)}(e,n,r,t._mesh,t.size,u,i)})},renderSystem:function(t,n){n.forEach(t=>{var n=e.ents.getPositionData(t.__id)._renderPosition,r=t._mesh.position;r.x=n[0],r.z=n[2]})}}};var a=o.fromValues(0,0,0),s=o.fromValues(0,-1,0)},function(e,t,n){"use strict";n.r(t),t.default=function(e){return{name:"smooth-camera",order:99,state:{time:100.1},onAdd:null,onRemove:null,system:function(t,n){n.forEach(n=>{n.time-=t,n.time<0&&e.ents.removeComponent(n.__id,"smooth-camera")})}}}},function(e){e.exports=JSON.parse('{"_from":"github:VoxelSrv/noa-engine#new-dev","_id":"noa-engine@0.30.0","_inBundle":false,"_integrity":"","_location":"/noa-engine","_phantomChildren":{},"_requested":{"type":"git","raw":"github:VoxelSrv/noa-engine#new-dev","rawSpec":"github:VoxelSrv/noa-engine#new-dev","saveSpec":"github:VoxelSrv/noa-engine#new-dev","fetchSpec":null,"gitCommittish":"new-dev"},"_requiredBy":["#USER","/"],"_resolved":"github:VoxelSrv/noa-engine#4f3983dd3b2c4bc1b5d597a005b7e52b47fd2302","_spec":"github:VoxelSrv/noa-engine#new-dev","_where":"/home/patbox/Pulpit/voxelsrv/client","author":{"name":"Andy Hall","url":"https://fenomas.com"},"bugs":{"url":"https://github.com/andyhall/noa/issues"},"bundleDependencies":false,"dependencies":{"aabb-3d":"github:andyhall/aabb-3d","box-intersect":"^1.0.2","ent-comp":"^0.9.1","fast-voxel-raycast":"^0.1.1","game-inputs":"^0.4.0","gl-vec3":"^1.1.3","micro-game-shell":"0.1.0","ndarray":"^1.0.16","voxel-aabb-sweep":"^0.5.0","voxel-physics-engine":"^0.10.0"},"deprecated":false,"description":"Experimental voxel game engine","devDependencies":{"eslint":"^6.8.0","js-beautify":"^1.10.2","jsdoc-to-markdown":"^5.0.3","typescript":"^3.9.3"},"files":["/src","/types"],"homepage":"https://github.com/andyhall/noa#readme","keywords":["voxel","voxels","game","engine","game-engine"],"license":"MIT","main":"src/index.js","name":"noa-engine","peerDependencies":{"@babylonjs/core":"^4.2.0"},"repository":{"type":"git","url":"git+https://github.com/andyhall/noa.git"},"scripts":{"doc":"jsdoc2md -f src/* src/**/* -g table -p list --partial doc-templates/* > doc/API.md"},"typings":"types/index.d.ts","version":"0.30.0"}')},function(e,t,n){const r=n(476),i=new r;e.exports={ProtoDef:r,Serializer:n(368).Serializer,Parser:n(368).Parser,FullPacketParser:n(368).FullPacketParser,Compiler:n(530),types:i.types,utils:n(156)}},function(e,t,n){(function(t){const{getFieldInfo:r,tryCatch:i}=n(156),o=n(477),a=n(478),s=n(479);function u(e){return"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]||e.type}function l(e,t,n){return"string"==typeof t&&"$"===t.charAt(0)?e.push({path:n,val:t.substr(1)}):(Array.isArray(t)||"object"==typeof t)&&(e=e.concat(o(t,l,[]).map(e=>({path:n+"."+e.path,val:e.val})))),e}e.exports=class{constructor(e=!0){this.types={},this.validator=e?new s:null,this.addDefaultTypes()}addDefaultTypes(){this.addTypes(n(416)),this.addTypes(n(417)),this.addTypes(n(520)),this.addTypes(n(521))}addProtocol(e,t){const n=this;this.validator&&this.validator.validateProtocol(e),function e(t,r){void 0!==t&&(t.types&&n.addTypes(t.types),e(a(t,r.shift()),r))}(e,t)}addType(e,t,n=!0){if("native"!==t)if(u(t)){this.validator&&(n&&this.validator.validateType(t),this.validator.addType(e));let{type:i,typeArgs:a}=r(t);this.types[e]=a?function(e,t){const n=JSON.stringify(t),r=o(t,l,[]);function i(e){const t=JSON.parse(n);return r.forEach(n=>{!function(e,t,n){const r=e.split(".").reverse();for(;r.length>1;)n=n[r.pop()];n[r.pop()]=t}(n.path,e[n.val],t)}),t}return[function(t,n,r,o){return e[0].call(this,t,n,i(r),o)},function(t,n,r,o,a){return e[1].call(this,t,n,r,i(o),a)},function(t,n,r){return"function"==typeof e[2]?e[2].call(this,t,i(n),r):e[2]}]}(this.types[i],a):this.types[i]}else this.validator&&(t[3]?this.validator.addType(e,t[3]):this.validator.addType(e)),this.types[e]=t;else this.validator&&this.validator.addType(e)}addTypes(e){Object.keys(e).forEach(t=>this.addType(t,e[t],!1)),this.validator&&Object.keys(e).forEach(t=>{u(e[t])&&this.validator.validateType(e[t])})}read(e,t,n,i){let{type:o,typeArgs:a}=r(n);const s=this.types[o];if(!s)throw new Error("missing data type: "+o);return s[0].call(this,e,t,a,i)}write(e,t,n,i,o){let{type:a,typeArgs:s}=r(i);const u=this.types[a];if(!u)throw new Error("missing data type: "+a);return u[1].call(this,e,t,n,s,o)}sizeOf(e,t,n){let{type:i,typeArgs:o}=r(t);const a=this.types[i];if(!a)throw new Error("missing data type: "+i);return"function"==typeof a[2]?a[2].call(this,e,o,n):a[2]}createPacketBuffer(e,n){const r=i(()=>this.sizeOf(n,e,{}),e=>{throw e.message=`SizeOf error for ${e.field} : ${e.message}`,e}),o=t.allocUnsafe(r);return i(()=>this.write(n,o,0,e,{}),e=>{throw e.message=`Write error for ${e.field} : ${e.message}`,e}),o}parsePacketBuffer(e,t){const{value:n,size:r}=i(()=>this.read(t,0,e,{}),e=>{throw e.message=`Read error for ${e.field} : ${e.message}`,e});return{data:n,metadata:{size:r},buffer:t.slice(0,r)}}}}).call(this,n(84).Buffer)},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Map]",o="[object Object]",a="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,l=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[r]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p[i]=p["[object Number]"]=p[o]=p["[object RegExp]"]=p[a]=p["[object String]"]=p["[object WeakMap]"]=!1;var m="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),g=t&&!t.nodeType&&t,b=g&&"object"==typeof n&&n&&!n.nodeType&&n,w=b&&b.exports===g&&m.process,_=function(){try{return w&&w.binding("util")}catch(e){}}(),x=_&&_.isTypedArray;function k(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function O(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function P(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function S(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function E(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function j(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var C,A,T,I=Array.prototype,z=Function.prototype,D=Object.prototype,R=v["__core-js_shared__"],M=(C=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",B=z.toString,L=D.hasOwnProperty,F=D.toString,N=RegExp("^"+B.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=v.Symbol,$=v.Uint8Array,V=D.propertyIsEnumerable,q=I.splice,W=(A=Object.keys,T=Object,function(e){return A(T(e))}),H=Se(v,"DataView"),K=Se(v,"Map"),J=Se(v,"Promise"),G=Se(v,"Set"),Y=Se(v,"WeakMap"),Z=Se(Object,"create"),Q=De(H),X=De(K),ee=De(J),te=De(G),ne=De(Y),re=U?U.prototype:void 0,ie=re?re.valueOf:void 0,oe=re?re.toString:void 0;function ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ue(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function le(e){var t=-1,n=e?e.length:0;for(this.__data__=new ue;++t<n;)this.add(e[t])}function ce(e){this.__data__=new se(e)}function fe(e,t){var n=Le(e)||Be(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!L.call(e,o)||i&&("length"==o||je(o,r))||n.push(o);return n}function he(e,t){for(var n=e.length;n--;)if(Me(e[n][0],t))return n;return-1}ae.prototype.clear=function(){this.__data__=Z?Z(null):{}},ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ae.prototype.get=function(e){var t=this.__data__;if(Z){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return L.call(t,e)?t[e]:void 0},ae.prototype.has=function(e){var t=this.__data__;return Z?void 0!==t[e]:L.call(t,e)},ae.prototype.set=function(e,t){return this.__data__[e]=Z&&void 0===t?"__lodash_hash_undefined__":t,this},se.prototype.clear=function(){this.__data__=[]},se.prototype.delete=function(e){var t=this.__data__,n=he(t,e);return!(n<0)&&(n==t.length-1?t.pop():q.call(t,n,1),!0)},se.prototype.get=function(e){var t=this.__data__,n=he(t,e);return n<0?void 0:t[n][1]},se.prototype.has=function(e){return he(this.__data__,e)>-1},se.prototype.set=function(e,t){var n=this.__data__,r=he(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ue.prototype.clear=function(){this.__data__={hash:new ae,map:new(K||se),string:new ae}},ue.prototype.delete=function(e){return Pe(this,e).delete(e)},ue.prototype.get=function(e){return Pe(this,e).get(e)},ue.prototype.has=function(e){return Pe(this,e).has(e)},ue.prototype.set=function(e,t){return Pe(this,e).set(e,t),this},le.prototype.add=le.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},le.prototype.has=function(e){return this.__data__.has(e)},ce.prototype.clear=function(){this.__data__=new se},ce.prototype.delete=function(e){return this.__data__.delete(e)},ce.prototype.get=function(e){return this.__data__.get(e)},ce.prototype.has=function(e){return this.__data__.has(e)},ce.prototype.set=function(e,t){var n=this.__data__;if(n instanceof se){var r=n.__data__;if(!K||r.length<199)return r.push([e,t]),this;n=this.__data__=new ue(r)}return n.set(e,t),this};var de,pe,me=(de=function(e,t){return e&&ye(e,t,He)},function(e,t){if(null==e)return e;if(!Fe(e))return de(e,t);for(var n=e.length,r=pe?n:-1,i=Object(e);(pe?r--:++r<n)&&!1!==t(i[r],r,i););return e}),ye=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}();function ve(e,t){for(var n=0,r=(t=Ce(t,e)?[t]:ke(t)).length;null!=e&&n<r;)e=e[ze(t[n++])];return n&&n==r?e:void 0}function ge(e,t){return null!=e&&t in Object(e)}function be(e,t,n,s,u){return e===t||(null==e||null==t||!$e(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,n,s,u,l){var c=Le(e),f=Le(t),h="[object Array]",d="[object Array]";c||(h=(h=Ee(e))==r?o:h);f||(d=(d=Ee(t))==r?o:d);var p=h==o&&!S(e),m=d==o&&!S(t),y=h==d;if(y&&!p)return l||(l=new ce),c||We(e)?Oe(e,t,n,s,u,l):function(e,t,n,r,o,s,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new $(e),new $(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Me(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var l=E;case a:var c=2&s;if(l||(l=j),e.size!=t.size&&!c)return!1;var f=u.get(e);if(f)return f==t;s|=1,u.set(e,t);var h=Oe(l(e),l(t),r,o,s,u);return u.delete(e),h;case"[object Symbol]":if(ie)return ie.call(e)==ie.call(t)}return!1}(e,t,h,n,s,u,l);if(!(2&u)){var v=p&&L.call(e,"__wrapped__"),g=m&&L.call(t,"__wrapped__");if(v||g){var b=v?e.value():e,w=g?t.value():t;return l||(l=new ce),n(b,w,s,u,l)}}if(!y)return!1;return l||(l=new ce),function(e,t,n,r,i,o){var a=2&i,s=He(e),u=s.length,l=He(t).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var f=s[c];if(!(a?f in t:L.call(t,f)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var d=!0;o.set(e,t),o.set(t,e);var p=a;for(;++c<u;){f=s[c];var m=e[f],y=t[f];if(r)var v=a?r(y,m,f,t,e,o):r(m,y,f,e,t,o);if(!(void 0===v?m===y||n(m,y,r,i,o):v)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,s,u,l)}(e,t,be,n,s,u))}function we(e){return!(!$e(e)||function(e){return!!M&&M in e}(e))&&(Ne(e)||S(e)?N:h).test(De(e))}function _e(e){return"function"==typeof e?e:null==e?Ke:"object"==typeof e?Le(e)?function(e,t){if(Ce(e)&&Ae(t))return Te(ze(e),t);return function(n){var r=function(e,t,n){var r=null==e?void 0:ve(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){t=Ce(t,e)?[t]:ke(t);var r,i=-1,o=t.length;for(;++i<o;){var a=ze(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;return!!(o=e?e.length:0)&&Ue(o)&&je(a,o)&&(Le(e)||Be(e))}(e,t,ge)}(n,e):be(t,r,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=He(e),n=t.length;for(;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ae(i)]}return t}(e);if(1==t.length&&t[0][2])return Te(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],l=e[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in e))return!1}else{var f=new ce;if(r)var h=r(l,c,u,e,t,f);if(!(void 0===h?be(c,l,r,3,f):h))return!1}}return!0}(n,e,t)}}(e):Ce(t=e)?(n=ze(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return ve(t,e)}}(t);var t,n}function xe(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||D,t!==r)return W(e);var t,n,r,i=[];for(var o in Object(e))L.call(e,o)&&"constructor"!=o&&i.push(o);return i}function ke(e){return Le(e)?e:Ie(e)}function Oe(e,t,n,r,i,o){var a=2&i,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var c=-1,f=!0,h=1&i?new le:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],p=t[c];if(r)var m=a?r(p,d,c,t,e,o):r(d,p,c,e,t,o);if(void 0!==m){if(m)continue;f=!1;break}if(h){if(!O(t,(function(e,t){if(!h.has(t)&&(d===e||n(d,e,r,i,o)))return h.add(t)}))){f=!1;break}}else if(d!==p&&!n(d,p,r,i,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Pe(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Se(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return we(n)?n:void 0}var Ee=function(e){return F.call(e)};function je(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}function Ce(e,t){if(Le(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!qe(e))||(u.test(e)||!s.test(e)||null!=t&&e in Object(t))}function Ae(e){return e==e&&!$e(e)}function Te(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(H&&"[object DataView]"!=Ee(new H(new ArrayBuffer(1)))||K&&Ee(new K)!=i||J&&"[object Promise]"!=Ee(J.resolve())||G&&Ee(new G)!=a||Y&&"[object WeakMap]"!=Ee(new Y))&&(Ee=function(e){var t=F.call(e),n=t==o?e.constructor:void 0,r=n?De(n):void 0;if(r)switch(r){case Q:return"[object DataView]";case X:return i;case ee:return"[object Promise]";case te:return a;case ne:return"[object WeakMap]"}return t});var Ie=Re((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(qe(e))return oe?oe.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return l.test(e)&&n.push(""),e.replace(c,(function(e,t,r,i){n.push(r?i.replace(f,"$1"):t||e)})),n}));function ze(e){if("string"==typeof e||qe(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function De(e){if(null!=e){try{return B.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Re(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(Re.Cache||ue),n}function Me(e,t){return e===t||e!=e&&t!=t}function Be(e){return function(e){return Ve(e)&&Fe(e)}(e)&&L.call(e,"callee")&&(!V.call(e,"callee")||F.call(e)==r)}Re.Cache=ue;var Le=Array.isArray;function Fe(e){return null!=e&&Ue(e.length)&&!Ne(e)}function Ne(e){var t=$e(e)?F.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function Ue(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function $e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ve(e){return!!e&&"object"==typeof e}function qe(e){return"symbol"==typeof e||Ve(e)&&"[object Symbol]"==F.call(e)}var We=x?function(e){return function(t){return e(t)}}(x):function(e){return Ve(e)&&Ue(e.length)&&!!p[F.call(e)]};function He(e){return Fe(e)?fe(e):xe(e)}function Ke(e){return e}n.exports=function(e,t,n){var r=Le(e)?k:P,i=arguments.length<3;return r(e,_e(t),n,i,me)}}).call(this,n(55),n(243)(e))},function(e,t,n){(function(t){var n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/,i=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,u="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")();var f,h=Array.prototype,d=Function.prototype,p=Object.prototype,m=c["__core-js_shared__"],y=(f=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",v=d.toString,g=p.hasOwnProperty,b=p.toString,w=RegExp("^"+v.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=c.Symbol,x=h.splice,k=D(c,"Map"),O=D(Object,"create"),P=_?_.prototype:void 0,S=P?P.toString:void 0;function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function A(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function T(e,t){for(var i,o=0,a=(t=function(e,t){if(L(e))return!1;var i=typeof e;if("number"==i||"symbol"==i||"boolean"==i||null==e||N(e))return!0;return r.test(e)||!n.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:L(i=t)?i:R(i)).length;null!=e&&o<a;)e=e[M(t[o++])];return o&&o==a?e:void 0}function I(e){return!(!F(e)||(t=e,y&&y in t))&&(function(e){var t=F(e)?b.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?w:s).test(function(e){if(null!=e){try{return v.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function z(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function D(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return I(n)?n:void 0}E.prototype.clear=function(){this.__data__=O?O(null):{}},E.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},E.prototype.get=function(e){var t=this.__data__;if(O){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return g.call(t,e)?t[e]:void 0},E.prototype.has=function(e){var t=this.__data__;return O?void 0!==t[e]:g.call(t,e)},E.prototype.set=function(e,t){return this.__data__[e]=O&&void 0===t?"__lodash_hash_undefined__":t,this},j.prototype.clear=function(){this.__data__=[]},j.prototype.delete=function(e){var t=this.__data__,n=A(t,e);return!(n<0)&&(n==t.length-1?t.pop():x.call(t,n,1),!0)},j.prototype.get=function(e){var t=this.__data__,n=A(t,e);return n<0?void 0:t[n][1]},j.prototype.has=function(e){return A(this.__data__,e)>-1},j.prototype.set=function(e,t){var n=this.__data__,r=A(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},C.prototype.clear=function(){this.__data__={hash:new E,map:new(k||j),string:new E}},C.prototype.delete=function(e){return z(this,e).delete(e)},C.prototype.get=function(e){return z(this,e).get(e)},C.prototype.has=function(e){return z(this,e).has(e)},C.prototype.set=function(e,t){return z(this,e).set(e,t),this};var R=B((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(N(e))return S?S.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return i.test(e)&&n.push(""),e.replace(o,(function(e,t,r,i){n.push(r?i.replace(a,"$1"):t||e)})),n}));function M(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function B(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(B.Cache||C),n}B.Cache=C;var L=Array.isArray;function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function N(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==b.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:T(e,t);return void 0===r?n:r}}).call(this,n(55))},function(e,t,n){const r=n(480),i=n(190);class o{constructor(e){this.createAjvInstance(e),this.addDefaultTypes()}createAjvInstance(e){this.typesSchemas={},this.compiled=!1,this.ajv=new r({verbose:!0}),this.ajv.addSchema(n(514),"definitions"),this.ajv.addSchema(n(515),"protocol"),e&&Object.keys(e).forEach(t=>this.addType(t,e[t]))}addDefaultTypes(){this.addTypes(n(516)),this.addTypes(n(517)),this.addTypes(n(518)),this.addTypes(n(519))}addTypes(e){Object.keys(e).forEach(t=>this.addType(t,e[t]))}typeToSchemaName(e){return e.replace("|","_")}addType(e,t){const n=this.typeToSchemaName(e);null==this.typesSchemas[n]&&(t||(t={oneOf:[{enum:[e]},{type:"array",items:[{enum:[e]},{oneOf:[{type:"object"},{type:"array"}]}]}]}),this.typesSchemas[n]=t,this.compiled?this.createAjvInstance(this.typesSchemas):this.ajv.addSchema(t,n),this.ajv.removeSchema("dataType"),this.ajv.addSchema({title:"dataType",oneOf:[{enum:["native"]}].concat(Object.keys(this.typesSchemas).map(e=>({$ref:this.typeToSchemaName(e)})))},"dataType"))}validateType(e){let t=this.ajv.validate("dataType",e);if(this.compiled=!0,!t)throw console.log(JSON.stringify(this.ajv.errors[0],null,2)),"dataType"==this.ajv.errors[0].parentSchema.title&&this.validateTypeGoingInside(this.ajv.errors[0].data),new Error("validation error")}validateTypeGoingInside(e){if(Array.isArray(e)){i.ok(null!=this.typesSchemas[this.typeToSchemaName(e[0])],e+" is an undefined type");let t=this.ajv.validate(e[0],e);if(this.compiled=!0,!t)throw console.log(JSON.stringify(this.ajv.errors[0],null,2)),"dataType"==this.ajv.errors[0].parentSchema.title&&this.validateTypeGoingInside(this.ajv.errors[0].data),new Error("validation error")}else{if("native"==e)return;i.ok(null!=this.typesSchemas[this.typeToSchemaName(e)],e+" is an undefined type")}}validateProtocol(e){let t=this.ajv.validate("protocol",e);i.ok(t,JSON.stringify(this.ajv.errors,null,2)),function e(t,n,r){const i=new o(n.typesSchemas);Object.keys(t).forEach(n=>{"types"==n?(Object.keys(t[n]).forEach(e=>i.addType(e)),Object.keys(t[n]).forEach(e=>{try{i.validateType(t[n][e],r+"."+n+"."+e)}catch(t){throw new Error("Error at "+r+"."+n+"."+e)}})):e(t[n],i,r+"."+n)})}(e,this,"root")}}e.exports=o},function(e,t,n){"use strict";var r=n(481),i=n(361),o=n(485),a=n(408),s=n(409),u=n(486),l=n(487),c=n(508),f=n(189);e.exports=v,v.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);!0!==n.$async&&(this.errors=n.errors);return i},v.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},v.prototype.addSchema=function(e,t,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,r);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return k(this,t=i.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,n,r,!0),this},v.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},v.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(p)?p:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,e);if(!r&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return r},v.prototype.getSchema=function(e){var t=g(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=i.schema.call(e,{schema:{}},t);if(n){var o=n.schema,s=n.root,u=n.baseId,l=r.call(e,o,s,void 0,u);return e._fragments[t]=new a({ref:t,fragment:!0,schema:o,root:s,baseId:u,validate:l}),l}}(this,e)}},v.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=g(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},v.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},v.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)},v.prototype._addSchema=function(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,u=this._cache.get(s);if(u)return u;r=r||!1!==this._opts.addUsedSchema;var l=i.normalizeId(this._getId(e));l&&r&&k(this,l);var c,f=!1!==this._opts.validateSchema&&!t;f&&!(c=l&&l==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=i.ids.call(this,e),d=new a({id:l,schema:e,localRefs:h,cacheKey:s,meta:n});"#"!=l[0]&&r&&(this._refs[l]=d);this._cache.put(s,d),f&&c&&this.validateSchema(e,!0);return d},v.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,i;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,n=t.apply(this,arguments);return o.errors=t.errors,n}},v.prototype.compileAsync=n(509);var h=n(510);v.prototype.addKeyword=h.add,v.prototype.getKeyword=h.get,v.prototype.removeKeyword=h.remove,v.prototype.validateKeyword=h.validate;var d=n(363);v.ValidationError=d.Validation,v.MissingRefError=d.MissingRef,v.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],y=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=f.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:O,warn:O,error:O};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=function(e){switch(e.schemaId){case"auto":return x;case"id":return w;default:return _}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var t=f.copy(e._opts),n=0;n<m.length;n++)delete t[m[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var n=e._opts.keywords[t];e.addKeyword(t,n)}}(this),function(e){var t;e._opts.$data&&(t=n(513),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var r=n(415);e._opts.$data&&(r=c(r,y));e.addMetaSchema(r,p,!0),e._refs["http://json-schema.org/schema"]=p}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function g(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function w(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function _(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function x(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function k(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function O(){}},function(e,t,n){"use strict";var r=n(361),i=n(189),o=n(363),a=n(409),s=n(410),u=i.ucs2length,l=n(362),c=o.Validation;function f(e,t,n){var r=d.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function h(e,t,n){var r=d.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function d(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function p(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function y(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function v(e){return"var customRule"+e+" = customRules["+e+"];"}function g(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=function e(t,n,d,b){var w=this,_=this._opts,x=[void 0],k={},O=[],P={},S=[],E={},j=[];n=n||{schema:t,refVal:x,refs:k};var C=f.call(this,t,n,b),A=this._compilations[C.index];if(C.compiling)return A.callValidate=function e(){var t=A.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var T=this._formats,I=this.RULES;try{var z=R(t,n,d,b);A.validate=z;var D=A.callValidate;return D&&(D.schema=z.schema,D.errors=null,D.refs=z.refs,D.refVal=z.refVal,D.root=z.root,D.$async=z.$async,_.sourceCode&&(D.source=z.source)),z}finally{h.call(this,t,n,b)}function R(t,a,f,h){var d=!a||a&&a.schema==t;if(a.schema!=n.schema)return e.call(w,t,a,f,h);var b,P=!0===t.$async,E=s({isTop:!0,schema:t,isRoot:d,baseId:h,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:I,validate:s,util:i,resolve:r,resolveRef:M,usePattern:F,useDefault:N,useCustomRule:U,opts:_,formats:T,logger:w.logger,self:w});E=g(x,y)+g(O,p)+g(S,m)+g(j,v)+E,_.processCode&&(E=_.processCode(E));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",E)(w,I,T,n,x,S,j,l,u,c),x[0]=b}catch(e){throw w.logger.error("Error compiling schema, function code:",E),e}return b.schema=t,b.errors=null,b.refs=k,b.refVal=x,b.root=d?b:a,P&&(b.$async=!0),!0===_.sourceCode&&(b.source={code:E,patterns:O,defaults:S}),b}function M(t,i,o){i=r.url(t,i);var a,s,u=k[i];if(void 0!==u)return L(a=x[u],s="refVal["+u+"]");if(!o&&n.refs){var l=n.refs[i];if(void 0!==l)return L(a=n.refVal[l],s=B(i,a))}s=B(i);var c=r.call(w,R,n,i);if(void 0===c){var f=d&&d[i];f&&(c=r.inlineRef(f,_.inlineRefs)?f:e.call(w,f,n,d,t))}if(void 0!==c)return function(e,t){var n=k[e];x[n]=t}(i,c),L(c,s);!function(e){delete k[e]}(i)}function B(e,t){var n=x.length;return x[n]=t,k[e]=n,"refVal"+n}function L(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function F(e){var t=P[e];return void 0===t&&(t=P[e]=O.length,O[t]=e),"pattern"+t}function N(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),n=E[t];return void 0===n&&(n=E[t]=S.length,S[n]=e),"default"+n}}function U(e,t,n,r){if(!1!==w._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o)if(!o(t)){var a="keyword schema is invalid: "+w.errorsText(o.errors);if("log"!=w._opts.validateSchema)throw new Error(a);w.logger.error(a)}}var s,u=e.definition.compile,l=e.definition.inline,c=e.definition.macro;if(u)s=u.call(w,t,n,r);else if(c)s=c.call(w,t,n,r),!1!==_.validateSchema&&w.validateSchema(s,!0);else if(l)s=l.call(w,r,e.keyword,t,n);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=j.length;return j[f]=s,{code:"customRule"+f,validate:s}}}},function(e,t,n){
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var r=t("[0-9]","[A-Fa-f]"),i=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=t("[\\:\\/\\?\\#\\[\\]\\@]",o),s=e?"[\\uE000-\\uF8FF]":"[]",u=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),l=n("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),c=n(n(i+"|"+t(u,o,"[\\:]"))+"*"),f=(n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("[1-9][0-9]")+"|[0-9]"),n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?[0-9]")),h=n(f+"\\."+f+"\\."+f+"\\."+f),d=n(r+"{1,4}"),p=n(n(d+"\\:"+d)+"|"+h),m=n(n(d+"\\:")+"{6}"+p),y=n("\\:\\:"+n(d+"\\:")+"{5}"+p),v=n(n(d)+"?\\:\\:"+n(d+"\\:")+"{4}"+p),g=n(n(n(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+n(d+"\\:")+"{3}"+p),b=n(n(n(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+n(d+"\\:")+"{2}"+p),w=n(n(n(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+p),_=n(n(n(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+p),x=n(n(n(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),k=n(n(n(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),O=n([m,y,v,g,b,w,_,x,k].join("|")),P=n(n(u+"|"+i)+"+"),S=(n(O+"\\%25"+P),n(O+n("\\%25|\\%(?!"+r+"{2})")+P)),E=n("[vV]"+r+"+\\."+t(u,o,"[\\:]")+"+"),j=n("\\["+n(S+"|"+O+"|"+E)+"\\]"),C=n(n(i+"|"+t(u,o))+"*"),A=n(j+"|"+h+"(?!"+C+")|"+C),T=n("[0-9]*"),I=n(n(c+"@")+"?"+A+n("\\:"+T)+"?"),z=n(i+"|"+t(u,o,"[\\:\\@]")),D=n(z+"*"),R=n(z+"+"),M=n(n(i+"|"+t(u,o,"[\\@]"))+"+"),B=n(n("\\/"+D)+"*"),L=n("\\/"+n(R+B)+"?"),F=n(M+B),N=n(R+B),U="(?!"+z+")",$=(n(B+"|"+L+"|"+F+"|"+N+"|"+U),n(n(z+"|"+t("[\\/\\?]",s))+"*")),V=n(n(z+"|[\\/\\?]")+"*"),q=n(n("\\/\\/"+I+B)+"|"+L+"|"+N+"|"+U),W=n(l+"\\:"+q+n("\\?"+$)+"?"+n("\\#"+V)+"?"),H=n(n("\\/\\/"+I+B)+"|"+L+"|"+F+"|"+U),K=n(H+n("\\?"+$)+"?"+n("\\#"+V)+"?");return n(W+"|"+K),n(l+"\\:"+q+n("\\?"+$)+"?"),n(n("\\/\\/("+n("("+c+")@")+"?("+A+")"+n("\\:("+T+")")+"?)")+"?("+B+"|"+L+"|"+N+"|"+U+")"),n("\\?("+$+")"),n("\\#("+V+")"),n(n("\\/\\/("+n("("+c+")@")+"?("+A+")"+n("\\:("+T+")")+"?)")+"?("+B+"|"+L+"|"+F+"|"+U+")"),n("\\?("+$+")"),n("\\#("+V+")"),n(n("\\/\\/("+n("("+c+")@")+"?("+A+")"+n("\\:("+T+")")+"?)")+"?("+B+"|"+L+"|"+N+"|"+U+")"),n("\\?("+$+")"),n("\\#("+V+")"),n("("+c+")@"),n("\\:("+T+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,o),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,o),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,o),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,o),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,o,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,o),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,a),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+O+")"+n(n("\\%25|\\%(?!"+r+"{2})")+"("+P+")")+"?\\]?$")}}var a=o(!1),s=o(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=2147483647,c=/^xn--/,f=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function y(e){throw new RangeError(d[e])}function v(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);var i=function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(h,".")).split("."),t).join(".");return r+i}function g(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},w=function(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))},_=function(e){var t,n=[],r=e.length,i=0,o=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&y("not-basic"),n.push(e.charCodeAt(u));for(var c=s>0?s+1:0;c<r;){for(var f=i,h=1,d=36;;d+=36){c>=r&&y("invalid-input");var m=(t=e.charCodeAt(c++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>p((l-i)/h))&&y("overflow"),i+=m*h;var v=d<=a?1:d>=a+26?26:d-a;if(m<v)break;var g=36-v;h>p(l/g)&&y("overflow"),h*=g}var b=n.length+1;a=w(i-f,b,0==f),p(i/b)>l-o&&y("overflow"),o+=p(i/b),i%=b,n.splice(i++,0,o)}return String.fromCodePoint.apply(String,n)},x=function(e){var t=[],n=(e=g(e)).length,r=128,i=0,o=72,a=!0,s=!1,u=void 0;try{for(var c,f=e[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var h=c.value;h<128&&t.push(m(h))}}catch(e){s=!0,u=e}finally{try{!a&&f.return&&f.return()}finally{if(s)throw u}}var d=t.length,v=d;for(d&&t.push("-");v<n;){var _=l,x=!0,k=!1,O=void 0;try{for(var P,S=e[Symbol.iterator]();!(x=(P=S.next()).done);x=!0){var E=P.value;E>=r&&E<_&&(_=E)}}catch(e){k=!0,O=e}finally{try{!x&&S.return&&S.return()}finally{if(k)throw O}}var j=v+1;_-r>p((l-i)/j)&&y("overflow"),i+=(_-r)*j,r=_;var C=!0,A=!1,T=void 0;try{for(var I,z=e[Symbol.iterator]();!(C=(I=z.next()).done);C=!0){var D=I.value;if(D<r&&++i>l&&y("overflow"),D==r){for(var R=i,M=36;;M+=36){var B=M<=o?1:M>=o+26?26:M-o;if(R<B)break;var L=R-B,F=36-B;t.push(m(b(B+L%F,0))),R=p(L/F)}t.push(m(b(R,0))),o=w(i,j,v==d),i=0,++v}}}catch(e){A=!0,T=e}finally{try{!C&&z.return&&z.return()}finally{if(A)throw T}}++i,++r}return t.join("")},k=function(e){return v(e,(function(e){return f.test(e)?"xn--"+x(e):e}))},O=function(e){return v(e,(function(e){return c.test(e)?_(e.slice(4).toLowerCase()):e}))},P={};function S(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function E(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var a=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function j(e,t){function n(e){var n=E(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,S).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,S).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,S).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,S).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,S).replace(t.PCT_ENCODED,i)),e}function C(e){return e.replace(/^0*(.*)/,"$1")||"0"}function A(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=u(n,2)[1];return r?r.split(".").map(C).join("."):e}function T(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=u(n,3),i=r[1],o=r[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=u(a,2),l=s[0],c=s[1],f=c?c.split(":").map(C):[],h=l.split(":").map(C),d=t.IPV4ADDRESS.test(h[h.length-1]),p=d?7:8,m=h.length-p,y=Array(p),v=0;v<p;++v)y[v]=f[v]||h[m+v]||"";d&&(y[p-1]=A(y[p-1],t));var g=y.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(g&&g.length>1){var w=y.slice(0,g.index),_=y.slice(g.index+g.length);b=w.join(":")+"::"+_.join(":")}else b=y.join(":");return o&&(b+="%"+o),b}return e}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,z=void 0==="".match(/(){0}/)[1];function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?s:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(I);if(i){z?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=T(A(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=P[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)j(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=k(n.host.replace(r.PCT_ENCODED,E).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}j(n,a)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function R(e,t){var n=!1!==t.iri?s:a,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(T(A(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}var M=/^\.\.?\//,B=/^\/\.(\/|$)/,L=/^\/\.\.(\/|$)/,F=/^\/?(?:.|\n)*?(?=\/|$)/;function N(e){for(var t=[];e.length;)if(e.match(M))e=e.replace(M,"");else if(e.match(B))e=e.replace(B,"/");else if(e.match(L))e=e.replace(L,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(F);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?s:a,r=[],i=P[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?O(e.host):k(e.host.replace(n.PCT_ENCODED,E).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}j(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=R(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=N(u)),void 0===o&&(u=u.replace(/^\/\//,"/%2F")),r.push(u)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i={};return r||(e=D(U(e,n),n),t=D(U(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=N(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=N(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=N(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=N(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function V(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:a.PCT_ENCODED,E)}var q={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},W={scheme:"https",domainHost:q.domainHost,parse:q.parse,serialize:q.serialize},H={},K="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",J="[0-9A-Fa-f]",G=n(n("%[EFef]"+J+"%"+J+J+"%"+J+J)+"|"+n("%[89A-Fa-f]"+J+"%"+J+J)+"|"+n("%"+J+J)),Y=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Z=new RegExp(K,"g"),Q=new RegExp(G,"g"),X=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Y),"g"),ee=new RegExp(t("[^]",K,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),te=ee;function ne(e){var t=E(e);return t.match(Z)?t:e}var re={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},a=n.query.split("&"),s=0,u=a.length;s<u;++s){var l=a[s].split("=");switch(l[0]){case"to":for(var c=l[1].split(","),f=0,h=c.length;f<h;++f)r.push(c[f]);break;case"subject":n.subject=V(l[1],t);break;case"body":n.body=V(l[1],t);break;default:i=!0,o[V(l[0],t)]=V(l[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var d=0,p=r.length;d<p;++d){var m=r[d].split("@");if(m[0]=V(m[0]),t.unicodeSupport)m[1]=V(m[1],t).toLowerCase();else try{m[1]=k(V(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[d]=m.join("@")}return n},serialize:function(e,t){var n,r=e,o=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var a=0,s=o.length;a<s;++a){var u=String(o[a]),l=u.lastIndexOf("@"),c=u.slice(0,l).replace(Q,ne).replace(Q,i).replace(X,S),f=u.slice(l+1);try{f=t.iri?O(f):k(V(f,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[a]=c+"@"+f}r.path=o.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var d=[];for(var p in h)h[p]!==H[p]&&d.push(p.replace(Q,ne).replace(Q,i).replace(ee,S)+"="+h[p].replace(Q,ne).replace(Q,i).replace(te,S));return d.length&&(r.query=d.join("&")),r}},ie=/^([^\:]+)\:(.*)/,oe={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(ie),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),a=n[2],s=i+":"+(t.nid||o),u=P[s];r.nid=o,r.nss=a,r.path=void 0,u&&(r=u.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=P[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(r||t.nid)+":"+s,a}},ae=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,se={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ae)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};P[q.scheme]=q,P[W.scheme]=W,P[re.scheme]=re,P[oe.scheme]=oe,P[se.scheme]=se,e.SCHEMES=P,e.pctEncChar=S,e.pctDecChars=E,e.parse=D,e.removeDotSegments=N,e.serialize=U,e.resolveComponents=$,e.resolve=function(e,t,n){var r=function(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}({scheme:"null"},n);return U($(D(e,r),D(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=U(D(e,t),t):"object"===r(e)&&(e=D(U(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=U(D(e,n),n):"object"===r(e)&&(e=U(e,n)),"string"==typeof t?t=U(D(t,n),n):"object"===r(t)&&(t=U(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:a.ESCAPE,S)},e.unescapeComponent=V,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n}},function(e,t,n){"use strict";var r=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),function e(t,n,i,o,a,s,u,l,c,f){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in n(o,a,s,u,l,c,f),o){var d=o[h];if(Array.isArray(d)){if(h in r.arrayKeywords)for(var p=0;p<d.length;p++)e(t,n,i,d[p],a+"/"+h+"/"+p,s,a,h,o,p)}else if(h in r.propsKeywords){if(d&&"object"==typeof d)for(var m in d)e(t,n,i,d[m],a+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,a,h,o,m)}else(h in r.keywords||t.allKeys&&!(h in r.skipKeywords))&&e(t,n,i,d,a+"/"+h,s,a,h,o)}i(o,a,s,u,l,c,f)}}(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){"use strict";var r=e.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";var r=n(189),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,s=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,c=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,f=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",r.copy(m[e])}function y(e){var t=e.match(i);if(!t)return!1;var n=+t[1],r=+t[2],a=+t[3];return r>=1&&r<=12&&a>=1&&a<=(2==r&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:o[r])}function v(e,t){var n=e.match(a);if(!n)return!1;var r=n[1],i=n[2],o=n[3],s=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!t||s)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":l,url:c,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_,uuid:f,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":p},m.full={date:y,time:v,"date-time":function(e){var t=e.split(g);return 2==t.length&&y(t[0])&&v(t[1],!0)},uri:function(e){return b.test(e)&&u.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":l,url:c,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_,uuid:f,"json-pointer":h,"json-pointer-uri-fragment":d,"relative-json-pointer":p};var g=/t|\s/i;var b=/\/|:/;var w=/[^\\]\\Z/;function _(e){if(w.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(488),i=n(189).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:r[n],implements:i}})),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,n){"use strict";e.exports={$ref:n(489),allOf:n(490),anyOf:n(491),$comment:n(492),const:n(493),contains:n(494),dependencies:n(495),enum:n(496),format:n(497),if:n(498),items:n(499),maximum:n(411),minimum:n(411),maxItems:n(412),minItems:n(412),maxLength:n(413),minLength:n(413),maxProperties:n(414),minProperties:n(414),multipleOf:n(500),not:n(501),oneOf:n(502),pattern:n(503),properties:n(504),propertyNames:n(505),required:n(506),uniqueItems:n(507),validate:n(410)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,u=e.schema[t],l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(s||""),h="valid"+a;if("#"==u||"#/"==u)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var d=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===d){var p=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(p),(g=g||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var m=o;o=g.pop(),!e.compositeRule&&c?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,p);e.logger.warn(p),c&&(o+=" if (true) { ")}}else if(d.inline){var y=e.util.copy(e);y.level++;var v="valid"+y.level;y.schema=d.schema,y.schemaPath="",y.errSchemaPath=u,o+=" "+e.validate(y).replace(/validate\.schema/g,d.code)+" ",c&&(o+=" if ("+v+") { ")}else r=!0===d.$async||e.async&&!1!==d.$async,i=d.code}if(i){var g;(g=g||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var b=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=g.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(o+=" var "+h+"; "),o+=" try { await "+b+"; ",c&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(o+=" "+h+" = false; "),o+=" } ",c&&(o+=" if ("+h+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(o+=" else { ")}return o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,u=e.util.copy(e),l="";u.level++;var c="valid"+u.level,f=u.baseId,h=!0,d=i;if(d)for(var p,m=-1,y=d.length-1;m<y;)p=d[m+=1],(e.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0:e.util.schemaHasRules(p,e.RULES.all))&&(h=!1,u.schema=p,u.schemaPath=o+"["+m+"]",u.errSchemaPath=a+"/"+m,r+="  "+e.validate(u)+" ",u.baseId=f,s&&(r+=" if ("+c+") { ",l+="}"));return s&&(r+=h?" if (true) { ":" "+l.slice(0,-1)+" "),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level;if(a.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0:e.util.schemaHasRules(t,e.RULES.all)}))){var y=d.baseId;r+=" var "+h+" = errors; var "+f+" = false;  ";var v=e.compositeRule;e.compositeRule=d.compositeRule=!0;var g=a;if(g)for(var b,w=-1,_=g.length-1;w<_;)b=g[w+=1],d.schema=b,d.schemaPath=s+"["+w+"]",d.errSchemaPath=u+"/"+w,r+="  "+e.validate(d)+" ",d.baseId=y,r+=" "+f+" = "+f+" || "+m+"; if (!"+f+") { ",p+="}";e.compositeRule=d.compositeRule=v,r+=" "+p+" if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else l&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?r+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),h||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+f+" = equal("+c+", schema"+i+"); if (!"+f+") {   ";var d=d||[];d.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;return r=d.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level,m="i"+i,y=d.dataLevel=e.dataLevel+1,v="data"+y,g=e.baseId,b=e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all);if(r+="var "+h+" = errors;var "+f+";",b){var w=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=a,d.schemaPath=s,d.errSchemaPath=u,r+=" var "+p+" = false; for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var _=c+"["+m+"]";d.dataPathArr[y]=m;var x=e.validate(d);d.baseId=g,e.util.varOccurences(x,v)<2?r+=" "+e.util.varReplace(x,v,_)+" ":r+=" var "+v+" = "+_+"; "+x+" ",r+=" if ("+p+") break; }  ",e.compositeRule=d.compositeRule=w,r+="  if (!"+p+") {"}else r+=" if ("+c+".length == 0) {";var k=k||[];k.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var O=r;return r=k.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",b&&(r+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e),d="";h.level++;var p="valid"+h.level,m={},y={},v=e.opts.ownProperties;for(_ in a){var g=a[_],b=Array.isArray(g)?y:m;b[_]=g}r+="var "+f+" = errors;";var w=e.errorPath;for(var _ in r+="var missing"+i+";",y)if((b=y[_]).length){if(r+=" if ( "+c+e.util.getProperty(_)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(_)+"') "),l){r+=" && ( ";var x=b;if(x)for(var k=-1,O=x.length-1;k<O;){A=x[k+=1],k&&(r+=" || "),r+=" ( ( "+(D=c+(z=e.util.getProperty(A)))+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(A)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?A:z)+") ) "}r+=")) {  ";var P="missing"+i,S="' + "+P+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,P,!0):w+" + "+P);var E=E||[];E.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+S+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var j=r;r=E.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+j+"]); ":r+=" validate.errors = ["+j+"]; return false; ":r+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var C=b;if(C)for(var A,T=-1,I=C.length-1;T<I;){A=C[T+=1];var z=e.util.getProperty(A),D=(S=e.util.escapeQuotes(A),c+z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,A,e.opts.jsonPointers)),r+=" if ( "+D+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(A)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+S+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",l&&(d+="}",r+=" else { ")}e.errorPath=w;var R=h.baseId;for(var _ in m){g=m[_];(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0:e.util.schemaHasRules(g,e.RULES.all))&&(r+=" "+p+" = true; if ( "+c+e.util.getProperty(_)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(_)+"') "),r+=") { ",h.schema=g,h.schemaPath=s+e.util.getProperty(_),h.errSchemaPath=u+"/"+e.util.escapeFragment(_),r+="  "+e.validate(h)+" ",h.baseId=R,r+=" }  ",l&&(r+=" if ("+p+") { ",d+="}"))}return l&&(r+="   "+d+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var d="i"+i,p="schema"+i;h||(r+=" var "+p+" = validate.schema"+s+";"),r+="var "+f+";",h&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=f+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+c+", "+p+"["+d+"])) { "+f+" = true; break; }",h&&(r+="  }  "),r+=" if (!"+f+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var y=r;return r=m.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||"");if(!1===e.opts.format)return l&&(r+=" if (true) { "),r;var f,h=e.opts.$data&&a&&a.$data;h?(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a;var d=e.opts.unknownFormats,p=Array.isArray(d);if(h){r+=" var "+(m="format"+i)+" = formats["+f+"]; var "+(y="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(v="formatType"+i)+" = "+y+" && "+m+".type || 'string'; if ("+y+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",h&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (","ignore"!=d&&(r+=" ("+f+" && !"+m+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+m+" && "+v+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+m+"("+c+") : "+m+"("+c+")) ":r+=" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {"}else{var m;if(!(m=e.formats[a])){if("ignore"==d)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),l&&(r+=" if (true) { "),r;if(p&&d.indexOf(a)>=0)return l&&(r+=" if (true) { "),r;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var y,v=(y="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(y){var g=!0===m.async;m=m.validate}if(v!=n)return l&&(r+=" if (true) { "),r;if(g){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+e.util.getProperty(a)+".validate")+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(a);y&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var w=w||[];w.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",r+=h?""+f:""+e.util.toQuotedString(a),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=h?"' + "+f+" + '":""+e.util.escapeQuotes(a),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+s:""+e.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var _=r;return r=w.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level,m=e.schema.then,y=e.schema.else,v=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0:e.util.schemaHasRules(m,e.RULES.all)),g=void 0!==y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0:e.util.schemaHasRules(y,e.RULES.all)),b=d.baseId;if(v||g){var w;d.createErrors=!1,d.schema=a,d.schemaPath=s,d.errSchemaPath=u,r+=" var "+h+" = errors; var "+f+" = true;  ";var _=e.compositeRule;e.compositeRule=d.compositeRule=!0,r+="  "+e.validate(d)+" ",d.baseId=b,d.createErrors=!0,r+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=d.compositeRule=_,v?(r+=" if ("+p+") {  ",d.schema=e.schema.then,d.schemaPath=e.schemaPath+".then",d.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(d)+" ",d.baseId=b,r+=" "+f+" = "+p+"; ",v&&g?r+=" var "+(w="ifClause"+i)+" = 'then'; ":w="'then'",r+=" } ",g&&(r+=" else { ")):r+=" if (!"+p+") { ",g&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+".else",d.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(d)+" ",d.baseId=b,r+=" "+f+" = "+p+"; ",v&&g?r+=" var "+(w="ifClause"+i)+" = 'else'; ":w="'else'",r+=" } "),r+=" if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+w+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+w+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",l&&(r+=" else { "),r=e.util.cleanUpCode(r)}else l&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,y="i"+i,v=d.dataLevel=e.dataLevel+1,g="data"+v,b=e.baseId;if(r+="var "+h+" = errors;var "+f+";",Array.isArray(a)){var w=e.schema.additionalItems;if(!1===w){r+=" "+f+" = "+c+".length <= "+a.length+"; ";var _=u;u=e.errSchemaPath+"/additionalItems",r+="  if (!"+f+") {   ";var x=x||[];x.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var k=r;r=x.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u=_,l&&(p+="}",r+=" else { ")}var O=a;if(O)for(var P,S=-1,E=O.length-1;S<E;)if(P=O[S+=1],e.opts.strictKeywords?"object"==typeof P&&Object.keys(P).length>0:e.util.schemaHasRules(P,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+S+") { ";var j=c+"["+S+"]";d.schema=P,d.schemaPath=s+"["+S+"]",d.errSchemaPath=u+"/"+S,d.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0),d.dataPathArr[v]=S;var C=e.validate(d);d.baseId=b,e.util.varOccurences(C,g)<2?r+=" "+e.util.varReplace(C,g,j)+" ":r+=" var "+g+" = "+j+"; "+C+" ",r+=" }  ",l&&(r+=" if ("+m+") { ",p+="}")}if("object"==typeof w&&(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0:e.util.schemaHasRules(w,e.RULES.all))){d.schema=w,d.schemaPath=e.schemaPath+".additionalItems",d.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+a.length+") {  for (var "+y+" = "+a.length+"; "+y+" < "+c+".length; "+y+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);j=c+"["+y+"]";d.dataPathArr[v]=y;C=e.validate(d);d.baseId=b,e.util.varOccurences(C,g)<2?r+=" "+e.util.varReplace(C,g,j)+" ":r+=" var "+g+" = "+j+"; "+C+" ",l&&(r+=" if (!"+m+") break; "),r+=" } }  ",l&&(r+=" if ("+m+") { ",p+="}")}}else if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){d.schema=a,d.schemaPath=s,d.errSchemaPath=u,r+="  for (var "+y+" = 0; "+y+" < "+c+".length; "+y+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);j=c+"["+y+"]";d.dataPathArr[v]=y;C=e.validate(d);d.baseId=b,e.util.varOccurences(C,g)<2?r+=" "+e.util.varReplace(C,g,j)+" ":r+=" var "+g+" = "+j+"; "+C+" ",l&&(r+=" if (!"+m+") break; "),r+=" }"}return l&&(r+=" "+p+" if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="var division"+o+";if (",h&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+f+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e);h.level++;var d="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=u,r+=" var "+f+" = errors;  ";var p,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(p=h.opts.allErrors,h.opts.allErrors=!1),r+=" "+e.validate(h)+" ",h.createErrors=!0,p&&(h.opts.allErrors=p),e.compositeRule=h.compositeRule=m,r+=" if ("+d+") {   ";var y=y||[];y.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var v=r;r=y.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(r+=" if (false) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h="errs__"+i,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,y=d.baseId,v="prevValid"+i,g="passingSchemas"+i;r+="var "+h+" = errors , "+v+" = false , "+f+" = false , "+g+" = null; ";var b=e.compositeRule;e.compositeRule=d.compositeRule=!0;var w=a;if(w)for(var _,x=-1,k=w.length-1;x<k;)_=w[x+=1],(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0:e.util.schemaHasRules(_,e.RULES.all))?(d.schema=_,d.schemaPath=s+"["+x+"]",d.errSchemaPath=u+"/"+x,r+="  "+e.validate(d)+" ",d.baseId=y):r+=" var "+m+" = true; ",x&&(r+=" if ("+m+" && "+v+") { "+f+" = false; "+g+" = ["+g+", "+x+"]; } else { ",p+="}"),r+=" if ("+m+") { "+f+" = "+v+" = true; "+g+" = "+x+"; }";return e.compositeRule=d.compositeRule=b,r+=p+"if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+g+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(h?"(new RegExp("+r+"))":e.usePattern(s))+".test("+f+") ) {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { pattern:  ",i+=h?""+r:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e),d="";h.level++;var p="valid"+h.level,m="key"+i,y="idx"+i,v=h.dataLevel=e.dataLevel+1,g="data"+v,b="dataProperties"+i,w=Object.keys(a||{}),_=e.schema.patternProperties||{},x=Object.keys(_),k=e.schema.additionalProperties,O=w.length||x.length,P=!1===k,S="object"==typeof k&&Object.keys(k).length,E=e.opts.removeAdditional,j=P||S||E,C=e.opts.ownProperties,A=e.baseId,T=e.schema.required;if(T&&(!e.opts.$data||!T.$data)&&T.length<e.opts.loopRequired)var I=e.util.toHash(T);if(r+="var "+f+" = errors;var "+p+" = true;",C&&(r+=" var "+b+" = undefined;"),j){if(r+=C?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+m+" = "+b+"["+y+"]; ":" for (var "+m+" in "+c+") { ",O){if(r+=" var isAdditional"+i+" = !(false ",w.length)if(w.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var z=w;if(z)for(var D=-1,R=z.length-1;D<R;)J=z[D+=1],r+=" || "+m+" == "+e.util.toQuotedString(J)+" "}if(x.length){var M=x;if(M)for(var B=-1,L=M.length-1;B<L;)ie=M[B+=1],r+=" || "+e.usePattern(ie)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==E)r+=" delete "+c+"["+m+"]; ";else{var F=e.errorPath,N="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),P)if(E)r+=" delete "+c+"["+m+"]; ";else{r+=" "+p+" = false; ";var U=u;u=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+N+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var $=r;r=te.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+$+"]); ":r+=" validate.errors = ["+$+"]; return false; ":r+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=U,l&&(r+=" break; ")}else if(S)if("failing"==E){r+=" var "+f+" = errors;  ";var V=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=k,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var q=c+"["+m+"]";h.dataPathArr[v]=m;var W=e.validate(h);h.baseId=A,e.util.varOccurences(W,g)<2?r+=" "+e.util.varReplace(W,g,q)+" ":r+=" var "+g+" = "+q+"; "+W+" ",r+=" if (!"+p+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=h.compositeRule=V}else{h.schema=k,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);q=c+"["+m+"]";h.dataPathArr[v]=m;W=e.validate(h);h.baseId=A,e.util.varOccurences(W,g)<2?r+=" "+e.util.varReplace(W,g,q)+" ":r+=" var "+g+" = "+q+"; "+W+" ",l&&(r+=" if (!"+p+") break; ")}e.errorPath=F}O&&(r+=" } "),r+=" }  ",l&&(r+=" if ("+p+") { ",d+="}")}var H=e.opts.useDefaults&&!e.compositeRule;if(w.length){var K=w;if(K)for(var J,G=-1,Y=K.length-1;G<Y;){var Z=a[J=K[G+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0:e.util.schemaHasRules(Z,e.RULES.all)){var Q=e.util.getProperty(J),X=(q=c+Q,H&&void 0!==Z.default);h.schema=Z,h.schemaPath=s+Q,h.errSchemaPath=u+"/"+e.util.escapeFragment(J),h.errorPath=e.util.getPath(e.errorPath,J,e.opts.jsonPointers),h.dataPathArr[v]=e.util.toQuotedString(J);W=e.validate(h);if(h.baseId=A,e.util.varOccurences(W,g)<2){W=e.util.varReplace(W,g,q);var ee=q}else{ee=g;r+=" var "+g+" = "+q+"; "}if(X)r+=" "+W+" ";else{if(I&&I[J]){r+=" if ( "+ee+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(J)+"') "),r+=") { "+p+" = false; ";F=e.errorPath,U=u;var te,ne=e.util.escapeQuotes(J);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(F,J,e.opts.jsonPointers)),u=e.errSchemaPath+"/required",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ne+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";$=r;r=te.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+$+"]); ":r+=" validate.errors = ["+$+"]; return false; ":r+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=U,e.errorPath=F,r+=" } else { "}else l?(r+=" if ( "+ee+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(J)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+ee+" !== undefined ",C&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(J)+"') "),r+=" ) { ");r+=" "+W+" } "}}l&&(r+=" if ("+p+") { ",d+="}")}}if(x.length){var re=x;if(re)for(var ie,oe=-1,ae=re.length-1;oe<ae;){Z=_[ie=re[oe+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0:e.util.schemaHasRules(Z,e.RULES.all)){h.schema=Z,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),r+=C?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+m+" = "+b+"["+y+"]; ":" for (var "+m+" in "+c+") { ",r+=" if ("+e.usePattern(ie)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);q=c+"["+m+"]";h.dataPathArr[v]=m;W=e.validate(h);h.baseId=A,e.util.varOccurences(W,g)<2?r+=" "+e.util.varReplace(W,g,q)+" ":r+=" var "+g+" = "+q+"; "+W+" ",l&&(r+=" if (!"+p+") break; "),r+=" } ",l&&(r+=" else "+p+" = true; "),r+=" }  ",l&&(r+=" if ("+p+") { ",d+="}")}}}return l&&(r+=" "+d+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,h=e.util.copy(e);h.level++;var d="valid"+h.level;if(r+="var "+f+" = errors;",e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=u;var p="key"+i,m="idx"+i,y="i"+i,v="' + "+p+" + '",g="data"+(h.dataLevel=e.dataLevel+1),b="dataProperties"+i,w=e.opts.ownProperties,_=e.baseId;w&&(r+=" var "+b+" = undefined; "),r+=w?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+p+" = "+b+"["+m+"]; ":" for (var "+p+" in "+c+") { ",r+=" var startErrs"+i+" = errors; ";var x=p,k=e.compositeRule;e.compositeRule=h.compositeRule=!0;var O=e.validate(h);h.baseId=_,e.util.varOccurences(O,g)<2?r+=" "+e.util.varReplace(O,g,x)+" ":r+=" var "+g+" = "+x+"; "+O+" ",e.compositeRule=h.compositeRule=k,r+=" if (!"+d+") { for (var "+y+"=startErrs"+i+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+p+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+v+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),l&&(r+=" break; "),r+=" } }"}return l&&(r+="  if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,h=e.opts.$data&&a&&a.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var d="schema"+i;if(!h)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=a;if(m)for(var y,v=-1,g=m.length-1;v<g;){y=m[v+=1];var b=e.schema.properties[y];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all))||(p[p.length]=y)}}else p=a;if(h||p.length){var w=e.errorPath,_=h||p.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(l)if(r+=" var missing"+i+"; ",_){h||(r+=" var "+d+" = validate.schema"+s+"; ");var k="' + "+(C="schema"+i+"["+(S="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,C,e.opts.jsonPointers)),r+=" var "+f+" = true; ",h&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=" for (var "+S+" = 0; "+S+" < "+d+".length; "+S+"++) { "+f+" = "+c+"["+d+"["+S+"]] !== undefined ",x&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+d+"["+S+"]) "),r+="; if (!"+f+") break; } ",h&&(r+="  }  "),r+="  if (!"+f+") {   ",(j=j||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var O=r;r=j.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var P=p;if(P)for(var S=-1,E=P.length-1;S<E;){T=P[S+=1],S&&(r+=" || "),r+=" ( ( "+(R=c+(D=e.util.getProperty(T)))+" === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(T)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:D)+") ) "}r+=") {  ";var j;k="' + "+(C="missing"+i)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,C,!0):w+" + "+C),(j=j||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";O=r;r=j.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(_){h||(r+=" var "+d+" = validate.schema"+s+"; ");var C;k="' + "+(C="schema"+i+"["+(S="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,C,e.opts.jsonPointers)),h&&(r+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),r+=" for (var "+S+" = 0; "+S+" < "+d+".length; "+S+"++) { if ("+c+"["+d+"["+S+"]] === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+d+"["+S+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(r+="  }  ")}else{var A=p;if(A)for(var T,I=-1,z=A.length-1;I<z;){T=A[I+=1];var D=e.util.getProperty(T),R=(k=e.util.escapeQuotes(T),c+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,T,e.opts.jsonPointers)),r+=" if ( "+R+" === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(T)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=w}else l&&(r+=" if (true) {");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),h="valid"+o,d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,(s||d)&&!1!==e.opts.uniqueItems){d&&(i+=" var "+h+"; if ("+r+" === false || "+r+" === undefined) "+h+" = true; else if (typeof "+r+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+f+".length , "+h+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,m=Array.isArray(p);if(!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var y="checkDataType"+(m?"s":"");i+=" if ("+e.util[y](p,"item",!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",d&&(i+="  }  "),i+=" if (!"+h+") {   ";var v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var g=i;i=v.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var i,o=t[n].split("/"),a=e;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<r.length;i++){var s=r[i],u=a[s];u&&(a[s]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,n){"use strict";var r=n(363).MissingRef;e.exports=function e(t,n,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var a=s(t).then((function(){var e=o._addSchema(t,void 0,n);return e.validate||function e(t){try{return o._compile(t)}catch(e){if(e instanceof r)return i(e);throw e}function i(r){var i=r.missingSchema;if(l(i))throw new Error("Schema "+i+" is loaded but "+r.missingRef+" cannot be resolved");var a=o._loadingSchemas[i];return a||(a=o._loadingSchemas[i]=o._opts.loadSchema(i)).then(u,u),a.then((function(e){if(!l(i))return s(e).then((function(){l(i)||o.addSchema(e,i,void 0,n)}))})).then((function(){return e(t)}));function u(){delete o._loadingSchemas[i]}function l(e){return o._refs[e]||o._schemas[e]}}}(e)}));i&&a.then((function(e){i(null,e)}),i);return a;function s(t){var n=t.$schema;return n&&!o.getSchema(n)?e.call(o,{$ref:n},!0):Promise.resolve()}}},function(e,t,n){"use strict";var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(511),o=n(512);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)u(e,o[a],t);else u(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function u(e,t,r){for(var o,a=0;a<n.length;a++){var s=n[a];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},n.push(o));var u={keyword:e,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(u),n.custom[e]=u}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this},validate:function e(t,n){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(r(t))return!0;if(e.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,u=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(s||""),d="valid"+a,p="errs__"+a,m=e.opts.$data&&u&&u.$data;m?(o+=" var schema"+a+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=u;var y,v,g,b,w,_="definition"+a,x=this.definition,k="";if(m&&x.$data){w="keywordValidate"+a;var O=x.validateSchema;o+=" var "+_+" = RULES.custom['"+t+"'].definition; var "+w+" = "+_+".validate;"}else{if(!(b=e.useCustomRule(this,u,e.schema,e)))return;i="validate.schema"+l,w=b.code,y=x.compile,v=x.inline,g=x.macro}var P=w+".errors",S="i"+a,E="ruleErr"+a,j=x.async;if(j&&!e.async)throw new Error("async keyword in sync schema");if(v||g||(o+=P+" = null;"),o+="var "+p+" = errors;var "+d+";",m&&x.$data&&(k+="}",o+=" if ("+i+" === undefined) { "+d+" = true; } else { ",O&&(k+="}",o+=" "+d+" = "+_+".validateSchema("+i+"); if ("+d+") { ")),v)x.statements?o+=" "+b.validate+" ":o+=" "+d+" = "+b.validate+"; ";else if(g){var C=e.util.copy(e);k="";C.level++;var A="valid"+C.level;C.schema=b.validate,C.schemaPath="";var T=e.compositeRule;e.compositeRule=C.compositeRule=!0;var I=e.validate(C).replace(/validate\.schema/g,w);e.compositeRule=C.compositeRule=T,o+=" "+I}else{(M=M||[]).push(o),o="",o+="  "+w+".call( ",e.opts.passContext?o+="this":o+="self",y||!1===x.schema?o+=" , "+h+" ":o+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var z=s?"data"+(s-1||""):"parentData",D=s?e.dataPathArr[s]:"parentDataProperty",R=o+=" , "+z+" , "+D+" , rootData )  ";o=M.pop(),!1===x.errors?(o+=" "+d+" = ",j&&(o+="await "),o+=R+"; "):o+=j?" var "+(P="customErrors"+a)+" = null; try { "+d+" = await "+R+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+P+" = e.errors; else throw e; } ":" "+P+" = null; "+d+" = "+R+"; "}if(x.modifying&&(o+=" if ("+z+") "+h+" = "+z+"["+D+"];"),o+=""+k,x.valid)f&&(o+=" if (true) { ");else{var M;o+=" if ( ",void 0===x.valid?(o+=" !",o+=g?""+A:""+d):o+=" "+!x.valid+" ",o+=") { ",r=this.keyword,(M=M||[]).push(o),o="",(M=M||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var B=o;o=M.pop(),!e.compositeRule&&f?e.async?o+=" throw new ValidationError(["+B+"]); ":o+=" validate.errors = ["+B+"]; return false; ":o+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var L=o;o=M.pop(),v?x.errors?"full"!=x.errors&&(o+="  for (var "+S+"="+p+"; "+S+"<errors; "+S+"++) { var "+E+" = vErrors["+S+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+E+".schemaPath === undefined) { "+E+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+E+".schema = "+i+"; "+E+".data = "+h+"; "),o+=" } "):!1===x.errors?o+=" "+L+" ":(o+=" if ("+p+" == errors) { "+L+" } else {  for (var "+S+"="+p+"; "+S+"<errors; "+S+"++) { var "+E+" = vErrors["+S+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+E+".schemaPath === undefined) { "+E+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+E+".schema = "+i+"; "+E+".data = "+h+"; "),o+=" } } "):g?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===x.errors?o+=" "+L+" ":(o+=" if (Array.isArray("+P+")) { if (vErrors === null) vErrors = "+P+"; else vErrors = vErrors.concat("+P+"); errors = vErrors.length;  for (var "+S+"="+p+"; "+S+"<errors; "+S+"++) { var "+E+" = vErrors["+S+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+";  "+E+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(o+=" "+E+".schema = "+i+"; "+E+".data = "+h+"; "),o+=" } } else { "+L+" } "),o+=" } ",f&&(o+=" else { ")}return o}},function(e,t,n){"use strict";var r=n(415);e.exports={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(e){e.exports=JSON.parse('{"title":"definitions","definitions":{"contextualizedFieldName":{"type":"string","pattern":"^(this\\\\.)?.+$"},"dataTypeArgsCount":{"oneOf":[{"$ref":"#/definitions/contextualizedFieldName"},{"type":"number"}]},"fieldName":{"type":"string","pattern":"^[a-zA-Z0-9_]+$"}},"type":"object"}')},function(e){e.exports=JSON.parse('{"title":"protocol","type":"object","properties":{"types":{"type":"object","patternProperties":{"^[0-9a-zA-Z_]+$":{"oneOf":[{"type":"string"},{"type":"array","items":[{"type":"string"},{"oneOf":[{"type":"object"},{"type":"array"}]}]}]}},"additionalProperties":false}},"patternProperties":{"^(?!types)[a-zA-Z_]+$":{"$ref":"#"}},"additionalProperties":false}')},function(e){e.exports=JSON.parse('{"i8":{"enum":["i8"]},"u8":{"enum":["u8"]},"i16":{"enum":["i16"]},"u16":{"enum":["u16"]},"i32":{"enum":["i32"]},"u32":{"enum":["u32"]},"f32":{"enum":["f32"]},"f64":{"enum":["f64"]},"li8":{"enum":["li8"]},"lu8":{"enum":["lu8"]},"li16":{"enum":["li16"]},"lu16":{"enum":["lu16"]},"li32":{"enum":["li32"]},"lu32":{"enum":["lu32"]},"lf32":{"enum":["lf32"]},"lf64":{"enum":["lf64"]},"i64":{"enum":["i64"]},"li64":{"enum":["li64"]},"u64":{"enum":["u64"]},"lu64":{"enum":["lu64"]}}')},function(e){e.exports=JSON.parse('{"varint":{"enum":["varint"]},"bool":{"enum":["bool"]},"pstring":{"title":"pstring","type":"array","items":[{"enum":["pstring"]},{"oneOf":[{"type":"object","properties":{"countType":{"$ref":"dataType"}},"additionalProperties":false,"required":["countType"]},{"type":"object","properties":{"count":{"$ref":"definitions#/definitions/dataTypeArgsCount"}},"additionalProperties":false,"required":["count"]}]}],"additionalItems":false},"buffer":{"title":"buffer","type":"array","items":[{"enum":["buffer"]},{"oneOf":[{"type":"object","properties":{"countType":{"$ref":"dataType"}},"additionalProperties":false,"required":["countType"]},{"type":"object","properties":{"count":{"$ref":"definitions#/definitions/dataTypeArgsCount"}},"additionalProperties":false,"required":["count"]}]}]},"void":{"enum":["void"]},"bitfield":{"title":"bitfield","type":"array","items":[{"enum":["bitfield"]},{"type":"array","items":{"type":"object","properties":{"name":{"$ref":"definitions#/definitions/fieldName"},"size":{"type":"number"},"signed":{"type":"boolean"}},"required":["name","size","signed"],"additionalProperties":false},"additionalItems":false}],"additionalItems":false},"cstring":{"enum":["cstring"]},"mapper":{"title":"mapper","type":"array","items":[{"enum":["mapper"]},{"type":"object","properties":{"type":{"$ref":"dataType"},"mappings":{"type":"object","patternProperties":{"^[-a-zA-Z0-9 _]+$":{"type":"string"}},"additionalProperties":false}},"required":["type","mappings"],"additionalProperties":false}],"additionalItems":false}}')},function(e){e.exports=JSON.parse('{"array":{"title":"array","type":"array","items":[{"enum":["array"]},{"oneOf":[{"type":"object","properties":{"type":{"$ref":"dataType"},"countType":{"$ref":"dataType"}},"additionalProperties":false,"required":["type","countType"]},{"type":"object","properties":{"type":{"$ref":"dataType"},"count":{"$ref":"definitions#/definitions/dataTypeArgsCount"}},"additionalProperties":false,"required":["type","count"]}]}],"additionalItems":false},"count":{"title":"count","type":"array","items":[{"enum":["count"]},{"type":"object","properties":{"countFor":{"$ref":"definitions#/definitions/contextualizedFieldName"},"type":{"$ref":"dataType"}},"required":["countFor","type"],"additionalProperties":false}],"additionalItems":false},"container":{"title":"container","type":"array","items":[{"enum":["container"]},{"type":"array","items":{"type":"object","properties":{"anon":{"type":"boolean"},"name":{"$ref":"definitions#/definitions/fieldName"},"type":{"$ref":"dataType"}},"oneOf":[{"required":["anon"]},{"required":["name"]}],"required":["type"],"additionalProperties":false},"additionalItems":false}],"additionalItems":false}}')},function(e){e.exports=JSON.parse('{"switch":{"title":"switch","type":"array","items":[{"enum":["switch"]},{"type":"object","properties":{"compareTo":{"$ref":"definitions#/definitions/contextualizedFieldName"},"compareToValue":{"type":"string"},"fields":{"type":"object","patternProperties":{"^[-a-zA-Z0-9 _:]+$":{"$ref":"dataType"}},"additionalProperties":false},"default":{"$ref":"dataType"}},"oneOf":[{"required":["compareTo","fields"]},{"required":["compareToValue","fields"]}],"additionalProperties":false}],"additionalItems":false},"option":{"title":"option","type":"array","items":[{"enum":["option"]},{"$ref":"dataType"}],"additionalItems":false}}')},function(e,t,n){const{getField:r,getCount:i,sendCount:o,calcCount:a,tryDoc:s}=n(156);e.exports={array:[function(e,t,n,r){const o={value:[],size:0};let a,{count:u,size:l}=i.call(this,e,t,n,r);t+=l,o.size+=l;for(let i=0;i<u;i++)({size:l,value:a}=s(()=>this.read(e,t,n.type,r),i)),o.size+=l,t+=l,o.value.push(a);return o},function(e,t,n,r,i){return n=o.call(this,e.length,t,n,r,i),e.reduce((e,n,o)=>s(()=>this.write(n,t,e,r.type,i),o),n)},function(e,t,n){let r=a.call(this,e.length,t,n);return r=e.reduce((e,r,i)=>s(()=>e+this.sizeOf(r,t.type,n),i),r),r},n(367).array],count:[function(e,t,{type:n},r){return this.read(e,t,n,r)},function(e,t,n,{countFor:i,type:o},a){return this.write(r(i,a).length,t,n,o,a)},function(e,{countFor:t,type:n},i){return this.sizeOf(r(t,i).length,n,i)},n(367).count],container:[function(e,t,n,r){const i={value:{"..":r},size:0};return n.forEach(({type:n,name:r,anon:o})=>{s(()=>{const a=this.read(e,t,n,i.value);i.size+=a.size,t+=a.size,o?void 0!==a.value&&Object.keys(a.value).forEach(e=>{i.value[e]=a.value[e]}):i.value[r]=a.value},r||"unknown")}),delete i.value[".."],i},function(e,t,n,r,i){return e[".."]=i,n=r.reduce((n,{type:r,name:i,anon:o})=>s(()=>this.write(o?e:e[i],t,n,r,e),i||"unknown"),n),delete e[".."],n},function(e,t,n){e[".."]=n;const r=t.reduce((t,{type:n,name:r,anon:i})=>t+s(()=>this.sizeOf(i?e:e[r],n,e),r||"unknown"),0);return delete e[".."],r},n(367).container]}},function(e,t,n){const{getField:r,getFieldInfo:i,tryDoc:o,PartialReadError:a}=n(156);e.exports={switch:[function(e,t,{compareTo:n,fields:a,compareToValue:s,default:u},l){if(n=void 0!==s?s:r(n,l),void 0===a[n]&&void 0===u)throw new Error(n+" has no associated fieldInfo in switch");const c=void 0===a[n],f=c?u:a[n],h=i(f);return o(()=>this.read(e,t,h,l),c?"default":n)},function(e,t,n,{compareTo:a,fields:s,compareToValue:u,default:l},c){if(a=void 0!==u?u:r(a,c),void 0===s[a]&&void 0===l)throw new Error(a+" has no associated fieldInfo in switch");const f=void 0===s[a],h=i(f?l:s[a]);return o(()=>this.write(e,t,n,h,c),f?"default":a)},function(e,{compareTo:t,fields:n,compareToValue:a,default:s},u){if(t=void 0!==a?a:r(t,u),void 0===n[t]&&void 0===s)throw new Error(t+" has no associated fieldInfo in switch");const l=void 0===n[t],c=i(l?s:n[t]);return o(()=>this.sizeOf(e,c,u),l?"default":t)},n(418).switch],option:[function(e,t,n,r){if(e.length<t+1)throw new a;if(0!==e.readUInt8(t++)){const i=this.read(e,t,n,r);return i.size++,i}return{size:1}},function(e,t,n,r,i){null!=e?(t.writeUInt8(1,n++),n=this.write(e,t,n,r,i)):t.writeUInt8(0,n++);return n},function(e,t,n){return null==e?1:this.sizeOf(e,t,n)+1},n(418).option]}},function(e,t,n){(t=e.exports=n(419)).Stream=t,t.Readable=t,t.Writable=n(423),t.Duplex=n(192),t.Transform=n(424),t.PassThrough=n(528),t.finished=n(370),t.pipeline=n(529)},function(e,t){},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(84).Buffer,s=n(525).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,l;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,r=s,a.prototype.copy.call(t,n,r),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),l&&o(t,l),e}()},function(e,t){},function(e,t,n){"use strict";(function(t){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(370),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[h].read();null!==n&&(e[c]=null,e[a]=null,e[s]=null,t(d(n,!1)))}}function m(e){t.nextTick(p,e)}var y=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[l])return Promise.resolve(d(void 0,!0));if(this[h].destroyed)return new Promise((function(n,r){t.nextTick((function(){e[u]?r(e[u]):n(d(void 0,!0))}))}));var r,i=this[c];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(d(void 0,!0)):t[f](n,r)}),r)}}(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[f])}return this[c]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(d(void 0,!0))}))}))})),r),y);e.exports=function(e){var t,n=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var r=n[h].read();r?(n[c]=null,n[a]=null,n[s]=null,e(d(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[c]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[c]=null,n[a]=null,n[s]=null,t(e)),void(n[u]=e)}var r=n[a];null!==r&&(n[c]=null,n[a]=null,n[s]=null,r(d(void 0,!0))),n[l]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this,n(56))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,n){"use strict";e.exports=i;var r=n(424);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(116)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(191).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(370)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function l(e){e()}function c(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return u(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(l),o||(a.forEach(l),i(r))}))}));return t.reduce(c)}},function(module,exports,__webpack_require__){(function(Buffer){const numeric=__webpack_require__(416),utils=__webpack_require__(417),conditionalDatatypes=__webpack_require__(531),structuresDatatypes=__webpack_require__(532),utilsDatatypes=__webpack_require__(533),{tryCatch:tryCatch}=__webpack_require__(156);class ProtoDefCompiler{constructor(){this.readCompiler=new ReadCompiler,this.writeCompiler=new WriteCompiler,this.sizeOfCompiler=new SizeOfCompiler}addTypes(e){this.readCompiler.addTypes(e.Read),this.writeCompiler.addTypes(e.Write),this.sizeOfCompiler.addTypes(e.SizeOf)}addTypesToCompile(e){this.readCompiler.addTypesToCompile(e),this.writeCompiler.addTypesToCompile(e),this.sizeOfCompiler.addTypesToCompile(e)}addProtocol(e,t){this.readCompiler.addProtocol(e,t),this.writeCompiler.addProtocol(e,t),this.sizeOfCompiler.addProtocol(e,t)}compileProtoDefSync(e={printCode:!1}){const t=this.sizeOfCompiler.generate(),n=this.writeCompiler.generate(),r=this.readCompiler.generate();e.printCode&&(console.log("// SizeOf:"),console.log(t),console.log("// Write:"),console.log(n),console.log("// Read:"),console.log(r));const i=this.sizeOfCompiler.compile(t),o=this.writeCompiler.compile(n),a=this.readCompiler.compile(r);return new CompiledProtodef(i,o,a)}}class CompiledProtodef{constructor(e,t,n){this.sizeOfCtx=e,this.writeCtx=t,this.readCtx=n}read(e,t,n){const r=this.readCtx[n];if(!r)throw new Error("missing data type: "+n);return r(e,t)}write(e,t,n,r){const i=this.writeCtx[r];if(!i)throw new Error("missing data type: "+r);return i(e,t,n)}sizeOf(e,t){const n=this.sizeOfCtx[t];if(!n)throw new Error("missing data type: "+t);return"function"==typeof n?n(e):n}createPacketBuffer(e,t){const n=tryCatch(()=>this.sizeOf(t,e),e=>{throw e.message=`SizeOf error for ${e.field} : ${e.message}`,e}),r=Buffer.allocUnsafe(n);return tryCatch(()=>this.write(t,r,0,e),e=>{throw e.message=`Write error for ${e.field} : ${e.message}`,e}),r}parsePacketBuffer(e,t){const{value:n,size:r}=tryCatch(()=>this.read(t,0,e),e=>{throw e.message=`Read error for ${e.field} : ${e.message}`,e});return{data:n,metadata:{size:r},buffer:t.slice(0,r)}}}class Compiler{constructor(){this.primitiveTypes={},this.native={},this.context={},this.types={},this.scopeStack=[],this.parameterizableTypes={}}addNativeType(e,t){this.primitiveTypes[e]="native."+e,this.native[e]=t,this.types[e]="native"}addContextType(e,t){this.primitiveTypes[e]="ctx."+e,this.context[e]=t.toString()}addParametrizableType(e,t){this.parameterizableTypes[e]=t}addTypes(e){for(const[t,[n,r]]of Object.entries(e))"native"===n?this.addNativeType(t,r):"context"===n?this.addContextType(t,r):"parametrizable"===n&&this.addParametrizableType(t,r)}addTypesToCompile(e){for(const[t,n]of Object.entries(e))this.types[t]&&"native"!==this.types[t]||(this.types[t]=n)}addProtocol(e,t){const n=this;!function e(t,r){void 0!==t&&(t.types&&n.addTypesToCompile(t.types),e(t[r.shift()],r))}(e,t.slice(0))}indent(e,t="  "){return e.split("\n").map(e=>t+e).join("\n")}getField(e){let t=e.split("/"),n=this.scopeStack.length-1;const r={value:!0,enum:!0};for(;t.length;){let e=this.scopeStack[n],i=t.shift();if(".."===i){n--;continue}if(e[i])return e[i]+(t.length?"."+t.join("."):"");if(0!==t.length)throw new Error("Cannot access properties of undefined field");let o=0;r[i]&&o++;for(let e=0;e<n;e++)this.scopeStack[e][i]&&o++;return e[i]=i+(o||""),e[i]}throw new Error("Unknown field "+t)}generate(){this.scopeStack=[{}];let e=[];for(const t in this.context)e[t]=this.context[t];for(const t in this.types)e[t]||("native"!==this.types[t]?(e[t]=this.compileType(this.types[t]),e[t].startsWith("ctx")&&(e[t]="function () { return "+e[t]+"(...arguments) }"),isNaN(e[t])||(e[t]=this.wrapCode("  return "+e[t]))):e[t]="native."+t);return"() => {\n"+this.indent("const ctx = {\n"+this.indent(Object.keys(e).map(t=>t+": "+e[t]).join(",\n"))+"\n}\nreturn ctx")+"\n}"}compile(code){const native=this.native,{PartialReadError:PartialReadError}=__webpack_require__(156);return eval(code)()}}class ReadCompiler extends Compiler{constructor(){super(),this.addTypes(conditionalDatatypes.Read),this.addTypes(structuresDatatypes.Read),this.addTypes(utilsDatatypes.Read);for(const e in numeric)this.addNativeType(e,numeric[e][0]);for(const e in utils)this.addNativeType(e,utils[e][0])}compileType(e){if(e instanceof Array){if(this.parameterizableTypes[e[0]])return this.parameterizableTypes[e[0]](this,e[1]);if(this.types[e[0]]&&"native"!==this.types[e[0]])return this.wrapCode("return "+this.callType(e[0],"offset",Object.values(e[1])));throw new Error("Unknown parametrizable type: "+e[0])}return"native"===e?"null":this.types[e]?"ctx."+e:this.primitiveTypes[e]}wrapCode(e,t=[]){return t.length>0?"(buffer, offset, "+t.join(", ")+") => {\n"+this.indent(e)+"\n}":"(buffer, offset) => {\n"+this.indent(e)+"\n}"}callType(e,t="offset",n=[]){if(e instanceof Array&&this.types[e[0]]&&"native"!==this.types[e[0]])return this.callType(e[0],t,Object.values(e[1]));e instanceof Array&&"container"===e[0]&&this.scopeStack.push({});const r=this.compileType(e);return e instanceof Array&&"container"===e[0]&&this.scopeStack.pop(),n.length>0?"("+r+`)(buffer, ${t}, `+n.map(e=>this.getField(e)).join(", ")+")":"("+r+`)(buffer, ${t})`}}class WriteCompiler extends Compiler{constructor(){super(),this.addTypes(conditionalDatatypes.Write),this.addTypes(structuresDatatypes.Write),this.addTypes(utilsDatatypes.Write);for(const e in numeric)this.addNativeType(e,numeric[e][1]);for(const e in utils)this.addNativeType(e,utils[e][1])}compileType(e){if(e instanceof Array){if(this.parameterizableTypes[e[0]])return this.parameterizableTypes[e[0]](this,e[1]);if(this.types[e[0]]&&"native"!==this.types[e[0]])return this.wrapCode("return "+this.callType("value",e[0],"offset",Object.values(e[1])));throw new Error("Unknown parametrizable type: "+e[0])}return"native"===e?"null":this.types[e]?"ctx."+e:this.primitiveTypes[e]}wrapCode(e,t=[]){return t.length>0?"(value, buffer, offset, "+t.join(", ")+") => {\n"+this.indent(e)+"\n}":"(value, buffer, offset) => {\n"+this.indent(e)+"\n}"}callType(e,t,n="offset",r=[]){if(t instanceof Array&&this.types[t[0]]&&"native"!==this.types[t[0]])return this.callType(e,t[0],n,Object.values(t[1]));t instanceof Array&&"container"===t[0]&&this.scopeStack.push({});const i=this.compileType(t);return t instanceof Array&&"container"===t[0]&&this.scopeStack.pop(),r.length>0?"("+i+`)(${e}, buffer, ${n}, `+r.map(e=>this.getField(e)).join(", ")+")":"("+i+`)(${e}, buffer, ${n})`}}class SizeOfCompiler extends Compiler{constructor(){super(),this.addTypes(conditionalDatatypes.SizeOf),this.addTypes(structuresDatatypes.SizeOf),this.addTypes(utilsDatatypes.SizeOf);for(const e in numeric)this.addNativeType(e,numeric[e][2]);for(const e in utils)this.addNativeType(e,utils[e][2])}addNativeType(e,t){this.primitiveTypes[e]="native."+e,isNaN(t)?this.native[e]=t:this.native[e]=e=>t,this.types[e]="native"}compileType(e){if(e instanceof Array){if(this.parameterizableTypes[e[0]])return this.parameterizableTypes[e[0]](this,e[1]);if(this.types[e[0]]&&"native"!==this.types[e[0]])return this.wrapCode("return "+this.callType("value",e[0],Object.values(e[1])));throw new Error("Unknown parametrizable type: "+e[0])}return"native"===e?"null":isNaN(this.primitiveTypes[e])&&this.types[e]?"ctx."+e:this.primitiveTypes[e]}wrapCode(e,t=[]){return t.length>0?"(value, "+t.join(", ")+") => {\n"+this.indent(e)+"\n}":"(value) => {\n"+this.indent(e)+"\n}"}callType(e,t,n=[]){if(t instanceof Array&&this.types[t[0]]&&"native"!==this.types[t[0]])return this.callType(e,t[0],Object.values(t[1]));t instanceof Array&&"container"===t[0]&&this.scopeStack.push({});const r=this.compileType(t);return t instanceof Array&&"container"===t[0]&&this.scopeStack.pop(),isNaN(r)?n.length>0?"("+r+`)(${e}, `+n.map(e=>this.getField(e)).join(", ")+")":"("+r+`)(${e})`:r}}module.exports={ReadCompiler:ReadCompiler,WriteCompiler:WriteCompiler,SizeOfCompiler:SizeOfCompiler,ProtoDefCompiler:ProtoDefCompiler}}).call(this,__webpack_require__(84).Buffer)},function(e,t){e.exports={Read:{switch:["parametrizable",(e,t)=>{let n=t.compareTo?t.compareTo:t.compareToValue,r=[];n.startsWith("$")?r.push(n):t.compareTo&&(n=e.getField(n));let i=`switch (${n}) {\n`;for(const n in t.fields){let r=n;isNaN(r)&&"true"!==r&&"false"!==r&&(r=`"${r}"`),i+=e.indent(`case ${r}: return `+e.callType(t.fields[n]))+"\n"}return i+=e.indent("default: return "+e.callType(t.default?t.default:"void"))+"\n",i+="}",e.wrapCode(i,r)}],option:["parametrizable",(e,t)=>{let n="const {value} = ctx.bool(buffer, offset)\n";return n+="if (value) {\n",n+="  const { value, size } = "+e.callType(t,"offset + 1")+"\n",n+="  return { value, size: size + 1 }\n",n+="}\n",n+="return { value: undefined, size: 1}",e.wrapCode(n)}]},Write:{switch:["parametrizable",(e,t)=>{let n=t.compareTo?t.compareTo:t.compareToValue,r=[];n.startsWith("$")?r.push(n):t.compareTo&&(n=e.getField(n));let i=`switch (${n}) {\n`;for(const n in t.fields){let r=n;isNaN(r)&&"true"!==r&&"false"!==r&&(r=`"${r}"`),i+=e.indent(`case ${r}: return `+e.callType("value",t.fields[n]))+"\n"}return i+=e.indent("default: return "+e.callType("value",t.default?t.default:"void"))+"\n",i+="}",e.wrapCode(i,r)}],option:["parametrizable",(e,t)=>{let n="if (value != null) {\n";return n+="  offset = ctx.bool(1, buffer, offset)\n",n+="  offset = "+e.callType("value",t)+"\n",n+="} else {\n",n+="  offset = ctx.bool(0, buffer, offset)\n",n+="}\n",n+="return offset",e.wrapCode(n)}]},SizeOf:{switch:["parametrizable",(e,t)=>{let n=t.compareTo?t.compareTo:t.compareToValue,r=[];n.startsWith("$")?r.push(n):t.compareTo&&(n=e.getField(n));let i=`switch (${n}) {\n`;for(const n in t.fields){let r=n;isNaN(r)&&"true"!==r&&"false"!==r&&(r=`"${r}"`),i+=e.indent(`case ${r}: return `+e.callType("value",t.fields[n]))+"\n"}return i+=e.indent("default: return "+e.callType("value",t.default?t.default:"void"))+"\n",i+="}",e.wrapCode(i,r)}],option:["parametrizable",(e,t)=>{let n="if (value != null) {\n";return n+="  return 1 + "+e.callType("value",t)+"\n",n+="}\n",n+="return 1",e.wrapCode(n)}]}}},function(e,t){function n(e){const t=[];for(const n in e){const{type:r,anon:i}=e[n];if(!i||r instanceof Array&&"bitfield"===r[0])t.push(e[n]);else if(r instanceof Array&&"container"===r[0])for(const e in r[1])t.push(r[1][e]);else{if(!(r instanceof Array&&"switch"===r[0]))throw new Error("Cannot inline anonymous type: "+r);{const e=r[1],n=new Set;for(const t in e.fields)if(e.fields[t]instanceof Array&&"container"===e.fields[t][0])for(const r in e.fields[t][1]){const i=e.fields[t][1][r];n.add(i.name)}if(e.default instanceof Array&&"container"===e.default[0])for(const t in e.default[1]){const r=e.default[1][t];n.add(r.name)}for(const r of n.keys()){const n={};let i=e.default;if(i instanceof Array&&"container"===i[0])for(const e in i[1]){const t=i[1][e];if(t.name===r){i=t.type;break}}for(const t in e.fields)if(e.fields[t]instanceof Array&&"container"===e.fields[t][0])for(const i in e.fields[t][1]){if(e.fields[t][1][i].name===r){n[t]=e.fields[t][1][i].type;break}}else n[t]=e.fields[t];i||(i="void"),t.push({name:r,type:["switch",{compareTo:e.compareTo,compareToValue:e.compareToValue,default:i,fields:n}]})}}}}return t}e.exports={Read:{array:["parametrizable",(e,t)=>{let n="";if(t.countType)n+="const { value: count, size: countSize } = "+e.callType(t.countType)+"\n";else{if(!t.count)throw new Error("Array must contain either count or countType");n+="const count = "+t.count+"\n",n+="const countSize = 0\n"}return n+="const data = []\n",n+="let size = countSize\n",n+="for (let i = 0; i < count; i++) {\n",n+="  const elem = "+e.callType(t.type,"offset + size")+"\n",n+="  data.push(elem.value)\n",n+="  size += elem.size\n",n+="}\n",n+="return { value: data, size }",e.wrapCode(n)}],count:["parametrizable",(e,t)=>{let n="return "+e.callType(t.type);return e.wrapCode(n)}],container:["parametrizable",(e,t)=>{t=n(t);let r="",i="offset",o=[];for(const n in t){const{type:a,name:s,anon:u}=t[n];let l,c;if(a instanceof Array&&"bitfield"===a[0]&&u){const t=[];for(const{name:n}of a[1]){const r=e.getField(n);t.push(r),n===r?o.push(n):o.push(`${n}: ${r}`)}l="{"+t.join(", ")+"}",c=`anon${n}Size`}else l=e.getField(s),c=l+"Size",s===l?o.push(s):o.push(`${s}: ${l}`);r+=`const { value: ${l}, size: ${c} } = `+e.callType(a,i)+"\n",i+=" + "+c}const a=i.split(" + ");return a.shift(),0===a.length&&a.push("0"),r+="return { value: { "+o.join(", ")+" }, size: "+a.join(" + ")+"}",e.wrapCode(r)}]},Write:{array:["parametrizable",(e,t)=>{let n="";if(t.countType)n+="offset = "+e.callType("value.length",t.countType)+"\n";else if(null===t.count)throw new Error("Array must contain either count or countType");return n+="for (let i = 0; i < value.length; i++) {\n",n+="  offset = "+e.callType("value[i]",t.type)+"\n",n+="}\n",n+="return offset",e.wrapCode(n)}],count:["parametrizable",(e,t)=>{let n="return "+e.callType("value",t.type);return e.wrapCode(n)}],container:["parametrizable",(e,t)=>{t=n(t);let r="";for(const n in t){const{type:i,name:o,anon:a}=t[n];let s;if(i instanceof Array&&"bitfield"===i[0]&&a){const t=[];for(const{name:n}of i[1]){const i=e.getField(n);r+=`const ${i} = value.${n}\n`,n===i?t.push(n):t.push(`${n}: ${i}`)}s="{"+t.join(", ")+"}"}else s=e.getField(o),r+=`const ${s} = value.${o}\n`;r+="offset = "+e.callType(s,i)+"\n"}return r+="return offset",e.wrapCode(r)}]},SizeOf:{array:["parametrizable",(e,t)=>{let n="";if(t.countType)n+="let size = "+e.callType("value.length",t.countType)+"\n";else{if(!t.count)throw new Error("Array must contain either count or countType");n+="let size = 0\n"}return isNaN(e.callType("value[i]",t.type))?(n+="for (let i = 0; i < value.length; i++) {\n",n+="  size += "+e.callType("value[i]",t.type)+"\n",n+="}\n"):n+="size += value.length * "+e.callType("value[i]",t.type)+"\n",n+="return size",e.wrapCode(n)}],count:["parametrizable",(e,t)=>{let n="return "+e.callType("value",t.type);return e.wrapCode(n)}],container:["parametrizable",(e,t)=>{t=n(t);let r="let size = 0\n";for(const n in t){const{type:i,name:o,anon:a}=t[n];let s;if(i instanceof Array&&"bitfield"===i[0]&&a){const t=[];for(const{name:n}of i[1]){const i=e.getField(n);r+=`const ${i} = value.${n}\n`,n===i?t.push(n):t.push(`${n}: ${i}`)}s="{"+t.join(", ")+"}"}else s=e.getField(o),r+=`const ${s} = value.${o}\n`;r+="size += "+e.callType(s,i)+"\n"}return r+="return size",e.wrapCode(r)}]}}},function(e,t){function n(e){const t={};for(let n in e){let i=e[n];n=r(n),t[i]=isNaN(n)?n:parseInt(n,10)}return t}function r(e){return e.match(/^0x[0-9a-f]+$/i)?parseInt(e.substring(2),16):e}e.exports={Read:{pstring:["parametrizable",(e,t)=>{let n="";if(t.countType)n+="const { value: count, size: countSize } = "+e.callType(t.countType)+"\n";else{if(!t.count)throw new Error("pstring must contain either count or countType");n+="const count = "+t.count+"\n",n+="const countSize = 0\n"}return n+="offset += countSize\n",n+="if (offset + count > buffer.length) {\n",n+='  throw new PartialReadError("Missing characters in string, found size is " + buffer.length + " expected size was " + (offset + count))\n',n+="}\n",n+="return { value: buffer.toString('utf8', offset, offset + count), size: count + countSize }",e.wrapCode(n)}],buffer:["parametrizable",(e,t)=>{let n="";if(t.countType)n+="const { value: count, size: countSize } = "+e.callType(t.countType)+"\n";else{if(!t.count)throw new Error("buffer must contain either count or countType");n+="const count = "+t.count+"\n",n+="const countSize = 0\n"}return n+="offset += countSize\n",n+="if (offset + count > buffer.length) {\n",n+="  throw new PartialReadError()\n",n+="}\n",n+="return { value: buffer.slice(offset, offset + count), size: count + countSize }",e.wrapCode(n)}],bitfield:["parametrizable",(e,t)=>{let n="";const r=Math.ceil(t.reduce((e,{size:t})=>e+t,0)/8);n+=`if ( offset + ${r} > buffer.length) { throw new PartialReadError() }\n`;let i=[],o=8;n+="let bits = buffer[offset++]\n";for(const r in t){const{name:a,size:s,signed:u}=t[r],l=e.getField(a);for(;o<s;)o+=8,n+="bits = (bits << 8) | buffer[offset++]\n";n+=`let ${l} = (bits >> `+(o-s)+") & 0x"+((1<<s)-1).toString(16)+"\n",u&&(n+=`${l} -= (${l} & 0x`+(1<<s-1).toString(16)+") << 1\n"),o-=s,a===l?i.push(a):i.push(`${a}: ${l}`)}return n+="return { value: { "+i.join(", ")+` }, size: ${r} }`,e.wrapCode(n)}],mapper:["parametrizable",(e,t)=>{let n="const { value, size } = "+e.callType(t.type)+"\n";return n+="return { value: "+JSON.stringify(function(e){const t={};for(let n in e){let i=e[n];n=r(n),t[n]=i}return t}(t.mappings))+"[value], size }",e.wrapCode(n)}]},Write:{pstring:["parametrizable",(e,t)=>{let n="const length = Buffer.byteLength(value, 'utf8')\n";if(t.countType)n+="offset = "+e.callType("length",t.countType)+"\n";else if(null===t.count)throw new Error("pstring must contain either count or countType");return n+="buffer.write(value, offset, length, 'utf8')\n",n+="return offset + length",e.wrapCode(n)}],buffer:["parametrizable",(e,t)=>{let n="";if(t.countType)n+="offset = "+e.callType("value.length",t.countType)+"\n";else if(null===t.count)throw new Error("buffer must contain either count or countType");return n+="value.copy(buffer, offset)\n",n+="return offset + value.length",e.wrapCode(n)}],bitfield:["parametrizable",(e,t)=>{let n="",r=0,i="";for(const o in t){let{name:a,size:s}=t[o];const u=e.getField(a);for(i+=`let ${u} = value.${a}\n`;s>0;){const e=Math.min(8-r,s);""!==n&&(n=`((${n}) << ${e}) | `),n+=`((${u} >> `+(s-e)+") & 0x"+((1<<e)-1).toString(16)+")",s-=e,r+=e,8===r&&(i+="buffer[offset++] = "+n+"\n",r=0,n="")}}return 0!==r&&(i+="buffer[offset++] = ("+n+") << "+(8-r)+"\n"),i+="return offset",e.wrapCode(i)}],mapper:["parametrizable",(e,t)=>{const r=JSON.stringify(n(t.mappings)),i="return "+e.callType(r+"[value]",t.type);return e.wrapCode(i)}]},SizeOf:{pstring:["parametrizable",(e,t)=>{let n="let size = Buffer.byteLength(value, 'utf8')\n";if(t.countType)n+="size += "+e.callType("size",t.countType)+"\n";else if(null===t.count)throw new Error("pstring must contain either count or countType");return n+="return size",e.wrapCode(n)}],buffer:["parametrizable",(e,t)=>{let n="let size = value.length\n";if(t.countType)n+="size += "+e.callType("size",t.countType)+"\n";else if(null===t.count)throw new Error("buffer must contain either count or countType");return n+="return size",e.wrapCode(n)}],bitfield:["parametrizable",(e,t)=>""+Math.ceil(t.reduce((e,{size:t})=>e+t,0)/8)],mapper:["parametrizable",(e,t)=>{const r=JSON.stringify(n(t.mappings)),i="return "+e.callType(r+"[value]",t.type);return e.wrapCode(i)}]}}},function(e,t,n){const r=n(535);let i=null;function o(e){const t=r(e);return["jpg","jpeg"].includes(t)?"image/jpeg":"image/png"}e.exports=function(e,t={}){const n=new Date,{filename:r=`Screen Shot ${n.toISOString().slice(0,10)} at ${n.toTimeString().slice(0,8).replace(/:/g,".")}.png`,quality:a=1,useBlob:s,download:u=!0}={...t};if(u&&(i=i||document.createElement("a"),i.download=r),s)return new Promise(t=>{e.toBlob(e=>{if(u){const t=URL.createObjectURL(e);i.href=t;const n=new MouseEvent("click");i.dispatchEvent(n),setTimeout(()=>{URL.revokeObjectURL(t)},1)}t(e)},o(r),a)});const l=e.toDataURL(o(r)+";base64",a);if(u){i.href=l;const e=new MouseEvent("click");i.dispatchEvent(e)}return l}},function(e,t,n){"use strict";
/*! file-extension v4.0.5 | (c) silverwind | BSD license */e.exports=function(e,t){if(t||(t={}),!e)return"";var n=(/[^./\\]*$/.exec(e)||[""])[0];return t.preserveCase?n:n.toLowerCase()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(86),i=n(61).EventEmitter,o=n(450).MicroGameShell;function a(e,t){t=t||{},this._noa=e,this.element=t.domElement||function(){var e=document.createElement("div");return e.tabindex=1,e.style.position="fixed",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.bottom="0px",e.style.height="100%",e.style.overflow="hidden",document.body.appendChild(e),document.body.style.overflow="hidden",document.body.style.height="100%",e.id="noa-container",e}(),this.canvas=function(e){var t=e.querySelector("canvas");t||((t=document.createElement("canvas")).style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.height="100%",t.style.width="100%",t.id="noa-canvas",e.insertBefore(t,e.firstChild));return t}(this.element);this._shell=new o(this.element,10),this._shell.tickRate=t.tickRate,this._shell.maxRenderRate=t.maxRenderRate,this._shell.stickyPointerLock=t.stickyPointerLock,this._shell.stickyFullscreen=t.stickyFullscreen,this.supportsPointerLock=!1,this.pointerInGame=!1,this.isFocused=document.hasFocus(),this.hasPointerLock=!1,this._shell.onTick=t=>{e.tick(t)},this._shell.onRender=(t,n)=>{e.render(n,t)},this._shell.onPointerLockChanged=e=>{this.hasPointerLock=e,this.emit(e?"gainedPointerLock":"lostPointerLock"),e&&(this.pointerInGame=!0)},this._shell.onResize=()=>{e.rendering.resize()},this._shell.onInit=()=>{!function(e){if("pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document){e.supportsPointerLock=!0;var t=function(n){e.supportsPointerLock=!1,document.removeEventListener(n.type,t)};document.addEventListener("touchmove",t)}}(this),this.element.addEventListener("mouseenter",()=>{this.pointerInGame=!0}),this.element.addEventListener("mouseleave",()=>{this.pointerInGame=!1}),window.addEventListener("focus",()=>{this.isFocused=!0}),window.addEventListener("blur",()=>{this.isFocused=!1}),this.emit("DOMready")}}function s(e,t){var n=e.indexOf(t);n<0||(n===e.length-1?e.pop():e[n]=e.pop())}function u(e,t,n){var r=n||performance.now();if(!t()){var i=performance.now(),o=r+e-(i-n)/2;if(!(i>o))for(var a=0;a<1e3;a++)if(t()||performance.now()>o)return}}a.prototype=Object.create(i.prototype),a.prototype.appendTo=function(e){this.element.appendChild(e)},a.prototype.setPointerLock=function(e){this._shell.pointerLock=!!e};var l=0,c=0;function f(e,t,n,r,i){e?function(e,t,n,r,i,o,a,s,u,l,c){for(var f=e.stride[2],h=t.stride[2],d=0;d<o;d++)for(var p=0;p<a;p++)for(var m=e.index(n+d,r+p,i),y=t.index(u+d,l+p,c),v=0;v<s;v++)t.data[y]=e.data[m],m+=f,y+=h}(e,t,n[0],n[1],n[2],r[0],r[1],r[2],i[0],i[1],i[2]):function(e,t,n,r,i,o,a){for(var s=e.stride[2],u=0;u<i;u++)for(var l=0;l<o;l++)for(var c=e.index(t+u,n+l,r),f=0;f<a;f++)e.data[c]=0,c+=s}(t,i[0],i[1],i[2],r[0],r[1],r[2])}var h=function(e,t,n){var r=1023&e;return r+=(1023&t)<<10,r+=(1023&n)<<20};function d(){var e=new Map;this.getChunkByIndexes=(t,n,r)=>{var i=h(t,n,r);return e.get(i)||null},this.storeChunkByIndexes=(t,n,r,i)=>{var o=h(t,n,r);i?e.set(o,i):e.delete(o)}}function p(){this.arr=[],this.set=new Set}function m(e,t,n){if(!(e>0))return()=>{};t=t||"";var r=[],i=[],o=0,a=0,s=0,u=0,l=!0;return function(c){"start"===c?(l&&(r.length=i.length=0,l=!1),o=a=performance.now(),s++):"end"===c?function(){if(u+=performance.now()-o,s===e){var a=t+" total "+(u/e).toFixed(2)+"ms (avg, "+e+" runs)    ";console.log(a,i.map((function(t,i){return n&&r[i]/u<.05?"":t+": "+(r[i]/e).toFixed(2)+"ms    "})).join("")),l=!0,s=0,u=0}}():function(e){var t=performance.now();i.indexOf(e)<0&&i.push(e);var n=i.indexOf(e);r[n]||(r[n]=0),r[n]+=t-a,a=t}(c)}}p.prototype.forEach=function(e,t){this.arr.forEach(e,t)},p.prototype.includes=function(e,t,n){var r=h(e,t,n);return this.set.has(r)},p.prototype.add=function(e,t,n){var r=h(e,t,n);this.set.has(r)||(this.arr.push([e,t,n]),this.set.add(r))},p.prototype.removeByIndex=function(e){var t=this.arr[e],n=h(t[0],t[1],t[2]);this.set.delete(n),this.arr.splice(e,1)},p.prototype.remove=function(e,t,n){var r=h(e,t,n);if(this.set.has(r)){this.set.delete(r);for(var i=0;i<this.arr.length;i++){var o=this.arr[i];if(o[0]===e&&o[1]===t&&o[2]===n)return void this.arr.splice(i,1)}throw"internal bug with location queue - hash value overlapped"}},p.prototype.count=function(){return this.arr.length},p.prototype.isEmpty=function(){return 0===this.arr.length},p.prototype.empty=function(){this.arr.length=0,this.set.clear()},p.prototype.pop=function(){var e=this.arr.pop(),t=h(e[0],e[1],e[2]);return this.set.delete(t),e},p.prototype.copyFrom=function(e){this.arr=e.arr.slice(),this.set.clear(),e.set.forEach((e,t)=>this.set.add(t,!0))},p.prototype.sortByDistance=function(e){var t=new Map;this.arr.forEach((n,r)=>{t.set(n,e(n))}),this.arr.sort((e,n)=>t.get(n)-t.get(e))};var y=n(20),v=n(71),g=n(147),b=n(199),w=n(13),_=n(103),x=n(31),k=n(7),O=n(0),P=n(8),S=n(309),E=(n(101),n(49),n(77)),j={showFPS:!1,antiAlias:!0,clearColor:[.8,.9,1],ambientColor:[1,1,1],lightDiffuse:[1,1,1],lightSpecular:[1,1,1],groundLightColor:[.5,.5,.5],useAO:!0,AOmultipliers:[.93,.8,.5],reverseAOmultiplier:1,preserveDrawingBuffer:!0};function C(e,t,n){this.noa=e,t=Object.assign({},j,t),this.useAO=!!t.useAO,this.aoVals=t.AOmultipliers,this.revAoVal=t.reverseAOmultiplier,this.meshingCutoffTime=6,function(e,t,n){e._engine=new w.a(t,n.antiAlias,{preserveDrawingBuffer:n.preserveDrawingBuffer}),e._scene=new y.a(e._engine);var r=e._scene;r.detachControl(),r._addComponent(new S.c(r)),e._octree=new g.a(e=>{}),e._octree.blocks=[],r._selectionOctree=e._octree,e._cameraHolder=new P.a("camHolder",r),e._camera=new v.a("camera",new O.e(0,0,0),r),e._camera.parent=e._cameraHolder,e._camera.minZ=.01,e._cameraHolder.visibility=!1,e._camScreen=P.a.CreatePlane("camScreen",10,r),e.addMeshToScene(e._camScreen),e._camScreen.position.z=.1,e._camScreen.parent=e._camera,e._camScreenMat=e.makeStandardMaterial("camscreenmat"),e._camScreen.material=e._camScreenMat,e._camScreen.setEnabled(!1),e._camLocBlock=0;var i=new O.e(.1,1,.3);function o(e){return new k.a(e[0],e[1],e[2])}e._light=new _.a("light",i,r),r.clearColor=o(n.clearColor),r.ambientColor=o(n.ambientColor),e._light.diffuse=o(n.lightDiffuse),e._light.specular=o(n.lightSpecular),e._light.groundColor=o(n.groundLightColor),e.flatMaterial=e.makeStandardMaterial("flatmat")}(this,n,t),t.showFPS&&function(){var e=document.createElement("div");e.id="noa_fps";"color:white; background-color:rgba(0,0,0,0.5);","font:14px monospace; text-align:center;","min-width:2em; margin:4px;",e.style="position:absolute; top:0; right:0; z-index:0;color:white; background-color:rgba(0,0,0,0.5);font:14px monospace; text-align:center;min-width:2em; margin:4px;",document.body.appendChild(e);var t=0,n=0,r=performance.now(),i=r;I=function(){t++;var o=performance.now();if(o-i>n&&(n=o-i),i=o,!(o-r<1e3)){var a=Math.round(t/(o-r)*1e3),s=Math.round(1/n*1e3);e.innerHTML=a+"<br>"+s,t=0,n=0,r=o}}}()}C.prototype.getScene=function(){return this._scene},C.prototype.tick=function(e){},C.prototype.render=function(){T("start"),function(e){var t=e.noa.camera,n=t._localGetTargetPosition();e._cameraHolder.position.copyFromFloats(n[0],n[1],n[2]),e._cameraHolder.rotation.x=t.pitch,e._cameraHolder.rotation.y=t.heading,e._camera.position.z=-t.currentZoom;var r=t._localGetPosition(),i=e.noa.worldOriginOffset,o=Math.floor(r[0]+i[0]),a=Math.floor(r[1]+i[1]),s=Math.floor(r[2]+i[2]),u=e.noa.getBlock(o,a,s);!function(e,t){if(t===e._camLocBlock)return;if(0===t)e._camScreen.setEnabled(!1);else{var n=e.noa.registry.getBlockFaceMaterial(t,0);if(n){var r=e.noa.registry.getMaterialData(n),i=r.color,o=r.alpha;i&&o&&o<1&&(e._camScreenMat.diffuseColor.set(0,0,0),e._camScreenMat.ambientColor.set(i[0],i[1],i[2]),e._camScreenMat.alpha=o,e._camScreen.setEnabled(!0))}}e._camLocBlock=t}(e,u)}(this),T("updateCamera"),this._engine.beginFrame(),T("beginFrame"),this._scene.render(),T("render"),I(),this._engine.endFrame(),T("endFrame"),T("end")},C.prototype.resize=function(e){this._engine.resize(),this.noa._paused&&this._scene.render()},C.prototype.highlightBlockFace=function(e,t,n){var r=function(e){var t=e._highlightMesh;if(!t){t=P.a.CreatePlane("highlight",1,e._scene);var n=e.makeStandardMaterial("highlightMat");n.backFaceCulling=!1,n.emissiveColor=new k.a(1,1,1),n.alpha=.2,t.material=n;var r=.5,i=P.a.CreateLines("hightlightLines",[new O.e(r,r,0),new O.e(r,-r,0),new O.e(-r,-r,0),new O.e(-r,r,0),new O.e(r,r,0)],e._scene);i.color=new k.a(1,1,1),i.parent=t,e.addMeshToScene(t),e.addMeshToScene(i),e._highlightMesh=t}return t}(this);if(e){this.noa.globalToLocal(t,null,A);for(var i=.001+.001*E.dist(this.noa.camera._localGetPosition(),A),o=0;o<3;o++)0===n[o]?A[o]+=.5:A[o]+=n[o]>0?1+i:-i;r.position.copyFromFloats(A[0],A[1],A[2]),r.rotation.x=n[1]?Math.PI/2:0,r.rotation.y=n[0]?Math.PI/2:0}r.setEnabled(e)};var A=[];C.prototype.addMeshToScene=function(e,t,n,r){if(!e._noaContainingChunk&&!this._octree.dynamicContent.includes(e)){if(!e.parent){n||(n=[e.position.x,e.position.y,e.position.z]);var i=[];this.noa.globalToLocal(n,null,i),e.position.copyFromFloats(i[0],i[1],i[2])}var o=!1;if(t){var a=r||this.noa.world._getChunkByCoords(n[0],n[1],n[2]);o=!(!a||!a.octreeBlock)}o?(a.octreeBlock.entries.push(e),e._noaContainingChunk=a):this._octree.dynamicContent.push(e),t&&(e.freezeWorldMatrix(),e.freezeNormals());var s=this.removeMeshFromScene.bind(this,e);e.onDisposeObservable.add(s)}},C.prototype.removeMeshFromScene=function(e){e._noaContainingChunk&&e._noaContainingChunk.octreeBlock&&s(e._noaContainingChunk.octreeBlock.entries,e),e._noaContainingChunk=null,s(this._octree.dynamicContent,e)},C.prototype.makeStandardMaterial=function(e){var t=new x.a(e,this._scene);return t.specularColor.copyFromFloats(0,0,0),t.ambientColor.copyFromFloats(1,1,1),t.diffuseColor.copyFromFloats(1,1,1),t},C.prototype.prepareChunkForRendering=function(e){var t=e.size,n=[];this.noa.globalToLocal([e.x,e.y,e.z],null,n);var r=new O.e(n[0],n[1],n[2]),i=new O.e(n[0]+t,n[1]+t,n[2]+t);e.octreeBlock=new b.a(r,i,void 0,void 0,void 0,e=>{}),this._octree.blocks.push(e.octreeBlock)},C.prototype.disposeChunkForRendering=function(e){e.octreeBlock&&(s(this._octree.blocks,e.octreeBlock),e.octreeBlock.entries.length=0,e.octreeBlock=null)},C.prototype._rebaseOrigin=function(e){var t=new O.e(e[0],e[1],e[2]);this._scene.meshes.forEach(e=>{e.parent||(e.position.subtractInPlace(t),e._isWorldMatrixFrozen&&e.markAsDirty())}),this._octree.blocks.forEach(e=>{e.minPoint.subtractInPlace(t),e.maxPoint.subtractInPlace(t),e._boundingVectors.forEach(e=>{e.subtractInPlace(t)})})},C.prototype.debug_SceneCheck=function(){var e=this._scene.meshes,t=this._octree.dynamicContent,n=[],r=0,i=0,o=this._scene.materials,a=[];o.forEach(e=>{e.subMaterials?e.subMaterials.forEach(e=>a.push(e)):a.push(e)}),this._octree.blocks.forEach((function(e){r++,e.entries.forEach(e=>n.push(e))})),e.forEach((function(e){if(e._isDisposed&&l(e,"disposed mesh in scene"),0!==e.getIndices().length)if(c(e,t,n)&&l(e,"non-empty mesh missing from octree"),e.material){i+=e.subMeshes?e.subMeshes.length:1;var r=e.material.subMaterials||[e.material];r.forEach((function(e){c(e,r)&&l(e,"mesh material not in scene")}))}else l(e,"non-empty scene mesh with no material")}));var s=[];a.forEach(t=>{var n=!1;e.forEach(e=>{e.material===t&&(n=!0),e.material&&e.material.subMaterials&&e.material.subMaterials.includes(t)&&(n=!0)}),n||s.push(t.name)}),s.length&&console.warn("Materials unused by any mesh: ",s.join(", ")),t.forEach((function(t){c(t,e)&&l(t,"octree/dynamic mesh not in scene")})),n.forEach((function(t){c(t,e)&&l(t,"octree block mesh not in scene")}));var u=Math.round(10*n.length/r)/10;function l(e,t){console.warn(e.name+" --- "+t)}function c(e,t,n){return!!e&&(!t.includes(e)&&(!n||!n.includes(e)))}return console.log("meshes - octree:",n.length,"  dynamic:",t.length,"   subMeshes:",i,"   avg meshes/octreeBlock:",u),"done."},C.prototype.debug_MeshCount=function(){var e={};for(var t in this._scene.meshes.forEach(t=>{var n=t.name||"";n=(n=(n=(n=n.replace(/-\d+.*/,"#")).replace(/\d+.*/,"#")).replace(/(rotHolder|camHolder|camScreen)/,"rendering use")).replace(/atlas sprite .*/,"atlas sprites"),e[n]=e[n]||0,e[n]++}),e)console.log("   "+(e[t]+"       ").substr(0,7)+t)};var T=()=>{},I=function(){};var z=n(96),D=n.n(z),R=n(80),M=n(16),B=n(89),L=n(11),F=function(e){var t=new W(e),n=new q(e);this.meshChunk=function(r,i,o,a,s,u,l){H("start");var c=i||e.registry.getBlockFaceMaterial,h=o||e.registry._getMaterialVertexColor,d=void 0===s?e.rendering.useAO:s,p=u||e.rendering.aoVals,m=isNaN(l)?e.rendering.revAoVal:l,y=function(e){var t=e.voxels.shape[0],n=U;if(t+2!==n.shape[0]){var r=t+2;n=new D.a(new Uint16Array(r*r*r),[r,r,r]),U=n}var i=$[0],o=$[1],a=$[2],s=$[3],u=$[4],l=$[5],c=$[6];t!==N&&(N=t,function(e,t,n,r){for(var i=0;i<3;i++)t[i]=[e-1,0,0][i],n[i]=[1,e,1][i],r[i]=[0,1,e+1][i]}(t,u,l,c));for(var h=0;h<3;h++){i[0]=h;for(var d=0;d<3;d++){i[1]=d;for(var p=0;p<3;p++){i[2]=p;for(var m=0;m<3;m++){var y=i[m];o[m]=u[y],a[m]=l[y],s[m]=c[y]}var v=e._neighbors.get(h-1,d-1,p-1);f(v?v.voxels:null,n,o,a,s)}}}return n}(r);H("copy");var v,g=r.isFull||r.isEmpty,b=t.mesh(y,c,h,d,p,m,g);return b.length&&(v=n.build(r,b,a),H("terrain")),H("end"),v||null}};var N,U=new D.a(new Uint16Array(27),[3,3,3]),$=Array.from(Array(10)).map(e=>[0,0,0]);function V(e){this.id=0|e,this.positions=[],this.indices=[],this.normals=[],this.colors=[],this.uvs=[],this.mergeable=!1}function q(e){function t(e,t){for(var r=[],i=[],o=[],a=null,s=0;s<e.length;++s){var u=e[s];if(t||u.mergeable)if(r.push(u.positions.length),i.push(u.indices.length),o.push(u.id),a){var l=a.positions.length/3;n(a.positions,u.positions),n(a.normals,u.normals),n(a.colors,u.colors),n(a.uvs,u.uvs);for(var c=0,f=u.indices.length;c<f;++c)a.indices.push(u.indices[c]+l);e.splice(s,1),u.dispose(),s--}else a=u}return{vertices:r,indices:i,matIDs:o}}function n(e,t){for(var n=0;n<t.length;n++)e.push(t[n])}this.build=function(n,i,o){for(var a=0,s=0;s<i.length;s++){var u=i[s];if(o)u.mergeable=!0;else{var l=e.registry.getMaterialTexture(u.id),c=e.registry.getMaterialData(u.id);u.mergeable=!l&&1===c.alpha&&!c.renderMat}u.mergeable&&a++}a>1&&t(i,!1);var f=t(i,!0);return function(t,n,r,i,o){var a=e.rendering.getScene(),s=new P.a(n,a),u=new M.a;if(u.positions=t.positions,u.indices=t.indices,u.normals=t.normals,u.colors=t.colors,u.uvs=t.uvs,u.applyToMesh(s),t.dispose(),1===r.length)s.material=r[0];else{var l=new B.a("multimat "+n,a);s.subMeshes=[];for(var c=0,f=0,h=0;h<r.length;h++){l.subMaterials[h]=r[h];var d=new R.a(h,c,i[h],f,o[h],s);s.subMeshes[h]=d,c+=i[h],f+=o[h]}s.material=l}return s}(i[0],"chunk_"+n.requestID,f.matIDs.map(t=>function(t,n){if(n)return e.rendering.flatMaterial;var i="terrain mat "+t;r[i]||(r[i]=function(t){var n=e.registry.getMaterialData(t);if(n.renderMat)return n.renderMat;var r=e.registry.getMaterialTexture(t),i=n.alpha;if(!r&&1===i)return e.rendering.flatMaterial;var o=e.rendering.flatMaterial.clone("terrain"+t);if(r){var a=e.rendering.getScene(),s=new L.a(r,a,!0,!1,L.a.NEAREST_SAMPLINGMODE);n.textureAlpha&&(s.hasAlpha=!0),o.diffuseTexture=s}n.alpha<1&&(o.alpha=n.alpha);return o}(t));return r[i]}(t,o)),f.vertices,f.indices)};var r={}}function W(e){var t=new Int16Array(16),n=new Uint16Array(16),r=null,i=e.registry._solidityLookup,o=e.registry._opacityLookup;function a(e,i,o,a){for(var u=o.shape[1],l=t,c=n,f=0,h=2*i,d=o.data,p=o.index(e-1,0,0),m=o.stride[0],y=o.stride[1],v=o.stride[2],g=0;g<u;++g){var b=p;p+=v;for(var w=0;w<u;w++,f++,b+=y){var _=d[b],x=d[b+m];if(_!==x){var k=s(_,x,a,h);k&&(l[f]=k>0?a(_,h):-a(x,h+1),r&&(c[f]=k>0?r(o,e,e-1,w,g):r(o,e-1,e,w,g)))}}}}function s(e,t,n,r){var i=o[e],a=o[t];if(i&&a)return 0;if(i)return 1;if(a)return-1;var s=n(e,r),u=n(t,r+1);return s===u?0:0===s?-1:0===u?1:0}function u(e,r,i,o,a,s,u,d,p,m,y){var v=0,g=t,b=n,w=[0,0,0],_=[0,0,0],x=[0,0,0];w[r]=e;for(var k=[0,0,0],O=u?l:c,P=u?h:f,S=0;S<s;++S)for(var E=1,j=1,C=0;C<a;C+=E,v+=E){var A=0|g[v];if(A){var T=0|b[v];for(E=1;E<a-C&&O(v+E,g,A,b,T);++E);e:for(j=1;j<s-S;++j)for(var I=0;I<E;++I){if(!O(v+I+j*a,g,A,b,T))break e}var z=Math.abs(A);d[z]||(d[z]=new V(z));var D=d[z],R=P(D.colors,p(z),T,m,y);w[i]=C,w[o]=S,_[i]=E,x[o]=j;var M=D.positions;M.push(w[0],w[1],w[2],w[0]+_[0],w[1]+_[1],w[2]+_[2],w[0]+_[0]+x[0],w[1]+_[1]+x[1],w[2]+_[2]+x[2],w[0]+x[0],w[1]+x[1],w[2]+x[2]);var B=A>0?1:-1;2===r?D.uvs.push(0,j,-B*E,j,-B*E,0,0,0):D.uvs.push(0,E,0,0,B*j,0,B*j,E);var L=M.length/3-4;A<0?R?D.indices.push(L,L+1,L+2,L,L+2,L+3):D.indices.push(L+1,L+2,L+3,L,L+1,L+3):R?D.indices.push(L,L+2,L+1,L,L+3,L+2):D.indices.push(L+3,L+1,L,L+3,L+2,L+1),k[r]=B,D.normals.push(k[0],k[1],k[2],k[0],k[1],k[2],k[0],k[1],k[2],k[0],k[1],k[2]);for(var F=0;F<j;++F)for(var N=0;N<E;++N)g[v+N+F*a]=0}else E=1}}function l(e,t,n,r,i){return n===t[e]&&i===r[e]}function c(e,t,n,r,i){return n===t[e]}function f(e,t,n,r,i){return e.push(t[0],t[1],t[2],1),e.push(t[0],t[1],t[2],1),e.push(t[0],t[1],t[2],1),e.push(t[0],t[1],t[2],1),!0}function h(e,t,n,r,i){var o=m(n,0,0),a=m(n,1,0),s=m(n,1,1),u=m(n,0,1);y(e,t,o,r,i),y(e,t,a,r,i),y(e,t,s,r,i),y(e,t,u,r,i);return o===s?u!==a||2===u:u!==a&&o+s>u+a}function d(e,t,n,r,o){var a=1,s=1,u=1,l=1;return i[e.get(t,r+1,o)]&&(++u,++l),i[e.get(t,r-1,o)]&&(++a,++s),i[e.get(t,r,o+1)]&&(++s,++l),i[e.get(t,r,o-1)]&&(++a,++u),i[e.get(t,r,o)]?(l=3===l||i[e.get(t,r+1,o+1)]?3:2,s=3===s||i[e.get(t,r-1,o+1)]?3:2,u=3===u||i[e.get(t,r+1,o-1)]?3:2,a=3===a||i[e.get(t,r-1,o-1)]?3:2):(1===l&&i[e.get(t,r+1,o+1)]&&(l=2),1===s&&i[e.get(t,r-1,o+1)]&&(s=2),1===u&&i[e.get(t,r+1,o-1)]&&(u=2),1===a&&i[e.get(t,r-1,o-1)]&&(a=2)),l<<6|u<<4|s<<2|a}function p(e,t,n,r,o){var a=1,s=1,u=1,l=1;return i[e.get(t,r+1,o)]&&(++u,++l),i[e.get(t,r-1,o)]&&(++a,++s),i[e.get(t,r,o+1)]&&(++s,++l),i[e.get(t,r,o-1)]&&(++a,++u),i[e.get(t,r,o)]?(l=3===l||i[e.get(t,r+1,o+1)]?3:2,s=3===s||i[e.get(t,r-1,o+1)]?3:2,u=3===u||i[e.get(t,r+1,o-1)]?3:2,a=3===a||i[e.get(t,r-1,o-1)]?3:2):(1===l&&(i[e.get(t,r+1,o+1)]?l=2:i[e.get(n,r,o+1)]&&i[e.get(n,r+1,o)]&&i[e.get(n,r+1,o+1)]||(l=0)),1===u&&(i[e.get(t,r+1,o-1)]?u=2:i[e.get(n,r,o-1)]&&i[e.get(n,r+1,o)]&&i[e.get(n,r+1,o-1)]||(u=0)),1===s&&(i[e.get(t,r-1,o+1)]?s=2:i[e.get(n,r,o+1)]&&i[e.get(n,r-1,o)]&&i[e.get(n,r-1,o+1)]||(s=0)),1===a&&(i[e.get(t,r-1,o-1)]?a=2:i[e.get(n,r,o-1)]&&i[e.get(n,r-1,o)]&&i[e.get(n,r-1,o-1)]||(a=0))),l<<6|u<<4|s<<2|a}function m(e,t,n){return e>>(t?n?6:4:n?2:0)&3}function y(e,t,n,r,i){var o=0===n?i:r[n-1];e.push(t[0]*o,t[1]*o,t[2]*o,1)}this.mesh=function(s,l,c,f,h,m,y){i=e.registry._solidityLookup,o=e.registry._opacityLookup;var v={},g=m===h[0];r=f?g?d:p:null;for(var b=0;b<3;++b){var w=(b+1)%3,_=(b+2)%3,x=s.shape,k=s.transpose(b,w,_).lo(1,1,1).hi(x[b]-2,x[w]-2,x[_]-2),O=k.shape[0]-1,P=k.shape[1],S=k.shape[2];t.length<P*S&&(t=new Int16Array(P*S),n=new Uint16Array(P*S));for(var E=0;E<=O;++E)a(E,b,k,l),H("masks"),u(E,b,w,_,P,S,f,v,c,h,m),y&&(E+=O-1),H("submeshes")}return Object.keys(v).map(e=>v[e])}}V.prototype.dispose=function(){this.positions=null,this.indices=null,this.normals=null,this.colors=null,this.uvs=null};var H=()=>{},K=n(303),J=new function(){function e(e,t,n,r,i,o){var a=e._objectBlocks,s=new K.a("object_sps_"+e.requestID,t,{updatable:!1}),u=e.noa.registry._blockHandlerLookup,l=e.noa.registry._blockMeshLookup;for(var c in n){var f,h=l[c],d=n[c],p=d.length,m=u[c];m&&(f=m.onCustomMeshCreate);s.addShape(h,p,{positionFunction:function(e,t,n){var s=d[n],u=a[s];e.position.set(u.x+.5,u.y,u.z+.5),f&&f(e,r+u.x,i+u.y,o+u.z)}}),d.length=0}return s}this.initChunk=function(e){e._objectBlocks={},e._objectSystems=[]},this.disposeChunk=function(e){this.removeObjectMeshes(e),e._objectBlocks=null},this.addObjectBlock=function(e,t,n,r,i){var o=n+"|"+r+"|"+i;e._objectBlocks[o]=new G(t,n,r,i,null)},this.removeObjectBlock=function(e,t,n,r){var i=t+"|"+n+"|"+r;e._objectBlocks[i]&&delete e._objectBlocks[i]},this.removeObjectMeshes=function(e){for(var t=e._objectSystems||[];t.length;){var n=t.pop();n.mesh&&n.mesh.dispose(),n.dispose()}},this.buildObjectMeshes=function(t){te("start");var n=t.noa.rendering.getScene(),r=t.noa.registry._blockMeshLookup,i={};for(var o in t._objectBlocks){var a=t._objectBlocks[o].id,s=r[a].material,u=s?n.materials.indexOf(s):-1;i[u]||(i[u]={}),i[u][a]||(i[u][a]=[]),i[u][a].push(o)}te("preprocess");var l=t.i*t.size,c=t.j*t.size,f=t.k*t.size,h=[];for(var d in i){var p=e(t,n,i[d],l,c,f);te("made SPS");var m=p.buildMesh();te("built mesh"),m.material=d>-1?n.materials[d]:null,h.push(m),t._objectSystems.push(p)}return te("end"),h}};function G(e,t,n,r){this.id=0|e,this.x=0|t,this.y=0|n,this.z=0|r}var Y,Z,Q,X,ee,te=()=>{},ne=n(96),re=ie;function ie(e,t,n,r,i,o,a){this.noa=e,this.isDisposed=!1,this.octreeBlock=null,this.requestID=t,this.voxels=a,this.i=n,this.j=r,this.k=i,this.size=o,this.x=n*o,this.y=r*o,this.z=i*o,this._terrainDirty=!1,this._objectsDirty=!1,Y=e.registry._solidityLookup,Z=e.registry._opacityLookup,Q=e.registry._objectLookup,X=e.registry._blockHandlerLookup,this._terrainMesh=null,this._objectBlocks=null,this._objectSystems=null,J.initChunk(this),this.isFull=!1,this.isEmpty=!1;var s=Array.from(Array(27)).map(()=>null);this._neighbors=new ne(s,[3,3,3]).lo(1,1,1),this._neighbors.set(0,0,0,this),this._neighborCount=0,this._maxMeshedNeighbors=0,this._timesMeshed=0,se(this)}function oe(e,t,n,r,i,o){var a=t[n];a&&a(e.x+r,e.y+i,e.z+o)}function ae(e){return 0!==e&&(!!Y[e]||!Q[e])}function se(e){for(var t=!0,n=!0,r=!1,i=e.voxels,o=i.data,a=i.shape[0],s=X,u=0;u<a;++u)for(var l=0;l<a;++l)for(var c=i.index(u,l,0),f=0;f<a;++f,++c){var h=o[c];if(0!==h){t=t&&Z[h],n=!1,Q[h]&&(ue(e,h,u,l,f),r=!0);var d=s[h];d&&oe(e,d,"onLoad",u,l,f)}else t=!1}e.isFull=t,e.isEmpty=n,e._terrainDirty=!e.isEmpty,e._objectsDirty=r}function ue(e,t,n,r,i){J.addObjectBlock(e,t,n,r,i),e._objectsDirty=!0}function le(e,t){for(var n=e.voxels,r=n.data,i=X,o=n.shape[0],a=0;a<o;++a)for(var s=0;s<o;++s)for(var u=n.index(a,s,0),l=0;l<o;++l,++u){var c=r[u];c>0&&i[c]&&oe(e,i[c],t,a,s,l)}}ie._createVoxelArray=function(e){var t=new Uint16Array(e*e*e);return new ne(t,[e,e,e])},ie.prototype._updateVoxelArray=function(e){le(this,"onUnload"),J.disposeChunk(this),this.voxels=e,this._terrainDirty=!1,this._objectsDirty=!1,J.initChunk(this),se(this)},ie.prototype.get=function(e,t,n){return this.voxels.get(e,t,n)},ie.prototype.getSolidityAt=function(e,t,n){return Y[this.voxels.get(e,t,n)]},ie.prototype.set=function(e,t,n,r){var i=this.voxels.get(e,t,n),o=i;if(r!==o){this.voxels.set(e,t,n,r),Q[i]&&function(e,t,n,r){J.removeObjectBlock(e,t,n,r),e._objectsDirty=!0}(this,e,t,n),Q[r]&&ue(this,r,e,t,n),oe(this,o,"onUnset",e,t,n),oe(this,r,"onSet",e,t,n),Z[r]||(this.isFull=!1),0!==r&&(this.isEmpty=!1),(ae(r)||ae(i))&&(this._terrainDirty=!0),(this._terrainDirty||this._objectsDirty)&&this.noa.world._queueChunkForRemesh(this);var a=!1;if(Y[i]!==Y[r]&&(a=!0),Z[i]!==Z[r]&&(a=!0),a){var s=this.size-1,u=0===e?-1:e<s?0:1,l=0===t?-1:t<s?0:1,c=0===n?-1:n<s?0:1;if(u|l|c){var f=l?[0,l]:[0],h=c?[0,c]:[0];(u?[0,u]:[0]).forEach(e=>{f.forEach(t=>{h.forEach(n=>{if(0!=(e|t|n)){var r=this._neighbors.get(e,t,n);r&&(r._terrainDirty=!0,this.noa.world._queueChunkForRemesh(r))}})})})}}}},ie.prototype.mesh=function(e,t,n,r,i,o){return ee||(ee=new F(this.noa)),ee.meshChunk(this,e,t,n,r,i,o)},ie.prototype.updateMeshes=function(){var e=this.noa.rendering;if(this._terrainDirty){this._terrainMesh&&this._terrainMesh.dispose();var t=this.mesh();if(t&&t.getIndices().length>0){var n=[this.x,this.y,this.z];e.addMeshToScene(t,!0,n,this)}this._terrainMesh=t||null,this._terrainDirty=!1,this._timesMeshed++,this._maxMeshedNeighbors=Math.max(this._maxMeshedNeighbors,this._neighborCount)}if(this._objectsDirty){J.removeObjectMeshes(this);var r=J.buildObjectMeshes(this),i=[this.x,this.y,this.z];r.forEach(t=>e.addMeshToScene(t,!0,i,this)),this._objectsDirty=!1}},ie.prototype.dispose=function(){le(this,"onUnload"),J.disposeChunk(this),this._terrainMesh&&this._terrainMesh.dispose(),this.voxels.data=null,this.voxels=null,this._neighbors.data=null,this._neighbors=null,this.isDisposed=!0};var ce=n(61).EventEmitter,fe={chunkSize:24,chunkAddDistance:3,chunkRemoveDistance:4,worldGenWhilePaused:!1,manuallyControlChunkLoading:!1};function he(e,t){var n;this.noa=e,t=Object.assign({},fe,t),this.playerChunkLoaded=!1,this.Chunk=re,this.chunkSize=t.chunkSize,this.chunkAddDistance=t.chunkAddDistance,this.chunkRemoveDistance=t.chunkRemoveDistance,this.chunkRemoveDistance<this.chunkAddDistance&&(this.chunkRemoveDistance=this.chunkAddDistance),this.manuallyControlChunkLoading=!!t.manuallyControlChunkLoading,this.minNeighborsToMesh=6,this.tickInUnloadedChunks=t.tickInUnloadedChunks,this.maxChunksPendingCreation=10,this.maxChunksPendingMeshing=10,this.maxProcessingPerTick=9,this.maxProcessingPerRender=5,this.worldGenWhilePaused=t.worldGenWhilePaused,this._cachedWorldName="",this._lastPlayerChunkStr="",(n=this)._chunksKnown=new p,n._chunksToMesh=new p,n._chunksPending=new p,n._chunksToRemove=new p,n._chunksToRequest=new p,n._chunksToMeshFirst=new p,n._queueChunkForRemesh=e=>{ve(n,e)},this._storage=new d;var r=this.chunkSize;if(this._coordsToChunkIndexes=(e,t,n)=>[0|Math.floor(e/r),0|Math.floor(t/r),0|Math.floor(n/r)],this._coordsToChunkLocals=(e,t,n)=>{var i=e%r|0;i<0&&(i+=r);var o=t%r|0;o<0&&(o+=r);var a=n%r|0;return a<0&&(a+=r),[i,o,a]},0==(r&r-1)){var i=0|Math.log2(r),o=r-1|0;this._coordsToChunkIndexes=(e,t,n)=>[e>>i|0,t>>i|0,n>>i|0],this._coordsToChunkLocals=(e,t,n)=>[e&o|0,t&o|0,n&o|0]}}he.prototype=Object.create(ce.prototype),he.prototype.getBlockID=function(e,t,n){var[r,i,o]=this._coordsToChunkIndexes(e,t,n),a=this._storage.getChunkByIndexes(r,i,o);if(!a)return 0;var[s,u,l]=this._coordsToChunkLocals(e,t,n);return a.voxels.get(s,u,l)},he.prototype.getBlockSolidity=function(e,t,n){var[r,i,o]=this._coordsToChunkIndexes(e,t,n),a=this._storage.getChunkByIndexes(r,i,o);if(!a)return!1;var[s,u,l]=this._coordsToChunkLocals(e,t,n);return!!a.getSolidityAt(s,u,l)},he.prototype.getBlockOpacity=function(e,t,n){var r=this.getBlockID(e,t,n);return this.noa.registry.getBlockOpacity(r)},he.prototype.getBlockFluidity=function(e,t,n){var r=this.getBlockID(e,t,n);return this.noa.registry.getBlockFluidity(r)},he.prototype.getBlockProperties=function(e,t,n){var r=this.getBlockID(e,t,n);return this.noa.registry.getBlockProps(r)},he.prototype.setBlockID=function(e,t,n,r){var[i,o,a]=this._coordsToChunkIndexes(t,n,r),s=this._storage.getChunkByIndexes(i,o,a);if(s){var[u,l,c]=this._coordsToChunkLocals(t,n,r);return s.set(u,l,c,e)}},he.prototype.isBoxUnobstructed=function(e){for(var t=e.base,n=e.max,r=Math.floor(t[0]);r<n[0]+1;r++)for(var i=Math.floor(t[1]);i<n[1]+1;i++)for(var o=Math.floor(t[2]);o<n[2]+1;o++)if(this.getBlockSolidity(r,i,o))return!1;return!0},he.prototype.setChunkData=function(e,t,n){!function(e,t,n,r){var i=t.split("|"),o=parseInt(i.shift()),a=parseInt(i.shift()),s=parseInt(i.shift()),u=i.join("|");if(e._chunksPending.remove(o,a,s),u!==e.noa.worldName)return;if(!e._chunksKnown.includes(o,a,s))return;if(e._chunksToRemove.includes(o,a,s))return;var l=e._storage.getChunkByIndexes(o,a,s);if(l){l._updateVoxelArray(n),l._neighbors.data.forEach(t=>{t&&t!==l&&t._neighborCount>20&&ve(e,t)})}else{var c=e.chunkSize;l=new re(e.noa,t,o,a,s,c,n),e._storage.storeChunkByIndexes(o,a,s,l),l.userData=r,be(e,o,a,s,l),e.noa.rendering.prepareChunkForRendering(l),e.emit("chunkAdded",l)}ve(e,l),xe("receive")}(this,e,t,n)},he.prototype.invalidateVoxelsInAABB=function(e){!function(e,t){for(var n=e._coordsToChunkIndexes(t.base[0],t.base[1],t.base[2]),r=e._coordsToChunkIndexes(t.max[0],t.max[1],t.max[2]),i=0;i<3;i++)Number.isFinite(t.base[i])||(n[i]=t.base[i]),Number.isFinite(t.max[i])||(r[i]=t.max[i]);e._chunksKnown.forEach(t=>{for(var i=0;i<3;i++)if(t[i]<n[i]||t[i]>=r[i])return;e._chunksToRemove.add(t[0],t[1],t[2]),e._chunksToMesh.remove(t[0],t[1],t[2]),e._chunksToRequest.remove(t[0],t[1],t[2]),e._chunksToMeshFirst.remove(t[0],t[1],t[2])})}(this,e)},he.prototype.manuallyLoadChunk=function(e,t,n){if(!this.manuallyControlChunkLoading)throw de;var[r,i,o]=this._coordsToChunkIndexes(e,t,n);this._chunksKnown.add(r,i,o),this._chunksToRequest.add(r,i,o)},he.prototype.manuallyUnloadChunk=function(e,t,n){if(!this.manuallyControlChunkLoading)throw de;var[r,i,o]=this._coordsToChunkIndexes(e,t,n);this._chunksToRemove.add(r,i,o),this._chunksToMesh.remove(r,i,o),this._chunksToRequest.remove(r,i,o),this._chunksToMeshFirst.remove(r,i,o)};var de="Set `noa.world.manuallyControlChunkLoading` if you need this API";function pe(e){var t=e.noa.entities.getPosition(e.noa.playerEntity);return e._coordsToChunkIndexes(t[0],t[1],t[2])}he.prototype.tick=function(){var e=performance.now();this._cachedWorldName!==this.noa.worldName&&(!function(e){e._chunksToRemove.copyFrom(e._chunksKnown),e._chunksToRequest.empty(),e._chunksToMesh.empty(),e._chunksToMeshFirst.empty();var t=pe(e);ge(e._chunksToRemove,t[0],t[1],t[2])}(this),this._cachedWorldName=this.noa.worldName);var[t,n,r]=pe(this),i=`${t}:${n}:${r}`,o=i!=this._lastPlayerChunkStr;if(o&&(this.emit("playerEnteredChunk",t,n,r),this._lastPlayerChunkStr=i),_e("start"),xe("start"),!this.manuallyControlChunkLoading){o&&(!function(e,t,n,r){var i=e.chunkRemoveDistance*e.chunkRemoveDistance,o=e._chunksToRemove;e._chunksKnown.forEach(a=>{if(!o.includes(a[0],a[1],a[2])){var s=a[0]-t,u=a[1]-n,l=a[2]-r;s*s+u*u+l*l<i||(e._chunksToRemove.add(a[0],a[1],a[2]),e._chunksToMesh.remove(a[0],a[1],a[2]),e._chunksToRequest.remove(a[0],a[1],a[2]),e._chunksToMeshFirst.remove(a[0],a[1],a[2]))}}),ge(o,t,n,r)}(this,t,n,r),_e("remQueue"));var a=function(e){if(e===l)return c;for(var t=Math.ceil(e),n=0,r=e*e,i=-t;i<=t;++i)for(var o=-t;o<=t;++o)for(var a=-t;a<=t;++a){i*i+o*o+a*a<r&&n++}return l=e,c=n,n}(this.chunkAddDistance);(o||this._chunksKnown.count()<a)&&(!function(e,t,n,r){for(var i=Math.ceil(e.chunkAddDistance),o=e.chunkAddDistance*e.chunkAddDistance,a=e._chunksKnown,s=e._chunksToRequest,u=t-i;u<=t+i;++u)for(var l=n-i;l<=n+i;++l)for(var c=r-i;c<=r+i;++c)if(!a.includes(u,l,c)){var f=u-t,h=l-n,d=c-r;f*f+h*h+d*d>o||(a.add(u,l,c),s.add(u,l,c))}ge(s,t,n,r)}(this,t,n,r),_e("addQueue"))}u(this.maxProcessingPerTick,()=>{var e=function(e){var t=e._chunksToRequest;if(t.isEmpty())return!0;var n=e._chunksPending.count(),r=e._chunksToMesh.count();if(n>=e.maxChunksPendingCreation)return!0;if(r>=e.maxChunksPendingMeshing)return!0;var i=t.pop();return function(e,t,n,r){var i=e.chunkSize,o=re._createVoxelArray(e.chunkSize),a=e.noa.worldName,s=[t,n,r,a].join("|"),u=t*i,l=n*i,c=r*i;e._chunksPending.add(t,n,r),e.emit("worldDataNeeded",s,o,u,l,c,a),xe("request")}(e,i[0],i[1],i[2]),t.isEmpty()}(this);return _e("requests"),e=e&&function(e){var t=e._chunksToRemove;if(t.isEmpty())return!0;var n=t.pop();return function(e,t,n,r){var i=e._storage.getChunkByIndexes(t,n,r);i&&(e.emit("chunkBeingRemoved",i.requestID,i.voxels,i.userData),e.noa.rendering.disposeChunkForRendering(i),i.dispose(),xe("dispose"),be(e,t,n,r,null));e._storage.storeChunkByIndexes(t,n,r,null),e._chunksKnown.remove(t,n,r),e._chunksToMesh.remove(t,n,r),e._chunksToMeshFirst.remove(t,n,r)}(e,n[0],n[1],n[2]),t.isEmpty()}(this),_e("removes"),e=e&&ye(this,!1),_e("meshes"),e},e),performance.now()-e+2<this.maxProcessingPerTick&&(!function(e){var t=e._chunksToMesh.count()+e._chunksToMeshFirst.count();if(t>10)return;for(var n=e._chunksKnown.arr,r=Math.min(50,n.length),i=0;i<r;i++){me=(me+1)%n.length;var o=n[me],a=e._storage.getChunkByIndexes(o[0],o[1],o[2]);if(a){var s=a._neighborCount;if(!(s<e.minNeighborsToMesh)&&!(s<=a._maxMeshedNeighbors)&&(ve(e,a),++t>10))return}}}(this),_e("looking"),u(this.maxProcessingPerTick,()=>{var e=ye(this,!1);return _e("meshes"),e},e));var s=this._storage.getChunkByIndexes(t,n,r);this.playerChunkLoaded=!!s,xe("end",this),_e("end")},he.prototype.render=function(){u(this.maxProcessingPerRender,()=>ye(this,!0))};var me=-1;function ye(e,t){var n=e._chunksToMeshFirst;if(n.isEmpty()&&!t&&(n=e._chunksToMesh),n.isEmpty())return!0;var r=n.pop();if(!e._chunksToRemove.includes(r[0],r[1],r[2])){var i=e._storage.getChunkByIndexes(r[0],r[1],r[2]);i&&function(e,t){e._chunksToMesh.remove(t.i,t.j,t.k),e._chunksToMeshFirst.remove(t.i,t.j,t.k),t.updateMeshes(),xe("mesh")}(e,i)}}function ve(e,t){var n=t._neighborCount;n<Math.min(e.minNeighborsToMesh,26)||(t._terrainDirty=!0,(26===n?e._chunksToMeshFirst:e._chunksToMesh).add(t.i,t.j,t.k))}function ge(e,t,n,r){e.sortByDistance(e=>{var i=e[0]-t,o=e[1]-n,a=e[2]-r;return i*i+a*a+Math.abs(o)})}function be(e,t,n,r,i){for(var o=-1;o<=1;o++)for(var a=-1;a<=1;a++)for(var s=-1;s<=1;s++)if(0!=(o|a|s)){var u=e._storage.getChunkByIndexes(t+o,n+a,r+s);u&&(i?(i._neighborCount++,i._neighbors.set(o,a,s,u),u._neighborCount++,u._neighbors.set(-o,-a,-s,i),26===u._neighborCount&&ve(e,u)):(u._neighborCount--,u._neighbors.set(-o,-a,-s,null)))}}function we(e,t,n,r){var i=0,o=0,a=0,s=0,u=[];n.forEach(t=>{var n=e._storage.getChunkByIndexes(t[0],t[1],t[2]);n&&(a++,u.push(n._timesMeshed),n.isFull&&i++,n.isEmpty&&o++,26===n._neighborCount&&s++)});var l=n.length.toString().padEnd(8);if(l+=("exist: "+a).padEnd(12),l+=("full: "+i).padEnd(12),l+=("empty: "+o).padEnd(12),l+=("surr: "+s).padEnd(12),r){var c=u.reduce((e,t)=>e+t,0),f=u.reduce((e,t)=>Math.max(e,t),0),h=u.reduce((e,t)=>Math.min(e,t),0);l+="times meshed: avg "+(c/a).toFixed(2),l+="  max "+f,l+="  min "+h}console.log(t,l)}he.prototype.report=function(){console.log("World report - playerChunkLoaded: ",this.playerChunkLoaded),we(this,"  known:     ",this._chunksKnown.arr,!0),we(this,"  to request:",this._chunksToRequest.arr),we(this,"  to remove: ",this._chunksToRemove.arr),we(this,"  creating:  ",this._chunksPending.arr),we(this,"  to mesh:   ",this._chunksToMesh.arr.concat(this._chunksToMeshFirst.arr))};var _e=m(0,"world ticks:",1),xe=()=>{},ke=n(451),Oe=function(e,t,n){return function(e,t,n){t=Object.assign({},Pe,t);var r=ke(n,t),i=t.bindings;for(var o in i){var a=Array.isArray(i[o])?i[o]:[i[o]];a.unshift(o),r.bind.apply(r,a)}return r}(0,t,n)},Pe={bindings:{forward:["W","<up>"],left:["A","<left>"],backward:["S","<down>"],right:["D","<right>"],fire:"<mouse 1>","mid-fire":["<mouse 2>","Q"],"alt-fire":["<mouse 3>","E"],jump:"<space>",sprint:"<shift>",crouch:"<control>"}};var Se=n(454),Ee=function(e,t){return function(e,t){t=Object.assign({},je,t);var n=e.world,r=e.registry._solidityLookup,i=e.registry._fluidityLookup,o=e.worldOriginOffset;return Se(t,(e,t,i)=>{var a=n.getBlockID(e+o[0],t+o[1],i+o[2]);return r[a]},(e,t,r)=>{var a=n.getBlockID(e+o[0],t+o[1],r+o[2]);return i[a]})}(e,t)},je={gravity:[0,-10,0],airDrag:.1};var Ce=n(77),Ae=n(354),Te=n(404),Ie={inverseX:!1,inverseY:!1,sensitivityX:10,sensitivityY:10,initialZoom:0,zoomSpeed:.2};function ze(e,t){this.noa=e,t=Object.assign({},Ie,t),this.sensitivityX=t.sensitivityX,this.sensitivityY=t.sensitivityY,this.inverseX=t.inverseX,this.inverseY=t.inverseY,this.heading=0,this.pitch=0,this.cameraTarget=this.noa.ents.createEntity(["position"]);var n=.9*e.ents.getPositionData(e.playerEntity).height;e.ents.addComponent(this.cameraTarget,"followsEntity",{entity:e.playerEntity,offset:[0,n,0]}),this.zoomDistance=t.initialZoom,this.zoomSpeed=t.zoomSpeed,this.currentZoom=t.initialZoom,this._dirVector=Ce.fromValues(0,1,0)}ze.prototype._localGetTargetPosition=function(){var e=this.noa.ents.getPositionData(this.cameraTarget);return Ce.copy(De,e._renderPosition)},ze.prototype._localGetPosition=function(){var e=this._localGetTargetPosition();return 0===this.currentZoom?e:Ce.scaleAndAdd(e,e,this._dirVector,-this.currentZoom)};var De=Ce.create();ze.prototype.getTargetPosition=function(){var e=this._localGetTargetPosition();return this.noa.localToGlobal(e,Re)};var Re=[];ze.prototype.getPosition=function(){var e=this._localGetPosition();return this.noa.localToGlobal(e,Re)},ze.prototype.getDirection=function(){return this._dirVector},ze.prototype.applyInputsToCamera=function(){var e=this.noa.inputs.state;!function(e){var t=e.dx,n=e.dy,r=document.body.clientWidth/6,i=document.body.clientHeight/6,o=Math.abs(t)>r&&t/$e<-1,a=Math.abs(n)>i&&n/Ve<-1;o||a?(e.dx=$e,e.dy=Ve,$e=t>0?1:-1,Ve=n>0?1:-1):(t&&($e=t),n&&(Ve=n))}(e);var t=.0066*Math.PI/180,n=e.dy*this.sensitivityY*t,r=e.dx*this.sensitivityX*t;this.inverseY&&(n=-n),this.inverseX&&(r=-r);var i=2*Math.PI;this.heading+=r<0?r+i:r,this.heading>i&&(this.heading-=i);var o=Math.PI/2-.001;this.pitch=Math.max(-o,Math.min(o,this.pitch+n)),Ce.set(this._dirVector,0,0,1),Ce.rotateX(this._dirVector,this._dirVector,Me,this.pitch),Ce.rotateY(this._dirVector,this._dirVector,Me,this.heading)};var Me=Ce.create();ze.prototype.updateBeforeEntityRenderSystems=function(){this.currentZoom+=(this.zoomDistance-this.currentZoom)*this.zoomSpeed},ze.prototype.updateAfterEntityRenderSystems=function(){var e=function(e){if(!Be){var t=e.noa.worldOriginOffset;Be=new Ae([0,0,0],Ce.clone(Fe)),Le=(n,r,i)=>e.noa.world.getBlockSolidity(n+t[0],r+t[1],i+t[2]),Ce.scale(Fe,Fe,-.5)}Be.setPosition(e._localGetTargetPosition()),Be.translate(Fe);var n=Math.max(e.zoomDistance,e.currentZoom)+.1;return Ce.scale(Ne,e.getDirection(),-n),Te(Le,Be,Ne,Ue,!0)}(this);this.currentZoom>e&&(this.currentZoom=e)};var Be,Le,Fe=Ce.fromValues(.2,.2,.2),Ne=Ce.create(),Ue=()=>!0;var $e=0,Ve=0,qe={texturePath:""},We={solid:!0,opaque:!0,fluidDensity:1,viscosity:.5};function He(e,t){this.noa=e,t=Object.assign({},qe,t);var n=[!1],r=[!1],i=[!1],o=[!1],a=[0,0,0,0,0,0],s=[null],u=[null],l=[null],c={},f=[null],h=t.texturePath;this.registerBlock=function(e,t){t=t||{},We.solid=!t.fluid,We.opaque=!t.fluid;var f=Object.assign({},We,t);if(e<1||e>65535)throw"Block id out of range: "+e;for(;e>n.length;)this.registerBlock(n.length,{});n[e]=!!f.solid,r[e]=!!f.opaque,i[e]=!!f.fluid,o[e]=!!f.blockMesh,u[e]=f.blockMesh||null;var h,d=f.material||null;if(d)if("string"==typeof d)h=[d,d,d,d,d,d];else if(d.length&&2==d.length)h=[d[1],d[1],d[0],d[0],d[1],d[1]];else if(d.length&&3==d.length)h=[d[2],d[2],d[0],d[1],d[2],d[2]];else{if(!d.length||6!=d.length)throw"Invalid material parameter: "+d;h=d}else h=[null,null,null,null,null,null];for(var p=0;p<6;++p)a[6*e+p]=Ke(this,c,h[p],!0);s[e]={},i[e]&&(s[e].fluidDensity=f.fluidDensity,s[e].viscosity=f.viscosity);var m=f.onLoad||f.onUnload||f.onSet||f.onUnset||f.onCustomMeshCreate;return l[e]=m?new Je(f):null,e},this.registerMaterial=function(e,t,n,r,i){var o=c[e]||f.length;c[e]=o;var a=1;return t&&4==t.length&&(a=t.pop()),f[o]={color:t||[1,1,1],alpha:a,texture:n?h+n:"",textureAlpha:!!r,renderMat:i||null},o},this.getBlockSolidity=function(e){return n[e]},this.getBlockOpacity=function(e){return r[e]},this.getBlockFluidity=function(e){return i[e]},this.getBlockProps=function(e){return s[e]},this.getBlockFaceMaterial=function(e,t){return a[6*e+t]},this.getMaterialColor=function(e){return f[e].color},this.getMaterialTexture=function(e){return f[e].texture},this.getMaterialData=function(e){return f[e]},this._solidityLookup=n,this._opacityLookup=r,this._fluidityLookup=i,this._objectLookup=o,this._blockMeshLookup=u,this._blockHandlerLookup=l,this._getMaterialVertexColor=function(e){return f[e].texture?d:f[e].color};var d=[1,1,1];this.registerMaterial("dirt",[.4,.3,0],null),this.registerBlock(1,{material:"dirt"})}function Ke(e,t,n,r){if(!n)return 0;var i=t[n];return void 0===i&&r&&(i=e.registerMaterial(n)),i}function Je(e){this.onLoad=e.onLoad||null,this.onUnload=e.onUnload||null,this.onSet=e.onSet||null,this.onUnset=e.onUnset||null,this.onCustomMeshCreate=e.onCustomMeshCreate||null}var Ge=n(393),Ye=n(394),Ze=n(77),Qe=n(456),Xe={shadowDistance:10};function et(e,t){Qe.call(this),this.noa=e,t=Object.assign({},Xe,t),this.names={};var r={shadow:t.shadowDistance},i=n(458);i.keys().forEach(t=>{var n=/\.\/(.*)\.js/.exec(t)[1],o=r[n]||void 0,a=i(t);a.default&&(a=a.default);var s=a(e,o),u=this.createComponent(s);this.names[n]=u}),this.isPlayer=function(t){return t===e.playerEntity},this.hasPhysics=this.getComponentAccessor(this.names.physics),this.cameraSmoothed=this.getComponentAccessor(this.names.smoothCamera),this.hasMesh=this.getComponentAccessor(this.names.mesh),this.hasPosition=this.getComponentAccessor(this.names.position);var o=this.getStateAccessor(this.names.position);function a(t,n){Ze.copy(n._renderPosition,n._localPosition),Ze.add(n.position,n._localPosition,e.worldOriginOffset),Object(Ge.updatePositionExtents)(n);var r=s(t);r&&Object(Ye.setPhysicsFromPosition)(r,n)}this.getPositionData=o,this._localGetPosition=function(e){return o(e)._localPosition},this.getPosition=function(e){return o(e).position},this._localSetPosition=function(e,t){var n=o(e);Ze.copy(n._localPosition,t),a(e,n)},this.setPosition=(t,n,r,i)=>{"number"==typeof n&&(n=[n,r,i]);var o=e.globalToLocal(n,null,[]);this._localSetPosition(t,o)},this.setEntitySize=function(e,t,n,r){var i=o(e);i.width=(t+r)/2,i.height=n,a(e,i)},this._rebaseOrigin=function(e){this.getStatesList(this.names.position).forEach(t=>{Ze.subtract(t._localPosition,t._localPosition,e),a(t.__id,t)})};var s=this.getStateAccessor(this.names.physics);this.getPhysics=s,this.getPhysicsBody=function(e){return s(e).body},this.getMeshData=this.getStateAccessor(this.names.mesh),this.getMovement=this.getStateAccessor(this.names.movement),this.getCollideTerrain=this.getStateAccessor(this.names.collideTerrain),this.getCollideEntities=this.getStateAccessor(this.names.collideEntities),this.onPairwiseEntityCollision=function(e,t){}}function tt(e,t){return!(e[0]>t[3])&&(!(e[1]>t[4])&&(!(e[2]>t[5])&&(!(e[3]<t[0])&&(!(e[4]<t[1])&&!(e[5]<t[2])))))}et.prototype=Object.create(Qe.prototype),et.prototype.constructor=et,et.prototype.addComponentAgain=function(e,t,n){this.hasComponent(e,t)&&this.removeComponent(e,t,!0),this.addComponent(e,t,n)},et.prototype.isTerrainBlocked=function(e,t,n){for(var r=this.noa.worldOriginOffset,i=Math.floor(e-r[0]),o=Math.floor(t-r[1]),a=Math.floor(n-r[2]),s=[i+.001,o+.001,a+.001,i+.999,o+.999,a+.999],u=this.getStatesList(this.names.collideTerrain),l=0;l<u.length;l++){var c=u[l].__id;if(tt(s,this.getPositionData(c)._extents))return!0}return!1},et.prototype.getEntitiesInAABB=function(e,t){var n=this.noa.worldOriginOffset,r=[e.base[0]+n[0],e.base[1]+n[1],e.base[2]+n[2],e.max[0]+n[0],e.max[1]+n[1],e.max[2]+n[2]],i=t?this.getStatesList(t).map(e=>this.getPositionData(e.__id)):this.getStatesList(this.names.position),o=[];return i.forEach(e=>{tt(r,e._extents)&&o.push(e.__id)}),o},et.prototype.add=function(e,t,n,r,i,o,a){var s=this,u=this.createEntity();if(this.addComponent(u,this.names.position,{position:e||[0,0,0],width:t,height:n}),o){this.addComponent(u,this.names.physics);var l=this.getPhysicsBody(u),c=this.names.smoothCamera;l.onStep=function(){s.addComponentAgain(u,c)}}return r&&(i||(i=Ze.create()),this.addComponent(u,this.names.mesh,{mesh:r,offset:i})),a&&this.addComponent(u,this.names.shadow,{size:t}),u}
/*!
 * noa: an experimental voxel game engine.
 * @url      github.com/andyhall/noa
 * @author   Andy Hall <andy@fenomas.com>
 * @license  MIT
 */;var nt=n(77),rt=n(96),it=n(449),ot=n(61).EventEmitter,at=ut,st={debug:!1,silent:!1,playerHeight:1.8,playerWidth:.6,playerStart:[0,10,0],playerAutoStep:!1,tickRate:30,maxRenderRate:0,blockTestDistance:10,stickyPointerLock:!0,dragCameraOutsidePointerLock:!0,stickyFullscreen:!1,skipDefaultHighlighting:!1,originRebaseDistance:25,tickInUnloadedChunks:!1,ignorePointerLock:!1};function ut(e){if(!(this instanceof ut))return new ut(e);this.version=n(474).version,e=Object.assign({},st,e),this._paused=!1,this._dragOutsideLock=e.dragCameraOutsidePointerLock,this.ignorePointerLock=e.ignorePointerLock;var t=this;if(!e.silent){var r=e.debug?" (debug)":"";console.log(`noa-engine v${this.version}${r}`)}this.worldOriginOffset=[0,0,0],this._originRebaseDistance=e.originRebaseDistance,this.vec3=nt,this.positionInCurrentTick=0,this.worldName="default",this.container=function(e,t){return new a(e,t)}(this,e),Object.defineProperty(this,"tickRate",{get:()=>this.container._shell.tickRate}),Object.defineProperty(this,"maxRenderRate",{get:()=>this.container._shell.maxRenderRate,set:e=>{this.container._shell.maxRenderRate=e||0}}),this.inputs=Oe(0,e,this.container.element),this.registry=function(e,t){return new He(e,t)}(this,e),this.world=function(e,t){return new he(e,t)}(this,e),this.rendering=function(e,t,n){return new C(e,t,n)}(this,e,this.container.canvas),this.physics=Ee(this,e),this.entities=function(e,t){return new et(e,t)}(this,e),this.ents=this.entities;var i=this.ents;this.playerEntity=i.add(e.playerStart,e.playerWidth,e.playerHeight,null,null,!0,!0),i.addComponent(this.playerEntity,i.names.collideTerrain),i.addComponent(this.playerEntity,i.names.collideEntities);var o=i.getPhysicsBody(this.playerEntity);o.gravityMultiplier=2,o.autoStep=e.playerAutoStep,i.addComponent(this.playerEntity,i.names.receivesInputs),i.addComponent(this.playerEntity,i.names.fadeOnZoom);var s,u,l;i.addComponent(this.playerEntity,i.names.movement,{airJumps:1}),this.camera=function(e,t){return new ze(e,t)}(this,e),this.blockTestDistance=e.blockTestDistance,this.blockTargetIdCheck=this.registry.getBlockSolidity,this.targetedBlock=null,e.skipDefaultHighlighting||(this.defaultBlockHighlightFunction=function(e){e?t.rendering.highlightBlockFace(!0,e.position,e.normal):t.rendering.highlightBlockFace(!1)},this.on("targetBlockChanged",this.defaultBlockHighlightFunction)),e.debug&&(window.noa=this,window.scene=this.rendering._scene,window.ndarray=rt,window.vec3=nt,i.getMovement(1).airJumps=999,this.setViewDistance=function(e){var t=this.world.chunkSize;this.world.chunkAddDistance=e/t,this.world.chunkRemoveDistance=e/t+1,this.world._lastPlayerChunkID=""}),u="0.27",(l=(e,t,n)=>{var r=()=>{throw`This property changed in ${u} - ${n}`};Object.defineProperty(e,t,{get:r,set:r})})(s=this,"getPlayerEyePosition","to get the camera/player offset see API docs for `noa.camera.cameraTarget`"),l(s,"setPlayerEyePosition","to set the camera/player offset see API docs for `noa.camera.cameraTarget`"),l(s,"getPlayerPosition","use `noa.ents.getPosition(noa.playerEntity)` or similar"),l(s,"getCameraVector","use `noa.camera.getDirection`"),l(s,"getPlayerMesh","use `noa.ents.getMeshData(noa.playerEntity).mesh` or similar"),l(s,"playerBody","use `noa.ents.getPhysicsBody(noa.playerEntity)`"),l(s.rendering,"zoomDistance","use `noa.camera.zoomDistance`"),l(s.rendering,"_currentZoom","use `noa.camera.currentZoom`"),l(s.rendering,"_cameraZoomSpeed","use `noa.camera.zoomSpeed`"),l(s.rendering,"getCameraVector","use `noa.camera.getDirection`"),l(s.rendering,"getCameraPosition","use `noa.camera.getLocalPosition`"),l(s.rendering,"getCameraRotation","use `noa.camera.heading` and `noa.camera.pitch`"),l(s.rendering,"setCameraRotation","to customize camera behavior see API docs for `noa.camera`"),u="0.28",l(s.rendering,"makeMeshInstance","removed, use Babylon's `mesh.createInstance`"),l(s.world,"_maxChunksPendingCreation",'use `maxChunksPendingCreation` (no "_")'),l(s.world,"_maxChunksPendingMeshing",'use `maxChunksPendingMeshing` (no "_")'),l(s.world,"_maxProcessingPerTick",'use `maxProcessingPerTick` (no "_")'),l(s.world,"_maxProcessingPerRender",'use `maxProcessingPerRender` (no "_")'),u="0.29",l(s,"_constants","removed, voxel IDs are no longer packed with bit flags"),u="0.30",l(s,"_tickRate","tickRate is now at `noa.tickRate`"),l(s.container,"_tickRate","tickRate is now at `noa.tickRate`")}ut.prototype=Object.create(ot.prototype),ut.prototype.tick=function(e){if(this._paused)this.world.worldGenWhilePaused&&this.world.tick(e);else if(dt("start"),function(e){var t=e.ents.getPositionData(e.playerEntity)._localPosition,n=e._originRebaseDistance;if(nt.sqrLen(t)<n*n)return;for(var r=[],i=0;i<3;i++){var o=Math.floor(t[i]);r[i]=o,e.worldOriginOffset[i]+=o}e.rendering._rebaseOrigin(r),e.entities._rebaseOrigin(r)}(this),this.world.tick(e),dt("world"),this.world.playerChunkLoaded||this.world.tickInUnloadedChunks){this.physics.tick(e),dt("physics"),this.rendering.tick(e),dt("rendering"),function(e){var t="",n=e.blockTargetIdCheck||e.registry.getBlockSolidity,r=e._localPick(null,null,null,n);if(r){var i=ft;nt.floor(i.adjacent,r.position),nt.copy(i.normal,r.normal),nt.sub(i.position,i.adjacent,i.normal),i.blockID=e.world.getBlockID(i.position[0],i.position[1],i.position[2]),e.targetedBlock=i,t=i.position.join("|")+i.normal.join("|")+"|"+i.blockID}else e.targetedBlock=null;t!=ht&&(e.emit("targetBlockChanged",e.targetedBlock),ht=t)}(this),dt("targets"),this.entities.tick(e),dt("entities"),this.emit("tick",e),dt("tick event"),dt("end");var t=this.inputs.state;t.scrollx=t.scrolly=t.scrollz=0}else this.rendering.tick(e)},ut.prototype.render=function(e,t){this.positionInCurrentTick=e,this._paused?this.world.worldGenWhilePaused&&this.world.render():(pt("start"),(this.ignorePointerLock||this.container.hasPointerLock||!this.container.supportsPointerLock||this._dragOutsideLock&&this.inputs.state.fire)&&this.camera.applyInputsToCamera(),pt("init"),this.world.render(),pt("meshing"),this.camera.updateBeforeEntityRenderSystems(),this.entities.render(t),this.camera.updateAfterEntityRenderSystems(),pt("entities"),this.emit("beforeRender",t),pt("before render"),this.rendering.render(t),pt("render"),this.emit("afterRender",t),pt("after render"),pt("end"),this.inputs.state.dx=this.inputs.state.dy=0)},ut.prototype.globalToLocal=function(e,t,n){var r=this.worldOriginOffset;if(t){for(var i=0;i<3;i++){var o=e[i]-r[i];o+=t[i],n[i]=o}return n}return nt.sub(n,e,r)},ut.prototype.localToGlobal=function(e,t,n){var r=this.worldOriginOffset;if(n){for(var i=0;i<3;i++){var o=Math.floor(e[i]);t[i]=o+r[i],n[i]=e[i]-o}return t}return nt.add(t,e,r)},ut.prototype.setPaused=function(e){this._paused=!!e,e||(this.inputs.state.dx=this.inputs.state.dy=0)},ut.prototype.getBlock=function(e,t,n){return e.length?this.world.getBlockID(e[0],e[1],e[2]):this.world.getBlockID(e,t,n)},ut.prototype.setBlock=function(e,t,n,r){return t.length?this.world.setBlockID(e,t[0],t[1],t[2]):this.world.setBlockID(e,t,n,r)},ut.prototype.addBlock=function(e,t,n,r){if(t.length){if(this.entities.isTerrainBlocked(t[0],t[1],t[2]))return;return this.world.setBlockID(e,t[0],t[1],t[2]),e}if(!this.entities.isTerrainBlocked(t,n,r))return this.world.setBlockID(e,t,n,r),e},ut.prototype.pick=function(e,t,n,r){return 0===n?null:(e&&(this.globalToLocal(e,null,lt),e=lt),this._localPick(e,t,n,r))};var lt=nt.create();ut.prototype._localPick=function(e,t,n,r){if(0===n)return null;var i=r||this.registry.getBlockSolidity,o=this.world,a=this.worldOriginOffset;e||(e=this.camera._localGetTargetPosition()),t=t||this.camera.getDirection(),n=n||this.blockTestDistance;var s=ct._localPosition,u=ct.normal;return it((function(e,t,n){var r=o.getBlockID(e+a[0],t+a[1],n+a[2]);return i(r)}),e,t,n,s,u)?(nt.scaleAndAdd(s,s,u,.01),this.localToGlobal(s,ct.position),ct):null};var ct={_localPosition:nt.create(),position:[0,0,0],normal:[0,0,0]};var ft={blockID:0,position:[],normal:[],adjacent:[]},ht="";var dt=()=>{},pt=()=>{},mt=n(30),yt=n(33),vt=n(92),gt=n(100),bt=n(205),wt=n(39),_t=n(59),xt=n(6),kt=n(114),Ot=n(151),Pt=n(139),St=n(40);const Et=n(534);function jt(e){const t=e.playerEntity,n=e.rendering.getScene(),r=Object(xt.e)(1);function i(){let t=n.createPickingRay(window.innerWidth/2,window.innerHeight/2,mt.e.Identity(),e.rendering.getScene().activeCameras[0]);const r=n.pickWithRay(t,e=>e.name.startsWith("hitbox-"),!0);return r.pickedMesh?[r.pickedMesh.name.substring(7),r.distance]:null}e.container.canvas.requestPointerLock(),e.container.canvas.addEventListener("click",()=>{yt.i.ingame&&(gt.b.isVisible||wt.d.isVisible||kt.b.isVisible||(e.container.canvas.requestPointerLock(),wt.d.isVisible=!1,wt.d.text=""))}),e.blockTargetIdCheck=function(e){return null!=vt.a[e]&&0!=e&&null!=vt.b[vt.a[e]]&&1!=vt.b[vt.a[e]].options.fluid},e.inputs.down.on("fire",(async function(){if(!yt.i.ingame)return;const t=i();if(t)return Object(_t.e)("ActionClickEntity",{type:"left",uuid:t[0],distance:t[1]}),void Object(_t.e)("ActionClick",{type:"left",x:0,y:0,z:0,onBlock:!1});if(e.targetedBlock){const t=e.targetedBlock.position;return Object(_t.e)("ActionClick",{type:"left",x:t[0],y:t[1],z:t[2],onBlock:!0}),void Object(_t.e)("ActionBlockBreak",{x:t[0],y:t[1],z:t[2],finished:!0})}Object(_t.e)("ActionClick",{type:"left",x:0,y:0,z:0,onBlock:!1})})),e.inputs.up.on("fire",(function(){yt.i.ingame})),e.inputs.down.on("alt-fire",(function(){if(!yt.i.ingame)return;const t=i();if(t)return Object(_t.e)("ActionClickEntity",{type:"right",uuid:t[0],distance:t[1]}),void Object(_t.e)("ActionClick",{type:"right",x:0,y:0,z:0,onBlock:!1});if(null!=e.targetedBlock){const t=e.targetedBlock.adjacent,n=e.targetedBlock.position;return Object(_t.e)("ActionClick",{type:"right",x:n[0],y:n[1],z:n[2],onBlock:!0}),void(0==e.ents.isTerrainBlocked(t[0],t[1],t[2])&&Object(_t.e)("ActionBlockPlace",{x:t[0],y:t[1],z:t[2],x2:n[0],y2:n[1],z2:n[2]}))}Object(_t.e)("ActionClick",{type:"right",x:0,y:0,z:0,onBlock:!1})})),e.inputs.down.on("mid-fire",(function(){if(yt.i.ingame&&e.targetedBlock&&0!=e.targetedBlock.blockID){const n=function(n,r){const i=e.ents.getState(t,"inventory"),o=Object.entries(i.items);for(let e=0;e<o.length;e++)if(null!=o[e]&&null!=o[e][1]&&o[e][1].id==n&&o[e][1].count>=r)return parseInt(o[e][0]);return-1}(vt.b[vt.a[e.targetedBlock.blockID]].id,1),r=e.ents.getState(t,"inventory").selected;-1!=n&&n<9?(Object(_t.e)("ActionInventoryClick",{slot:n,inventory:St.ActionInventoryClick.TypeInv.MAIN,type:St.ActionInventoryClick.Type.SELECT}),e.ents.getState(t,"inventory").selected=n):-1!=n&&Object(_t.e)("ActionInventoryPick",{slot:n,slot2:r,block:e.targetedBlock.blockID})}})),e.inputs.down.on("thirdprsn",(function(){yt.i.ingame&&(document.pointerLockElement,e.container.canvas)})),e.inputs.down.on("inventory",(function(){yt.i.ingame&&(wt.d.isVisible||kt.b.isVisible||(gt.b.isVisible?(gt.b.isVisible=!1,e.container.canvas.requestPointerLock(),Object(_t.e)("ActionInventoryClose",{inventory:St.ActionInventoryClose.Type.MAIN})):(Object(_t.e)("ActionInventoryOpen",{inventory:St.ActionInventoryClose.Type.MAIN}),gt.b.isVisible=!0,document.exitPointerLock())))})),e.inputs.down.on("chat",(function(){yt.i.ingame&&(gt.b.isVisible||wt.d.isVisible||kt.b.isVisible||(wt.d.isVisible=!0,Object(wt.b)(!0),document.exitPointerLock(),r.moveFocusToControl(wt.d),wt.d.text=""))})),e.inputs.down.on("cmd",(function(){yt.i.ingame&&(gt.b.isVisible||wt.d.isVisible||kt.b.isVisible||(wt.d.isVisible=!0,Object(wt.b)(!0),document.exitPointerLock(),r.moveFocusToControl(wt.d),wt.d.text="/"))})),e.inputs.down.on("menu",e=>{if(yt.i.ingame)return wt.d.isVisible?(wt.d.isVisible=!1,wt.d.text="",void Object(wt.b)(!1)):gt.b.isVisible?(gt.b.isVisible=!1,void Object(_t.e)("ActionInventoryClose",{inventory:St.ActionInventoryClose.Type.MAIN})):kt.b.isVisible?void(kt.b.isVisible=!1):(document.exitPointerLock(),void(kt.b.isVisible=!0))}),e.inputs.down.on("chatenter",(function(){yt.i.ingame&&(wt.d.isVisible=!1,Object(_t.e)("ActionMessage",{message:wt.d.text}),wt.d.text="",Object(wt.b)(!1))})),e.inputs.down.on("tab",(function(){null==wt.d||wt.d.isVisible||(Ot.c.isVisible=!0)})),e.inputs.up.on("tab",(function(){null==wt.d||wt.d.isVisible||(Ot.c.isVisible=!1)})),e.inputs.down.on("zoom",(function(){null==wt.d||wt.d.isVisible||(n.cameras[0].fov=.4)})),e.inputs.up.on("zoom",(function(){null==wt.d||wt.d.isVisible||(n.cameras[0].fov=yt.c.fov*Math.PI/180)})),e.inputs.up.on("screenshot",(function(){null==wt.d||wt.d.isVisible||document.pointerLockElement==e.container.canvas&&Et(e.container.canvas,{filename:"VoxelSRV-"+Date.now()+".png"})}));let o=!1;e.inputs.up.on("hide",(function(){null==wt.d||wt.d.isVisible||(o=!o,bt.b.isVisible=!o,Pt.a.isVisible=!o,Pt.b.isVisible=!o)})),e.on("tick",(async function(){if(!yt.i.ingame)return;const n=e.inputs.state.scrolly;if(0!==n){let r=e.ents.getState(t,"inventory").selected;r+=n>0?1:-1,r>=yt.c.hotbarsize?r=0:r<0&&(r=8),Object(_t.e)("ActionInventoryClick",{slot:r,type:St.ActionInventoryClick.Type.SELECT,inventory:St.ActionInventoryClick.TypeInv.MAIN}),e.ents.getState(t,"inventory").selected=r}if(e.inputs.state.jump){const n=e.ents.getPosition(t),r=vt.b[vt.a[e.getBlock(Math.floor(n[0]),Math.floor(n[1]),Math.floor(n[2]))]];null!=r&&1==r.options.fluid&&e.ents.getPhysicsBody(t).applyImpulse([0,1,0])}})),e.inputs.bind("numberkey","1","2","3","4","5","6","7","8","9"),e.inputs.down.on("numberkey",n=>{if(yt.i.ingame&&document.pointerLockElement==e.container.canvas){const r=parseInt(n.key);let i=e.ents.getState(t,"inventory").selected;i=r-1,Object(_t.e)("ActionInventoryClick",{slot:i,type:St.ActionInventoryClick.Type.SELECT,inventory:St.ActionInventoryClick.TypeInv.MAIN}),e.ents.getState(t,"inventory").selected=i}})}var Ct=n(265),At=n(203),Tt=n(185),It=n(165);function zt(e){let t=null,n=!1,r=!1,i=!1;e.on("beforeRender",(function(){t=yt.c.gamepad&&null!=navigator.getGamepads()[0]?navigator.getGamepads()[0]:null,null!=t&&(!function(t,n,r,i){t=Math.round(t),0==(n=Math.round(n))?(e.inputs.state.forward=!1,e.inputs.state.backward=!1):n>0?(e.inputs.state.forward=!1,e.inputs.state.backward=!0):n<0&&(e.inputs.state.forward=!0,e.inputs.state.backward=!1);0==t?(e.inputs.state.left=!1,e.inputs.state.right=!1):t>0?(e.inputs.state.left=!1,e.inputs.state.right=!0):t<0&&(e.inputs.state.left=!0,e.inputs.state.right=!1);e.camera.heading=e.camera.heading+Math.trunc(10*r)/500,e.camera.pitch=e.camera.pitch+Math.trunc(10*i)/500}(t.axes[0],t.axes[1],t.axes[2],t.axes[3]),e.inputs.state.jump=t.buttons[0].pressed,t.buttons[13].pressed&&e.inputs.down.emit("mid-fire"),t.buttons[2].pressed&&!n&&(e.inputs.down.emit("inventory"),n=!0,setTimeout((function(){n=!1}),200)),t.buttons[6].pressed&&!r&&(e.inputs.down.emit("alt-fire"),r=!0,setTimeout((function(){r=!1}),200)),t.buttons[7].pressed&&!i&&(e.inputs.down.emit("fire"),i=!0,setTimeout((function(){i=!1}),200)))})),setInterval((function(){null!=t&&(t.buttons[4].pressed?e.inputs.state.scrolly=-1:t.buttons[5].pressed?e.inputs.state.scrolly=1:e.inputs.state.scrolly=0)}),140)}var Dt=n(19),Rt=n(45),Mt=n(105);function Bt(){const e=function(e,t,n,r){const i=Object(xt.d)(1),o=new Dt.f;o.width=e*xt.f+"px",o.height=t*xt.f+"px",o.zIndex=1e3,o.thickness=0,o.verticalAlignment=0,o.horizontalAlignment=0,o.background="#EEEEEEDB";let a=!1,s=[],u=[o.leftInPixels,o.topInPixels];const l=new Dt.f;if(l.width=e*xt.f+"px",l.height=12*xt.f+"px",l.thickness=0,l.background="#2b2b2bed",l.verticalAlignment=0,r){l.onPointerDownObservable.add(e=>{a=!0,s=[e.x,e.y],u=[o.leftInPixels,o.topInPixels]}),l.onPointerUpObservable.add(()=>{a=!1});const e=i.onPointerMoveObservable.add(e=>{a&&(console.log(),o.left=-(s[0]-e.x)+u[0],o.top=-(s[1]-e.y)+u[1])});o.onDisposeObservable.add(()=>{i.onPointerMoveObservable.remove(e)})}o.addControl(l);const c=new Mt.a;c.fontSize=6.5*xt.f+"px",c.text="string"==typeof n?[{text:n,color:"white"}]:n,l.addControl(c);const f=new Dt.c;f.width=7*xt.f+"px",f.height=7*xt.f+"px",f.left=-2*xt.f+"px",f.thickness=0,f.isPointerBlocker=!0,f.zIndex=200,f.background="#DD4444AE",f.verticalAlignment=2,f.horizontalAlignment=1,f.onPointerClickObservable.add(()=>{o.dispose()}),l.addControl(f);const h=new Dt.f;return h.top=12*xt.f+"px",h.width=e*xt.f+"px",h.height=(t-12)*xt.f+"px",h.thickness=0,h.verticalAlignment=0,o.addControl(h),{main:h,bar:l,text:c,window:o}}(200,100,"Warning!",!1),t=new Dt.j;t.text="Warning. Firefox might have performance issues. For the best performance, you should use Chromium(-based) browser.\n\t\t\t\tI know you aren't too happy about it, but I can't do much about it. You can also checkout electron builds!",t.textWrapping=1,t.fontSize=20,t.color="#111111",t.textVerticalAlignment=0,e.main.paddingTop=10,e.main.paddingRight=10,e.main.paddingLeft=10,e.main.paddingBottom=10,e.main.addControl(t);const n=Object(Rt.d)();n.item.verticalAlignment=1,n.item.top="-35px",n.text.text=[{text:"I want to try electron",color:"#222222"}],n.item.onPointerClickObservable.add(()=>{e.window.dispose(),window.open("https://github.com/VoxelSrv/voxelsrv/actions","_blank")}),e.main.addControl(n.item);const r=Object(Rt.d)();r.item.verticalAlignment=1,r.text.text=[{text:"Okay, let me play",color:"#222222"}],r.item.onPointerClickObservable.add(()=>e.window.dispose()),e.main.addControl(r.item),console.log("Firefox detected! Displaying warning!"),e.window.isVisible=!0,e.window.verticalAlignment=2,e.window.horizontalAlignment=2,Object(xt.d)(1).addControl(e.window)}var Lt=n(113),Ft=n(196),Nt=n(307),Ut=n(183),$t=n(61);Object(Ft.a)(new Nt.d("./inflate.js")).then(e=>{window.inflate=e}),yt.a.forEach(e=>document.fonts.load(`10pt "${e}"`)),Object(At.a)().then(e=>{Object(yt.l)(e);const t=new at(Object(yt.h)());t.world.maxChunksPendingCreation=1/0,t.ents.createComponent({name:"inventory",state:{items:{},selected:0,tempslot:{},armor:{},crafting:{}}}),Object(yt.j)(t),t.ents.getPhysics(t.playerEntity).body.airDrag=9999,Object(xt.a)(t),Object(Tt.b)(t),Object(Ct.c)(t),jt(t),zt(t),Object(Lt.f)(t);let n=0;t.on("beforeRender",async()=>{yt.i.ingame||(n++,t.camera.heading=n/2e3,t.camera.pitch=0)}),document.addEventListener("pointerlockchange",()=>{document.pointerLockElement==t.container.canvas||r.isMobile?(t.ignorePointerLock=!0,t.ents.getState(t.playerEntity,"receivesInputs").ignore=!1):(t.ignorePointerLock=!1,t.ents.getState(t.playerEntity,"receivesInputs").ignore=!0)},!1),window.onerror=function(e,t,n,r,i){alert(e+"\nPlease report this error at: https://github.com/VoxelSrv/voxelsrv/issues")},window.connect=e=>{Object(_t.a)(t,e)},window.singleplayerTest=()=>{const e={name:"Singleplayer World",ip:"Internal",motd:"",protocol:yt.b,software:"VoxelSrv",featured:!0,icon:"voxelsrv",type:0,players:{max:1,online:0},useProxy:!1};Object(_t.c)(t,function(){const e=new $t.EventEmitter,t=new $t.EventEmitter,n=new Ut.b(t,e),r=new Worker("./server.js");return r.onmessage=({type:e,data:n})=>{t.emit(e,n)},e.on("packet",(e,t)=>{r.postMessage({type:e,data:t})}),n}(),e)},window.forceplay=()=>{Object(yt.k)({ingame:!0})},setTimeout(()=>{if(r.isMobile){!function(e){console.log("Using mobile controls"),Object(xt.d)(2),Object(xt.e)(2);let t=0,n=0,r=!1,i=null,o=null,a=[0,0];e.container.canvas.ontouchstart=function(s){a=[s.clientX,s.clientY],s.target==e.container.canvas&&(s.preventDefault(),null!=i&&(clearInterval(i),clearInterval(o)),r=!0,n=(new Date).getTime()/1e3,i=setInterval((function(){t=(new Date).getTime()/1e3-n}),2),o=setInterval((function(){t>.7&&e.inputs.down.emit("fire")}),400))},e.container.canvas.ontouchmove=function(e){e.preventDefault();let t=Math.abs(a[0]-e.targetTouches[0].clientX),r=Math.abs(a[1]-e.targetTouches[0].clientY);(t>3||r>3)&&(n=(new Date).getTime()/1e3+.5),a=[e.targetTouches[0].clientX,e.targetTouches[0].clientY]},e.container.canvas.ontouchend=function(n){n.target==e.container.canvas&&(n.preventDefault(),0<=t&&t<.7&&e.inputs.down.emit("alt-fire"),null!=i&&(clearInterval(i),clearInterval(o)),r=!1,t=0)},e.container.canvas.ontouchcancel=function(n){n.target==e.container.canvas&&(n.preventDefault(),null!=i&&(clearInterval(i),clearInterval(o)),r=!1,t=0)};const s=document.createElement("div");s.id="game_mobile_controls",document.body.appendChild(s);let u=null,l={x:0,y:0};var c=document.createElement("div");function f(t,n){t=Math.round(t/50),0==(n=Math.round(n/50))?(e.inputs.state.forward=!1,e.inputs.state.backward=!1):n>0?(e.inputs.state.forward=!1,e.inputs.state.backward=!0):n<0&&(e.inputs.state.forward=!0,e.inputs.state.backward=!1),0==t?(e.inputs.state.left=!1,e.inputs.state.right=!1):t>0?(e.inputs.state.left=!1,e.inputs.state.right=!0):t<0&&(e.inputs.state.left=!0,e.inputs.state.right=!1)}c.id="game_mobile_joystick",c.ontouchstart=function(e){e.target==c&&(e.preventDefault(),c.style.transition="0s",u=(e.changedTouches,{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}))},c.ontouchmove=function(e){if(e.target!=c)return;if(null===u)return;e.preventDefault();const t=e.targetTouches[0].clientX-u.x,n=e.targetTouches[0].clientY-u.y,r=Math.atan2(n,t),i=Math.min(50,Math.hypot(t,n)),o=i*Math.cos(r),a=i*Math.sin(r);c.style.transform="translate("+(o+16)+"px, "+(a+16)+"px)",l={x:o,y:a},f(o,a)},c.ontouchend=function(e){e.target==c&&(e.preventDefault(),null!==u&&(c.style.transition=".1s",c.style.transform="translate(16px, 16px)",u=null,l={x:0,y:0},f(0,0)))},s.appendChild(c);var h=document.createElement("div");h.id="game_mobile_jump",h.ontouchstart=function(){e.inputs.state.jump=!0},h.ontouchend=function(){e.inputs.state.jump=!1},h.ontouchcancel=function(){e.inputs.state.jump=!1},document.body.appendChild(h);var d=document.createElement("div");d.id="game_mobile_topbuttons",document.body.appendChild(d);var p=document.createElement("div");p.id="game_mobile_chat",p.innerHTML="",p.ontouchstart=function(t){t.preventDefault(),e.inputs.down.emit("chat")},d.appendChild(p);var m=document.createElement("div");m.id="game_mobile_menu",m.ontouchstart=function(t){t.preventDefault(),e.inputs.down.emit("menu")},d.appendChild(m)}(t);const e=document.createElement("link");e.rel="stylesheet",e.href="mobile.css",document.head.appendChild(e),document.documentElement.addEventListener("click",(function(){document.fullscreenElement||(document.documentElement.requestFullscreen(),screen.orientation.lock("landscape"))}))}r.isFirefox&&Bt();const e=new URLSearchParams(window.location.search);e.get("server")?Object(_t.a)(t,e.get("server")):setTimeout(()=>{Object(It.a)(t)},50)},1e3)})},,function(e,t,n){"use strict";var r=n(129),i=n(261);var o=function(e){"function"==typeof e?e():e&&"function"==typeof e.unsubscribe&&e.unsubscribe()};t.a=function(e){const t=new i.a;let n,a=0;return new r.a(r=>{n||(n=e.subscribe(t));const i=t.subscribe(r);return a++,()=>{a--,i.unsubscribe(),0===a&&(o(n),n=void 0)}})}}]);